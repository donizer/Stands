var Xb=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var mk=Xb((yk,vg)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Qb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Ua={},qb={get exports(){return Ua},set exports(t){Ua=t}},rh={},bt={},Kb={get exports(){return bt},set exports(t){bt=t}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=Symbol.for("react.element"),Zb=Symbol.for("react.portal"),Jb=Symbol.for("react.fragment"),eT=Symbol.for("react.strict_mode"),tT=Symbol.for("react.profiler"),rT=Symbol.for("react.provider"),nT=Symbol.for("react.context"),iT=Symbol.for("react.forward_ref"),sT=Symbol.for("react.suspense"),oT=Symbol.for("react.memo"),aT=Symbol.for("react.lazy"),xy=Symbol.iterator;function lT(t){return t===null||typeof t!="object"?null:(t=xy&&t[xy]||t["@@iterator"],typeof t=="function"?t:null)}var X1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y1=Object.assign,Q1={};function Mo(t,e,r){this.props=t,this.context=e,this.refs=Q1,this.updater=r||X1}Mo.prototype.isReactComponent={};Mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function q1(){}q1.prototype=Mo.prototype;function Tm(t,e,r){this.props=t,this.context=e,this.refs=Q1,this.updater=r||X1}var Em=Tm.prototype=new q1;Em.constructor=Tm;Y1(Em,Mo.prototype);Em.isPureReactComponent=!0;var wy=Array.isArray,K1=Object.prototype.hasOwnProperty,Cm={current:null},Z1={key:!0,ref:!0,__self:!0,__source:!0};function J1(t,e,r){var n,i={},s=null,l=null;if(e!=null)for(n in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(s=""+e.key),e)K1.call(e,n)&&!Z1.hasOwnProperty(n)&&(i[n]=e[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(n in u=t.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:vl,type:t,key:s,ref:l,props:i,_owner:Cm.current}}function uT(t,e){return{$$typeof:vl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Im(t){return typeof t=="object"&&t!==null&&t.$$typeof===vl}function cT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Sy=/\/+/g;function Qd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cT(""+t.key):e.toString(36)}function tc(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case vl:case Zb:l=!0}}if(l)return l=t,i=i(l),t=n===""?"."+Qd(l,0):n,wy(i)?(r="",t!=null&&(r=t.replace(Sy,"$&/")+"/"),tc(i,e,r,"",function(d){return d})):i!=null&&(Im(i)&&(i=uT(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Sy,"$&/")+"/")+t)),e.push(i)),1;if(l=0,n=n===""?".":n+":",wy(t))for(var u=0;u<t.length;u++){s=t[u];var c=n+Qd(s,u);l+=tc(s,e,r,c,i)}else if(c=lT(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=n+Qd(s,u++),l+=tc(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function mu(t,e,r){if(t==null)return t;var n=[],i=0;return tc(t,n,"","",function(s){return e.call(r,s,i++)}),n}function hT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wt={current:null},rc={transition:null},dT={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:rc,ReactCurrentOwner:Cm};be.Children={map:mu,forEach:function(t,e,r){mu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return mu(t,function(){e++}),e},toArray:function(t){return mu(t,function(e){return e})||[]},only:function(t){if(!Im(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=Mo;be.Fragment=Jb;be.Profiler=tT;be.PureComponent=Tm;be.StrictMode=eT;be.Suspense=sT;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dT;be.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Y1({},t.props),i=t.key,s=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,l=Cm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)K1.call(e,c)&&!Z1.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];n.children=u}return{$$typeof:vl,type:t.type,key:i,ref:s,props:n,_owner:l}};be.createContext=function(t){return t={$$typeof:nT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rT,_context:t},t.Consumer=t};be.createElement=J1;be.createFactory=function(t){var e=J1.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:iT,render:t}};be.isValidElement=Im;be.lazy=function(t){return{$$typeof:aT,_payload:{_status:-1,_result:t},_init:hT}};be.memo=function(t,e){return{$$typeof:oT,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=rc.transition;rc.transition={};try{t()}finally{rc.transition=e}};be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};be.useCallback=function(t,e){return Wt.current.useCallback(t,e)};be.useContext=function(t){return Wt.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return Wt.current.useDeferredValue(t)};be.useEffect=function(t,e){return Wt.current.useEffect(t,e)};be.useId=function(){return Wt.current.useId()};be.useImperativeHandle=function(t,e,r){return Wt.current.useImperativeHandle(t,e,r)};be.useInsertionEffect=function(t,e){return Wt.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return Wt.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return Wt.current.useMemo(t,e)};be.useReducer=function(t,e,r){return Wt.current.useReducer(t,e,r)};be.useRef=function(t){return Wt.current.useRef(t)};be.useState=function(t){return Wt.current.useState(t)};be.useSyncExternalStore=function(t,e,r){return Wt.current.useSyncExternalStore(t,e,r)};be.useTransition=function(){return Wt.current.useTransition()};be.version="18.2.0";(function(t){t.exports=be})(Kb);const En=Yb(bt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT=bt,pT=Symbol.for("react.element"),mT=Symbol.for("react.fragment"),gT=Object.prototype.hasOwnProperty,yT=fT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vT={key:!0,ref:!0,__self:!0,__source:!0};function e_(t,e,r){var n,i={},s=null,l=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(l=e.ref);for(n in e)gT.call(e,n)&&!vT.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:pT,type:t,key:s,ref:l,props:i,_owner:yT.current}}rh.Fragment=mT;rh.jsx=e_;rh.jsxs=e_;(function(t){t.exports=rh})(qb);const t_=Ua.Fragment,er=Ua.jsx,za=Ua.jsxs;var Kf={},Zf={},_T={get exports(){return Zf},set exports(t){Zf=t}},yr={},Jf={},xT={get exports(){return Jf},set exports(t){Jf=t}},r_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,G){var k=P.length;P.push(G);e:for(;0<k;){var X=k-1>>>1,J=P[X];if(0<i(J,G))P[X]=G,P[k]=J,k=X;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var G=P[0],k=P.pop();if(k!==G){P[0]=k;e:for(var X=0,J=P.length,ge=J>>>1;X<ge;){var pe=2*(X+1)-1,Ne=P[pe],xe=pe+1,ke=P[xe];if(0>i(Ne,k))xe<J&&0>i(ke,Ne)?(P[X]=ke,P[xe]=k,X=xe):(P[X]=Ne,P[pe]=k,X=pe);else if(xe<J&&0>i(ke,k))P[X]=ke,P[xe]=k,X=xe;else break e}}return G}function i(P,G){var k=P.sortIndex-G.sortIndex;return k!==0?k:P.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],d=[],p=1,y=null,g=3,_=!1,x=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var G=r(d);G!==null;){if(G.callback===null)n(d);else if(G.startTime<=P)n(d),G.sortIndex=G.expirationTime,e(c,G);else break;G=r(d)}}function I(P){if(T=!1,w(P),!x)if(r(c)!==null)x=!0,ye(M);else{var G=r(d);G!==null&&ee(I,G.startTime-P)}}function M(P,G){x=!1,T&&(T=!1,b(L),L=-1),_=!0;var k=g;try{for(w(G),y=r(c);y!==null&&(!(y.expirationTime>G)||P&&!q());){var X=y.callback;if(typeof X=="function"){y.callback=null,g=y.priorityLevel;var J=X(y.expirationTime<=G);G=t.unstable_now(),typeof J=="function"?y.callback=J:y===r(c)&&n(c),w(G)}else n(c);y=r(c)}if(y!==null)var ge=!0;else{var pe=r(d);pe!==null&&ee(I,pe.startTime-G),ge=!1}return ge}finally{y=null,g=k,_=!1}}var O=!1,F=null,L=-1,K=5,Q=-1;function q(){return!(t.unstable_now()-Q<K)}function re(){if(F!==null){var P=t.unstable_now();Q=P;var G=!0;try{G=F(!0,P)}finally{G?H():(O=!1,F=null)}}else O=!1}var H;if(typeof S=="function")H=function(){S(re)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,me=V.port2;V.port1.onmessage=re,H=function(){me.postMessage(null)}}else H=function(){C(re,0)};function ye(P){F=P,O||(O=!0,H())}function ee(P,G){L=C(function(){P(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){x||_||(x=!0,ye(M))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(P){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var k=g;g=G;try{return P()}finally{g=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,G){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var k=g;g=P;try{return G()}finally{g=k}},t.unstable_scheduleCallback=function(P,G,k){var X=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?X+k:X):k=X,P){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=k+J,P={id:p++,callback:G,priorityLevel:P,startTime:k,expirationTime:J,sortIndex:-1},k>X?(P.sortIndex=k,e(d,P),r(c)===null&&P===r(d)&&(T?(b(L),L=-1):T=!0,ee(I,k-X))):(P.sortIndex=J,e(c,P),x||_||(x=!0,ye(M))),P},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(P){var G=g;return function(){var k=g;g=G;try{return P.apply(this,arguments)}finally{g=k}}}})(r_);(function(t){t.exports=r_})(xT);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_=bt,gr=Jf;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i_=new Set,ja={};function xs(t,e){bo(t,e),bo(t+"Capture",e)}function bo(t,e){for(ja[t]=e,t=0;t<e.length;t++)i_.add(e[t])}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ep=Object.prototype.hasOwnProperty,wT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,by={},Ty={};function ST(t){return ep.call(Ty,t)?!0:ep.call(by,t)?!1:wT.test(t)?Ty[t]=!0:(by[t]=!0,!1)}function bT(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function TT(t,e,r,n){if(e===null||typeof e>"u"||bT(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,r,n,i,s,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=l}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Am=/[\-:]([a-z])/g;function Rm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Am,Rm);Pt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Am,Rm);Pt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Am,Rm);Pt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function km(t,e,r,n){var i=Pt.hasOwnProperty(e)?Pt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(TT(e,r,i,n)&&(r=null),n||i===null?ST(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Jn=n_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gu=Symbol.for("react.element"),Ys=Symbol.for("react.portal"),Qs=Symbol.for("react.fragment"),Pm=Symbol.for("react.strict_mode"),tp=Symbol.for("react.profiler"),s_=Symbol.for("react.provider"),o_=Symbol.for("react.context"),Nm=Symbol.for("react.forward_ref"),rp=Symbol.for("react.suspense"),np=Symbol.for("react.suspense_list"),Mm=Symbol.for("react.memo"),mi=Symbol.for("react.lazy"),a_=Symbol.for("react.offscreen"),Ey=Symbol.iterator;function ia(t){return t===null||typeof t!="object"?null:(t=Ey&&t[Ey]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,qd;function _a(t){if(qd===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);qd=e&&e[1]||""}return`
`+qd+t}var Kd=!1;function Zd(t,e){if(!t||Kd)return"";Kd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=n.stack.split(`
`),l=i.length-1,u=s.length-1;1<=l&&0<=u&&i[l]!==s[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==s[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==s[u]){var c=`
`+i[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=u);break}}}finally{Kd=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?_a(t):""}function ET(t){switch(t.tag){case 5:return _a(t.type);case 16:return _a("Lazy");case 13:return _a("Suspense");case 19:return _a("SuspenseList");case 0:case 2:case 15:return t=Zd(t.type,!1),t;case 11:return t=Zd(t.type.render,!1),t;case 1:return t=Zd(t.type,!0),t;default:return""}}function ip(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qs:return"Fragment";case Ys:return"Portal";case tp:return"Profiler";case Pm:return"StrictMode";case rp:return"Suspense";case np:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case o_:return(t.displayName||"Context")+".Consumer";case s_:return(t._context.displayName||"Context")+".Provider";case Nm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mm:return e=t.displayName||null,e!==null?e:ip(t.type)||"Memo";case mi:e=t._payload,t=t._init;try{return ip(t(e))}catch{}}return null}function CT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ip(e);case 8:return e===Pm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function l_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IT(t){var e=l_(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,s.call(this,l)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yu(t){t._valueTracker||(t._valueTracker=IT(t))}function u_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=l_(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function _c(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sp(t,e){var r=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Cy(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Pi(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function c_(t,e){e=e.checked,e!=null&&km(t,"checked",e,!1)}function op(t,e){c_(t,e);var r=Pi(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ap(t,e.type,r):e.hasOwnProperty("defaultValue")&&ap(t,e.type,Pi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Iy(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ap(t,e,r){(e!=="number"||_c(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var xa=Array.isArray;function ho(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Pi(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function lp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ay(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(W(92));if(xa(r)){if(1<r.length)throw Error(W(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Pi(r)}}function h_(t,e){var r=Pi(e.value),n=Pi(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Ry(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function d_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function up(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?d_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vu,f_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vu=vu||document.createElement("div"),vu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ga(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AT=["Webkit","ms","Moz","O"];Object.keys(Ia).forEach(function(t){AT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ia[e]=Ia[t]})});function p_(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ia.hasOwnProperty(t)&&Ia[t]?(""+e).trim():e+"px"}function m_(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=p_(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var RT=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cp(t,e){if(e){if(RT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function hp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dp=null;function Fm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fp=null,fo=null,po=null;function ky(t){if(t=wl(t)){if(typeof fp!="function")throw Error(W(280));var e=t.stateNode;e&&(e=ah(e),fp(t.stateNode,t.type,e))}}function g_(t){fo?po?po.push(t):po=[t]:fo=t}function y_(){if(fo){var t=fo,e=po;if(po=fo=null,ky(t),e)for(t=0;t<e.length;t++)ky(e[t])}}function v_(t,e){return t(e)}function __(){}var Jd=!1;function x_(t,e,r){if(Jd)return t(e,r);Jd=!0;try{return v_(t,e,r)}finally{Jd=!1,(fo!==null||po!==null)&&(__(),y_())}}function $a(t,e){var r=t.stateNode;if(r===null)return null;var n=ah(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(W(231,e,typeof r));return r}var pp=!1;if(Yn)try{var sa={};Object.defineProperty(sa,"passive",{get:function(){pp=!0}}),window.addEventListener("test",sa,sa),window.removeEventListener("test",sa,sa)}catch{pp=!1}function kT(t,e,r,n,i,s,l,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(p){this.onError(p)}}var Aa=!1,xc=null,wc=!1,mp=null,PT={onError:function(t){Aa=!0,xc=t}};function NT(t,e,r,n,i,s,l,u,c){Aa=!1,xc=null,kT.apply(PT,arguments)}function MT(t,e,r,n,i,s,l,u,c){if(NT.apply(this,arguments),Aa){if(Aa){var d=xc;Aa=!1,xc=null}else throw Error(W(198));wc||(wc=!0,mp=d)}}function ws(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function w_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Py(t){if(ws(t)!==t)throw Error(W(188))}function FT(t){var e=t.alternate;if(!e){if(e=ws(t),e===null)throw Error(W(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Py(i),t;if(s===n)return Py(i),e;s=s.sibling}throw Error(W(188))}if(r.return!==n.return)r=i,n=s;else{for(var l=!1,u=i.child;u;){if(u===r){l=!0,r=i,n=s;break}if(u===n){l=!0,n=i,r=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===r){l=!0,r=s,n=i;break}if(u===n){l=!0,n=s,r=i;break}u=u.sibling}if(!l)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?t:e}function S_(t){return t=FT(t),t!==null?b_(t):null}function b_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=b_(t);if(e!==null)return e;t=t.sibling}return null}var T_=gr.unstable_scheduleCallback,Ny=gr.unstable_cancelCallback,LT=gr.unstable_shouldYield,OT=gr.unstable_requestPaint,lt=gr.unstable_now,BT=gr.unstable_getCurrentPriorityLevel,Lm=gr.unstable_ImmediatePriority,E_=gr.unstable_UserBlockingPriority,Sc=gr.unstable_NormalPriority,DT=gr.unstable_LowPriority,C_=gr.unstable_IdlePriority,nh=null,Cn=null;function UT(t){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(nh,t,void 0,(t.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:GT,zT=Math.log,jT=Math.LN2;function GT(t){return t>>>=0,t===0?32:31-(zT(t)/jT|0)|0}var _u=64,xu=4194304;function wa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bc(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,l=r&268435455;if(l!==0){var u=l&~i;u!==0?n=wa(u):(s&=l,s!==0&&(n=wa(s)))}else l=r&~i,l!==0?n=wa(l):s!==0&&(n=wa(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-tn(e),i=1<<r,n|=t[r],e&=~i;return n}function $T(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HT(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var l=31-tn(s),u=1<<l,c=i[l];c===-1?(!(u&r)||u&n)&&(i[l]=$T(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function gp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function I_(){var t=_u;return _u<<=1,!(_u&4194240)&&(_u=64),t}function ef(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function _l(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tn(e),t[e]=r}function VT(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-tn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Om(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-tn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Le=0;function A_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var R_,Bm,k_,P_,N_,yp=!1,wu=[],Si=null,bi=null,Ti=null,Ha=new Map,Va=new Map,yi=[],WT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function My(t,e){switch(t){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Ha.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Va.delete(e.pointerId)}}function oa(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=wl(e),e!==null&&Bm(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function XT(t,e,r,n,i){switch(e){case"focusin":return Si=oa(Si,t,e,r,n,i),!0;case"dragenter":return bi=oa(bi,t,e,r,n,i),!0;case"mouseover":return Ti=oa(Ti,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Ha.set(s,oa(Ha.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Va.set(s,oa(Va.get(s)||null,t,e,r,n,i)),!0}return!1}function M_(t){var e=as(t.target);if(e!==null){var r=ws(e);if(r!==null){if(e=r.tag,e===13){if(e=w_(r),e!==null){t.blockedOn=e,N_(t.priority,function(){k_(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=vp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);dp=n,r.target.dispatchEvent(n),dp=null}else return e=wl(r),e!==null&&Bm(e),t.blockedOn=r,!1;e.shift()}return!0}function Fy(t,e,r){nc(t)&&r.delete(e)}function YT(){yp=!1,Si!==null&&nc(Si)&&(Si=null),bi!==null&&nc(bi)&&(bi=null),Ti!==null&&nc(Ti)&&(Ti=null),Ha.forEach(Fy),Va.forEach(Fy)}function aa(t,e){t.blockedOn===e&&(t.blockedOn=null,yp||(yp=!0,gr.unstable_scheduleCallback(gr.unstable_NormalPriority,YT)))}function Wa(t){function e(i){return aa(i,t)}if(0<wu.length){aa(wu[0],t);for(var r=1;r<wu.length;r++){var n=wu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Si!==null&&aa(Si,t),bi!==null&&aa(bi,t),Ti!==null&&aa(Ti,t),Ha.forEach(e),Va.forEach(e),r=0;r<yi.length;r++)n=yi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<yi.length&&(r=yi[0],r.blockedOn===null);)M_(r),r.blockedOn===null&&yi.shift()}var mo=Jn.ReactCurrentBatchConfig,Tc=!0;function QT(t,e,r,n){var i=Le,s=mo.transition;mo.transition=null;try{Le=1,Dm(t,e,r,n)}finally{Le=i,mo.transition=s}}function qT(t,e,r,n){var i=Le,s=mo.transition;mo.transition=null;try{Le=4,Dm(t,e,r,n)}finally{Le=i,mo.transition=s}}function Dm(t,e,r,n){if(Tc){var i=vp(t,e,r,n);if(i===null)hf(t,e,n,Ec,r),My(t,n);else if(XT(i,t,e,r,n))n.stopPropagation();else if(My(t,n),e&4&&-1<WT.indexOf(t)){for(;i!==null;){var s=wl(i);if(s!==null&&R_(s),s=vp(t,e,r,n),s===null&&hf(t,e,n,Ec,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else hf(t,e,n,null,r)}}var Ec=null;function vp(t,e,r,n){if(Ec=null,t=Fm(n),t=as(t),t!==null)if(e=ws(t),e===null)t=null;else if(r=e.tag,r===13){if(t=w_(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ec=t,null}function F_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BT()){case Lm:return 1;case E_:return 4;case Sc:case DT:return 16;case C_:return 536870912;default:return 16}default:return 16}}var _i=null,Um=null,ic=null;function L_(){if(ic)return ic;var t,e=Um,r=e.length,n,i="value"in _i?_i.value:_i.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var l=r-t;for(n=1;n<=l&&e[r-n]===i[s-n];n++);return ic=i.slice(t,1<n?1-n:void 0)}function sc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Su(){return!0}function Ly(){return!1}function vr(t){function e(r,n,i,s,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(r=t[u],this[u]=r?r(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Su:Ly,this.isPropagationStopped=Ly,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Su)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Su)},persist:function(){},isPersistent:Su}),e}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zm=vr(Fo),xl=Je({},Fo,{view:0,detail:0}),KT=vr(xl),tf,rf,la,ih=Je({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==la&&(la&&t.type==="mousemove"?(tf=t.screenX-la.screenX,rf=t.screenY-la.screenY):rf=tf=0,la=t),tf)},movementY:function(t){return"movementY"in t?t.movementY:rf}}),Oy=vr(ih),ZT=Je({},ih,{dataTransfer:0}),JT=vr(ZT),eE=Je({},xl,{relatedTarget:0}),nf=vr(eE),tE=Je({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),rE=vr(tE),nE=Je({},Fo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iE=vr(nE),sE=Je({},Fo,{data:0}),By=vr(sE),oE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lE[t])?!!e[t]:!1}function jm(){return uE}var cE=Je({},xl,{key:function(t){if(t.key){var e=oE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jm,charCode:function(t){return t.type==="keypress"?sc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hE=vr(cE),dE=Je({},ih,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dy=vr(dE),fE=Je({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jm}),pE=vr(fE),mE=Je({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),gE=vr(mE),yE=Je({},ih,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vE=vr(yE),_E=[9,13,27,32],Gm=Yn&&"CompositionEvent"in window,Ra=null;Yn&&"documentMode"in document&&(Ra=document.documentMode);var xE=Yn&&"TextEvent"in window&&!Ra,O_=Yn&&(!Gm||Ra&&8<Ra&&11>=Ra),Uy=String.fromCharCode(32),zy=!1;function B_(t,e){switch(t){case"keyup":return _E.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qs=!1;function wE(t,e){switch(t){case"compositionend":return D_(e);case"keypress":return e.which!==32?null:(zy=!0,Uy);case"textInput":return t=e.data,t===Uy&&zy?null:t;default:return null}}function SE(t,e){if(qs)return t==="compositionend"||!Gm&&B_(t,e)?(t=L_(),ic=Um=_i=null,qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return O_&&e.locale!=="ko"?null:e.data;default:return null}}var bE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bE[t.type]:e==="textarea"}function U_(t,e,r,n){g_(n),e=Cc(e,"onChange"),0<e.length&&(r=new zm("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ka=null,Xa=null;function TE(t){q_(t,0)}function sh(t){var e=Js(t);if(u_(e))return t}function EE(t,e){if(t==="change")return e}var z_=!1;if(Yn){var sf;if(Yn){var of="oninput"in document;if(!of){var Gy=document.createElement("div");Gy.setAttribute("oninput","return;"),of=typeof Gy.oninput=="function"}sf=of}else sf=!1;z_=sf&&(!document.documentMode||9<document.documentMode)}function $y(){ka&&(ka.detachEvent("onpropertychange",j_),Xa=ka=null)}function j_(t){if(t.propertyName==="value"&&sh(Xa)){var e=[];U_(e,Xa,t,Fm(t)),x_(TE,e)}}function CE(t,e,r){t==="focusin"?($y(),ka=e,Xa=r,ka.attachEvent("onpropertychange",j_)):t==="focusout"&&$y()}function IE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sh(Xa)}function AE(t,e){if(t==="click")return sh(e)}function RE(t,e){if(t==="input"||t==="change")return sh(e)}function kE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ln=typeof Object.is=="function"?Object.is:kE;function Ya(t,e){if(ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ep.call(e,i)||!ln(t[i],e[i]))return!1}return!0}function Hy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vy(t,e){var r=Hy(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Hy(r)}}function G_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?G_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $_(){for(var t=window,e=_c();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=_c(t.document)}return e}function $m(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PE(t){var e=$_(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&G_(r.ownerDocument.documentElement,r)){if(n!==null&&$m(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Vy(r,s);var l=Vy(r,n);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NE=Yn&&"documentMode"in document&&11>=document.documentMode,Ks=null,_p=null,Pa=null,xp=!1;function Wy(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xp||Ks==null||Ks!==_c(n)||(n=Ks,"selectionStart"in n&&$m(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pa&&Ya(Pa,n)||(Pa=n,n=Cc(_p,"onSelect"),0<n.length&&(e=new zm("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ks)))}function bu(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Zs={animationend:bu("Animation","AnimationEnd"),animationiteration:bu("Animation","AnimationIteration"),animationstart:bu("Animation","AnimationStart"),transitionend:bu("Transition","TransitionEnd")},af={},H_={};Yn&&(H_=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function oh(t){if(af[t])return af[t];if(!Zs[t])return t;var e=Zs[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in H_)return af[t]=e[r];return t}var V_=oh("animationend"),W_=oh("animationiteration"),X_=oh("animationstart"),Y_=oh("transitionend"),Q_=new Map,Xy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oi(t,e){Q_.set(t,e),xs(e,[t])}for(var lf=0;lf<Xy.length;lf++){var uf=Xy[lf],ME=uf.toLowerCase(),FE=uf[0].toUpperCase()+uf.slice(1);Oi(ME,"on"+FE)}Oi(V_,"onAnimationEnd");Oi(W_,"onAnimationIteration");Oi(X_,"onAnimationStart");Oi("dblclick","onDoubleClick");Oi("focusin","onFocus");Oi("focusout","onBlur");Oi(Y_,"onTransitionEnd");bo("onMouseEnter",["mouseout","mouseover"]);bo("onMouseLeave",["mouseout","mouseover"]);bo("onPointerEnter",["pointerout","pointerover"]);bo("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sa));function Yy(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,MT(n,e,void 0,t),t.currentTarget=null}function q_(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var l=n.length-1;0<=l;l--){var u=n[l],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;Yy(i,u,d),s=c}else for(l=0;l<n.length;l++){if(u=n[l],c=u.instance,d=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;Yy(i,u,d),s=c}}}if(wc)throw t=mp,wc=!1,mp=null,t}function ze(t,e){var r=e[Ep];r===void 0&&(r=e[Ep]=new Set);var n=t+"__bubble";r.has(n)||(K_(e,t,2,!1),r.add(n))}function cf(t,e,r){var n=0;e&&(n|=4),K_(r,t,n,e)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function Qa(t){if(!t[Tu]){t[Tu]=!0,i_.forEach(function(r){r!=="selectionchange"&&(LE.has(r)||cf(r,!1,t),cf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tu]||(e[Tu]=!0,cf("selectionchange",!1,e))}}function K_(t,e,r,n){switch(F_(e)){case 1:var i=QT;break;case 4:i=qT;break;default:i=Dm}r=i.bind(null,e,r,t),i=void 0,!pp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function hf(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;u!==null;){if(l=as(u),l===null)return;if(c=l.tag,c===5||c===6){n=s=l;continue e}u=u.parentNode}}n=n.return}x_(function(){var d=s,p=Fm(r),y=[];e:{var g=Q_.get(t);if(g!==void 0){var _=zm,x=t;switch(t){case"keypress":if(sc(r)===0)break e;case"keydown":case"keyup":_=hE;break;case"focusin":x="focus",_=nf;break;case"focusout":x="blur",_=nf;break;case"beforeblur":case"afterblur":_=nf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Oy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=JT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=pE;break;case V_:case W_:case X_:_=rE;break;case Y_:_=gE;break;case"scroll":_=KT;break;case"wheel":_=vE;break;case"copy":case"cut":case"paste":_=iE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Dy}var T=(e&4)!==0,C=!T&&t==="scroll",b=T?g!==null?g+"Capture":null:g;T=[];for(var S=d,w;S!==null;){w=S;var I=w.stateNode;if(w.tag===5&&I!==null&&(w=I,b!==null&&(I=$a(S,b),I!=null&&T.push(qa(S,I,w)))),C)break;S=S.return}0<T.length&&(g=new _(g,x,null,r,p),y.push({event:g,listeners:T}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",g&&r!==dp&&(x=r.relatedTarget||r.fromElement)&&(as(x)||x[Qn]))break e;if((_||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,_?(x=r.relatedTarget||r.toElement,_=d,x=x?as(x):null,x!==null&&(C=ws(x),x!==C||x.tag!==5&&x.tag!==6)&&(x=null)):(_=null,x=d),_!==x)){if(T=Oy,I="onMouseLeave",b="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(T=Dy,I="onPointerLeave",b="onPointerEnter",S="pointer"),C=_==null?g:Js(_),w=x==null?g:Js(x),g=new T(I,S+"leave",_,r,p),g.target=C,g.relatedTarget=w,I=null,as(p)===d&&(T=new T(b,S+"enter",x,r,p),T.target=w,T.relatedTarget=C,I=T),C=I,_&&x)t:{for(T=_,b=x,S=0,w=T;w;w=js(w))S++;for(w=0,I=b;I;I=js(I))w++;for(;0<S-w;)T=js(T),S--;for(;0<w-S;)b=js(b),w--;for(;S--;){if(T===b||b!==null&&T===b.alternate)break t;T=js(T),b=js(b)}T=null}else T=null;_!==null&&Qy(y,g,_,T,!1),x!==null&&C!==null&&Qy(y,C,x,T,!0)}}e:{if(g=d?Js(d):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var M=EE;else if(jy(g))if(z_)M=RE;else{M=IE;var O=CE}else(_=g.nodeName)&&_.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(M=AE);if(M&&(M=M(t,d))){U_(y,M,r,p);break e}O&&O(t,g,d),t==="focusout"&&(O=g._wrapperState)&&O.controlled&&g.type==="number"&&ap(g,"number",g.value)}switch(O=d?Js(d):window,t){case"focusin":(jy(O)||O.contentEditable==="true")&&(Ks=O,_p=d,Pa=null);break;case"focusout":Pa=_p=Ks=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,Wy(y,r,p);break;case"selectionchange":if(NE)break;case"keydown":case"keyup":Wy(y,r,p)}var F;if(Gm)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else qs?B_(t,r)&&(L="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(O_&&r.locale!=="ko"&&(qs||L!=="onCompositionStart"?L==="onCompositionEnd"&&qs&&(F=L_()):(_i=p,Um="value"in _i?_i.value:_i.textContent,qs=!0)),O=Cc(d,L),0<O.length&&(L=new By(L,t,null,r,p),y.push({event:L,listeners:O}),F?L.data=F:(F=D_(r),F!==null&&(L.data=F)))),(F=xE?wE(t,r):SE(t,r))&&(d=Cc(d,"onBeforeInput"),0<d.length&&(p=new By("onBeforeInput","beforeinput",null,r,p),y.push({event:p,listeners:d}),p.data=F))}q_(y,e)})}function qa(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Cc(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$a(t,r),s!=null&&n.unshift(qa(t,s,i)),s=$a(t,e),s!=null&&n.push(qa(t,s,i))),t=t.return}return n}function js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qy(t,e,r,n,i){for(var s=e._reactName,l=[];r!==null&&r!==n;){var u=r,c=u.alternate,d=u.stateNode;if(c!==null&&c===n)break;u.tag===5&&d!==null&&(u=d,i?(c=$a(r,s),c!=null&&l.unshift(qa(r,c,u))):i||(c=$a(r,s),c!=null&&l.push(qa(r,c,u)))),r=r.return}l.length!==0&&t.push({event:e,listeners:l})}var OE=/\r\n?/g,BE=/\u0000|\uFFFD/g;function qy(t){return(typeof t=="string"?t:""+t).replace(OE,`
`).replace(BE,"")}function Eu(t,e,r){if(e=qy(e),qy(t)!==e&&r)throw Error(W(425))}function Ic(){}var wp=null,Sp=null;function bp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tp=typeof setTimeout=="function"?setTimeout:void 0,DE=typeof clearTimeout=="function"?clearTimeout:void 0,Ky=typeof Promise=="function"?Promise:void 0,UE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ky<"u"?function(t){return Ky.resolve(null).then(t).catch(zE)}:Tp;function zE(t){setTimeout(function(){throw t})}function df(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Wa(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Wa(e)}function Ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Lo=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Lo,Ka="__reactProps$"+Lo,Qn="__reactContainer$"+Lo,Ep="__reactEvents$"+Lo,jE="__reactListeners$"+Lo,GE="__reactHandles$"+Lo;function as(t){var e=t[Tn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Qn]||r[Tn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Zy(t);t!==null;){if(r=t[Tn])return r;t=Zy(t)}return e}t=r,r=t.parentNode}return null}function wl(t){return t=t[Tn]||t[Qn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function ah(t){return t[Ka]||null}var Cp=[],eo=-1;function Bi(t){return{current:t}}function Ge(t){0>eo||(t.current=Cp[eo],Cp[eo]=null,eo--)}function De(t,e){eo++,Cp[eo]=t.current,t.current=e}var Ni={},jt=Bi(Ni),rr=Bi(!1),fs=Ni;function To(t,e){var r=t.type.contextTypes;if(!r)return Ni;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function nr(t){return t=t.childContextTypes,t!=null}function Ac(){Ge(rr),Ge(jt)}function Jy(t,e,r){if(jt.current!==Ni)throw Error(W(168));De(jt,e),De(rr,r)}function Z_(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(W(108,CT(t)||"Unknown",i));return Je({},r,n)}function Rc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ni,fs=jt.current,De(jt,t),De(rr,rr.current),!0}function ev(t,e,r){var n=t.stateNode;if(!n)throw Error(W(169));r?(t=Z_(t,e,fs),n.__reactInternalMemoizedMergedChildContext=t,Ge(rr),Ge(jt),De(jt,t)):Ge(rr),De(rr,r)}var zn=null,lh=!1,ff=!1;function J_(t){zn===null?zn=[t]:zn.push(t)}function $E(t){lh=!0,J_(t)}function Di(){if(!ff&&zn!==null){ff=!0;var t=0,e=Le;try{var r=zn;for(Le=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}zn=null,lh=!1}catch(i){throw zn!==null&&(zn=zn.slice(t+1)),T_(Lm,Di),i}finally{Le=e,ff=!1}}return null}var to=[],ro=0,kc=null,Pc=0,Rr=[],kr=0,ps=null,jn=1,Gn="";function Ji(t,e){to[ro++]=Pc,to[ro++]=kc,kc=t,Pc=e}function ex(t,e,r){Rr[kr++]=jn,Rr[kr++]=Gn,Rr[kr++]=ps,ps=t;var n=jn;t=Gn;var i=32-tn(n)-1;n&=~(1<<i),r+=1;var s=32-tn(e)+i;if(30<s){var l=i-i%5;s=(n&(1<<l)-1).toString(32),n>>=l,i-=l,jn=1<<32-tn(e)+i|r<<i|n,Gn=s+t}else jn=1<<s|r<<i|n,Gn=t}function Hm(t){t.return!==null&&(Ji(t,1),ex(t,1,0))}function Vm(t){for(;t===kc;)kc=to[--ro],to[ro]=null,Pc=to[--ro],to[ro]=null;for(;t===ps;)ps=Rr[--kr],Rr[kr]=null,Gn=Rr[--kr],Rr[kr]=null,jn=Rr[--kr],Rr[kr]=null}var pr=null,fr=null,We=!1,Qr=null;function tx(t,e){var r=Pr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function tv(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pr=t,fr=Ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pr=t,fr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ps!==null?{id:jn,overflow:Gn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Pr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,pr=t,fr=null,!0):!1;default:return!1}}function Ip(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ap(t){if(We){var e=fr;if(e){var r=e;if(!tv(t,e)){if(Ip(t))throw Error(W(418));e=Ei(r.nextSibling);var n=pr;e&&tv(t,e)?tx(n,r):(t.flags=t.flags&-4097|2,We=!1,pr=t)}}else{if(Ip(t))throw Error(W(418));t.flags=t.flags&-4097|2,We=!1,pr=t}}}function rv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pr=t}function Cu(t){if(t!==pr)return!1;if(!We)return rv(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bp(t.type,t.memoizedProps)),e&&(e=fr)){if(Ip(t))throw rx(),Error(W(418));for(;e;)tx(t,e),e=Ei(e.nextSibling)}if(rv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){fr=Ei(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}fr=null}}else fr=pr?Ei(t.stateNode.nextSibling):null;return!0}function rx(){for(var t=fr;t;)t=Ei(t.nextSibling)}function Eo(){fr=pr=null,We=!1}function Wm(t){Qr===null?Qr=[t]:Qr.push(t)}var HE=Jn.ReactCurrentBatchConfig;function Wr(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Nc=Bi(null),Mc=null,no=null,Xm=null;function Ym(){Xm=no=Mc=null}function Qm(t){var e=Nc.current;Ge(Nc),t._currentValue=e}function Rp(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function go(t,e){Mc=t,Xm=no=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tr=!0),t.firstContext=null)}function Lr(t){var e=t._currentValue;if(Xm!==t)if(t={context:t,memoizedValue:e,next:null},no===null){if(Mc===null)throw Error(W(308));no=t,Mc.dependencies={lanes:0,firstContext:t}}else no=no.next=t;return e}var ls=null;function qm(t){ls===null?ls=[t]:ls.push(t)}function nx(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,qm(e)):(r.next=i.next,i.next=r),e.interleaved=r,qn(t,n)}function qn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var gi=!1;function Km(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ix(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ci(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ee&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,qn(t,r)}return i=n.interleaved,i===null?(e.next=e,qm(n)):(e.next=i.next,i.next=e),n.interleaved=e,qn(t,r)}function oc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Om(t,r)}}function nv(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=l:s=s.next=l,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Fc(t,e,r,n){var i=t.updateQueue;gi=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,d=c.next;c.next=null,l===null?s=d:l.next=d,l=c;var p=t.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==l&&(u===null?p.firstBaseUpdate=d:u.next=d,p.lastBaseUpdate=c))}if(s!==null){var y=i.baseState;l=0,p=d=c=null,u=s;do{var g=u.lane,_=u.eventTime;if((n&g)===g){p!==null&&(p=p.next={eventTime:_,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var x=t,T=u;switch(g=e,_=r,T.tag){case 1:if(x=T.payload,typeof x=="function"){y=x.call(_,y,g);break e}y=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=T.payload,g=typeof x=="function"?x.call(_,y,g):x,g==null)break e;y=Je({},y,g);break e;case 2:gi=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[u]:g.push(u))}else _={eventTime:_,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(d=p=_,c=y):p=p.next=_,l|=g;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;g=u,u=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(p===null&&(c=y),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);gs|=l,t.lanes=l,t.memoizedState=y}}function iv(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(W(191,i));i.call(n)}}}var sx=new n_.Component().refs;function kp(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Je({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var uh={isMounted:function(t){return(t=t._reactInternals)?ws(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Vt(),i=Ai(t),s=Vn(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ci(t,s,i),e!==null&&(rn(e,t,i,n),oc(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Vt(),i=Ai(t),s=Vn(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ci(t,s,i),e!==null&&(rn(e,t,i,n),oc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Vt(),n=Ai(t),i=Vn(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ci(t,i,n),e!==null&&(rn(e,t,n,r),oc(e,t,n))}};function sv(t,e,r,n,i,s,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,l):e.prototype&&e.prototype.isPureReactComponent?!Ya(r,n)||!Ya(i,s):!0}function ox(t,e,r){var n=!1,i=Ni,s=e.contextType;return typeof s=="object"&&s!==null?s=Lr(s):(i=nr(e)?fs:jt.current,n=e.contextTypes,s=(n=n!=null)?To(t,i):Ni),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ov(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&uh.enqueueReplaceState(e,e.state,null)}function Pp(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=sx,Km(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Lr(s):(s=nr(e)?fs:jt.current,i.context=To(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(kp(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uh.enqueueReplaceState(i,i.state,null),Fc(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ua(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(l){var u=i.refs;u===sx&&(u=i.refs={}),l===null?delete u[s]:u[s]=l},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,t))}return t}function Iu(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function av(t){var e=t._init;return e(t._payload)}function ax(t){function e(b,S){if(t){var w=b.deletions;w===null?(b.deletions=[S],b.flags|=16):w.push(S)}}function r(b,S){if(!t)return null;for(;S!==null;)e(b,S),S=S.sibling;return null}function n(b,S){for(b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function i(b,S){return b=Ri(b,S),b.index=0,b.sibling=null,b}function s(b,S,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<S?(b.flags|=2,S):w):(b.flags|=2,S)):(b.flags|=1048576,S)}function l(b){return t&&b.alternate===null&&(b.flags|=2),b}function u(b,S,w,I){return S===null||S.tag!==6?(S=xf(w,b.mode,I),S.return=b,S):(S=i(S,w),S.return=b,S)}function c(b,S,w,I){var M=w.type;return M===Qs?p(b,S,w.props.children,I,w.key):S!==null&&(S.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===mi&&av(M)===S.type)?(I=i(S,w.props),I.ref=ua(b,S,w),I.return=b,I):(I=dc(w.type,w.key,w.props,null,b.mode,I),I.ref=ua(b,S,w),I.return=b,I)}function d(b,S,w,I){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=wf(w,b.mode,I),S.return=b,S):(S=i(S,w.children||[]),S.return=b,S)}function p(b,S,w,I,M){return S===null||S.tag!==7?(S=ds(w,b.mode,I,M),S.return=b,S):(S=i(S,w),S.return=b,S)}function y(b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return S=xf(""+S,b.mode,w),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gu:return w=dc(S.type,S.key,S.props,null,b.mode,w),w.ref=ua(b,null,S),w.return=b,w;case Ys:return S=wf(S,b.mode,w),S.return=b,S;case mi:var I=S._init;return y(b,I(S._payload),w)}if(xa(S)||ia(S))return S=ds(S,b.mode,w,null),S.return=b,S;Iu(b,S)}return null}function g(b,S,w,I){var M=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return M!==null?null:u(b,S,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gu:return w.key===M?c(b,S,w,I):null;case Ys:return w.key===M?d(b,S,w,I):null;case mi:return M=w._init,g(b,S,M(w._payload),I)}if(xa(w)||ia(w))return M!==null?null:p(b,S,w,I,null);Iu(b,w)}return null}function _(b,S,w,I,M){if(typeof I=="string"&&I!==""||typeof I=="number")return b=b.get(w)||null,u(S,b,""+I,M);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case gu:return b=b.get(I.key===null?w:I.key)||null,c(S,b,I,M);case Ys:return b=b.get(I.key===null?w:I.key)||null,d(S,b,I,M);case mi:var O=I._init;return _(b,S,w,O(I._payload),M)}if(xa(I)||ia(I))return b=b.get(w)||null,p(S,b,I,M,null);Iu(S,I)}return null}function x(b,S,w,I){for(var M=null,O=null,F=S,L=S=0,K=null;F!==null&&L<w.length;L++){F.index>L?(K=F,F=null):K=F.sibling;var Q=g(b,F,w[L],I);if(Q===null){F===null&&(F=K);break}t&&F&&Q.alternate===null&&e(b,F),S=s(Q,S,L),O===null?M=Q:O.sibling=Q,O=Q,F=K}if(L===w.length)return r(b,F),We&&Ji(b,L),M;if(F===null){for(;L<w.length;L++)F=y(b,w[L],I),F!==null&&(S=s(F,S,L),O===null?M=F:O.sibling=F,O=F);return We&&Ji(b,L),M}for(F=n(b,F);L<w.length;L++)K=_(F,b,L,w[L],I),K!==null&&(t&&K.alternate!==null&&F.delete(K.key===null?L:K.key),S=s(K,S,L),O===null?M=K:O.sibling=K,O=K);return t&&F.forEach(function(q){return e(b,q)}),We&&Ji(b,L),M}function T(b,S,w,I){var M=ia(w);if(typeof M!="function")throw Error(W(150));if(w=M.call(w),w==null)throw Error(W(151));for(var O=M=null,F=S,L=S=0,K=null,Q=w.next();F!==null&&!Q.done;L++,Q=w.next()){F.index>L?(K=F,F=null):K=F.sibling;var q=g(b,F,Q.value,I);if(q===null){F===null&&(F=K);break}t&&F&&q.alternate===null&&e(b,F),S=s(q,S,L),O===null?M=q:O.sibling=q,O=q,F=K}if(Q.done)return r(b,F),We&&Ji(b,L),M;if(F===null){for(;!Q.done;L++,Q=w.next())Q=y(b,Q.value,I),Q!==null&&(S=s(Q,S,L),O===null?M=Q:O.sibling=Q,O=Q);return We&&Ji(b,L),M}for(F=n(b,F);!Q.done;L++,Q=w.next())Q=_(F,b,L,Q.value,I),Q!==null&&(t&&Q.alternate!==null&&F.delete(Q.key===null?L:Q.key),S=s(Q,S,L),O===null?M=Q:O.sibling=Q,O=Q);return t&&F.forEach(function(re){return e(b,re)}),We&&Ji(b,L),M}function C(b,S,w,I){if(typeof w=="object"&&w!==null&&w.type===Qs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case gu:e:{for(var M=w.key,O=S;O!==null;){if(O.key===M){if(M=w.type,M===Qs){if(O.tag===7){r(b,O.sibling),S=i(O,w.props.children),S.return=b,b=S;break e}}else if(O.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===mi&&av(M)===O.type){r(b,O.sibling),S=i(O,w.props),S.ref=ua(b,O,w),S.return=b,b=S;break e}r(b,O);break}else e(b,O);O=O.sibling}w.type===Qs?(S=ds(w.props.children,b.mode,I,w.key),S.return=b,b=S):(I=dc(w.type,w.key,w.props,null,b.mode,I),I.ref=ua(b,S,w),I.return=b,b=I)}return l(b);case Ys:e:{for(O=w.key;S!==null;){if(S.key===O)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){r(b,S.sibling),S=i(S,w.children||[]),S.return=b,b=S;break e}else{r(b,S);break}else e(b,S);S=S.sibling}S=wf(w,b.mode,I),S.return=b,b=S}return l(b);case mi:return O=w._init,C(b,S,O(w._payload),I)}if(xa(w))return x(b,S,w,I);if(ia(w))return T(b,S,w,I);Iu(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,S!==null&&S.tag===6?(r(b,S.sibling),S=i(S,w),S.return=b,b=S):(r(b,S),S=xf(w,b.mode,I),S.return=b,b=S),l(b)):r(b,S)}return C}var Co=ax(!0),lx=ax(!1),Sl={},In=Bi(Sl),Za=Bi(Sl),Ja=Bi(Sl);function us(t){if(t===Sl)throw Error(W(174));return t}function Zm(t,e){switch(De(Ja,e),De(Za,t),De(In,Sl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:up(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=up(e,t)}Ge(In),De(In,e)}function Io(){Ge(In),Ge(Za),Ge(Ja)}function ux(t){us(Ja.current);var e=us(In.current),r=up(e,t.type);e!==r&&(De(Za,t),De(In,r))}function Jm(t){Za.current===t&&(Ge(In),Ge(Za))}var qe=Bi(0);function Lc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pf=[];function eg(){for(var t=0;t<pf.length;t++)pf[t]._workInProgressVersionPrimary=null;pf.length=0}var ac=Jn.ReactCurrentDispatcher,mf=Jn.ReactCurrentBatchConfig,ms=0,Ze=null,pt=null,wt=null,Oc=!1,Na=!1,el=0,VE=0;function Ot(){throw Error(W(321))}function tg(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ln(t[r],e[r]))return!1;return!0}function rg(t,e,r,n,i,s){if(ms=s,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ac.current=t===null||t.memoizedState===null?QE:qE,t=r(n,i),Na){s=0;do{if(Na=!1,el=0,25<=s)throw Error(W(301));s+=1,wt=pt=null,e.updateQueue=null,ac.current=KE,t=r(n,i)}while(Na)}if(ac.current=Bc,e=pt!==null&&pt.next!==null,ms=0,wt=pt=Ze=null,Oc=!1,e)throw Error(W(300));return t}function ng(){var t=el!==0;return el=0,t}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ze.memoizedState=wt=t:wt=wt.next=t,wt}function Or(){if(pt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=wt===null?Ze.memoizedState:wt.next;if(e!==null)wt=e,pt=t;else{if(t===null)throw Error(W(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},wt===null?Ze.memoizedState=wt=t:wt=wt.next=t}return wt}function tl(t,e){return typeof e=="function"?e(t):e}function gf(t){var e=Or(),r=e.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=t;var n=pt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var u=l=null,c=null,d=s;do{var p=d.lane;if((ms&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var y={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=y,l=n):c=c.next=y,Ze.lanes|=p,gs|=p}d=d.next}while(d!==null&&d!==s);c===null?l=n:c.next=u,ln(n,e.memoizedState)||(tr=!0),e.memoizedState=n,e.baseState=l,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Ze.lanes|=s,gs|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function yf(t){var e=Or(),r=e.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do s=t(s,l.action),l=l.next;while(l!==i);ln(s,e.memoizedState)||(tr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function cx(){}function hx(t,e){var r=Ze,n=Or(),i=e(),s=!ln(n.memoizedState,i);if(s&&(n.memoizedState=i,tr=!0),n=n.queue,ig(px.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||wt!==null&&wt.memoizedState.tag&1){if(r.flags|=2048,rl(9,fx.bind(null,r,n,i,e),void 0,null),Tt===null)throw Error(W(349));ms&30||dx(r,e,i)}return i}function dx(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function fx(t,e,r,n){e.value=r,e.getSnapshot=n,mx(e)&&gx(t)}function px(t,e,r){return r(function(){mx(e)&&gx(t)})}function mx(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ln(t,r)}catch{return!0}}function gx(t){var e=qn(t,1);e!==null&&rn(e,t,1,-1)}function lv(t){var e=Sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:t},e.queue=t,t=t.dispatch=YE.bind(null,Ze,t),[e.memoizedState,t]}function rl(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function yx(){return Or().memoizedState}function lc(t,e,r,n){var i=Sn();Ze.flags|=t,i.memoizedState=rl(1|e,r,void 0,n===void 0?null:n)}function ch(t,e,r,n){var i=Or();n=n===void 0?null:n;var s=void 0;if(pt!==null){var l=pt.memoizedState;if(s=l.destroy,n!==null&&tg(n,l.deps)){i.memoizedState=rl(e,r,s,n);return}}Ze.flags|=t,i.memoizedState=rl(1|e,r,s,n)}function uv(t,e){return lc(8390656,8,t,e)}function ig(t,e){return ch(2048,8,t,e)}function vx(t,e){return ch(4,2,t,e)}function _x(t,e){return ch(4,4,t,e)}function xx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wx(t,e,r){return r=r!=null?r.concat([t]):null,ch(4,4,xx.bind(null,e,t),r)}function sg(){}function Sx(t,e){var r=Or();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&tg(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function bx(t,e){var r=Or();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&tg(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Tx(t,e,r){return ms&21?(ln(r,e)||(r=I_(),Ze.lanes|=r,gs|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tr=!0),t.memoizedState=r)}function WE(t,e){var r=Le;Le=r!==0&&4>r?r:4,t(!0);var n=mf.transition;mf.transition={};try{t(!1),e()}finally{Le=r,mf.transition=n}}function Ex(){return Or().memoizedState}function XE(t,e,r){var n=Ai(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Cx(t))Ix(e,r);else if(r=nx(t,e,r,n),r!==null){var i=Vt();rn(r,t,n,i),Ax(r,e,n)}}function YE(t,e,r){var n=Ai(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cx(t))Ix(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var l=e.lastRenderedState,u=s(l,r);if(i.hasEagerState=!0,i.eagerState=u,ln(u,l)){var c=e.interleaved;c===null?(i.next=i,qm(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=nx(t,e,i,n),r!==null&&(i=Vt(),rn(r,t,n,i),Ax(r,e,n))}}function Cx(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function Ix(t,e){Na=Oc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Ax(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Om(t,r)}}var Bc={readContext:Lr,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},QE={readContext:Lr,useCallback:function(t,e){return Sn().memoizedState=[t,e===void 0?null:e],t},useContext:Lr,useEffect:uv,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,lc(4194308,4,xx.bind(null,e,t),r)},useLayoutEffect:function(t,e){return lc(4194308,4,t,e)},useInsertionEffect:function(t,e){return lc(4,2,t,e)},useMemo:function(t,e){var r=Sn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Sn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=XE.bind(null,Ze,t),[n.memoizedState,t]},useRef:function(t){var e=Sn();return t={current:t},e.memoizedState=t},useState:lv,useDebugValue:sg,useDeferredValue:function(t){return Sn().memoizedState=t},useTransition:function(){var t=lv(!1),e=t[0];return t=WE.bind(null,t[1]),Sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ze,i=Sn();if(We){if(r===void 0)throw Error(W(407));r=r()}else{if(r=e(),Tt===null)throw Error(W(349));ms&30||dx(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,uv(px.bind(null,n,s,t),[t]),n.flags|=2048,rl(9,fx.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Sn(),e=Tt.identifierPrefix;if(We){var r=Gn,n=jn;r=(n&~(1<<32-tn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=el++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=VE++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qE={readContext:Lr,useCallback:Sx,useContext:Lr,useEffect:ig,useImperativeHandle:wx,useInsertionEffect:vx,useLayoutEffect:_x,useMemo:bx,useReducer:gf,useRef:yx,useState:function(){return gf(tl)},useDebugValue:sg,useDeferredValue:function(t){var e=Or();return Tx(e,pt.memoizedState,t)},useTransition:function(){var t=gf(tl)[0],e=Or().memoizedState;return[t,e]},useMutableSource:cx,useSyncExternalStore:hx,useId:Ex,unstable_isNewReconciler:!1},KE={readContext:Lr,useCallback:Sx,useContext:Lr,useEffect:ig,useImperativeHandle:wx,useInsertionEffect:vx,useLayoutEffect:_x,useMemo:bx,useReducer:yf,useRef:yx,useState:function(){return yf(tl)},useDebugValue:sg,useDeferredValue:function(t){var e=Or();return pt===null?e.memoizedState=t:Tx(e,pt.memoizedState,t)},useTransition:function(){var t=yf(tl)[0],e=Or().memoizedState;return[t,e]},useMutableSource:cx,useSyncExternalStore:hx,useId:Ex,unstable_isNewReconciler:!1};function Ao(t,e){try{var r="",n=e;do r+=ET(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function vf(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Np(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var ZE=typeof WeakMap=="function"?WeakMap:Map;function Rx(t,e,r){r=Vn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Uc||(Uc=!0,Gp=n),Np(t,e)},r}function kx(t,e,r){r=Vn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Np(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Np(t,e),typeof n!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),r}function cv(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new ZE;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=dC.bind(null,t,e,r),e.then(t,t))}function hv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dv(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Vn(-1,1),e.tag=2,Ci(r,e,1))),r.lanes|=1),t)}var JE=Jn.ReactCurrentOwner,tr=!1;function Ht(t,e,r,n){e.child=t===null?lx(e,null,r,n):Co(e,t.child,r,n)}function fv(t,e,r,n,i){r=r.render;var s=e.ref;return go(e,i),n=rg(t,e,r,n,s,i),r=ng(),t!==null&&!tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kn(t,e,i)):(We&&r&&Hm(e),e.flags|=1,Ht(t,e,n,i),e.child)}function pv(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!fg(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Px(t,e,s,n,i)):(t=dc(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var l=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ya,r(l,n)&&t.ref===e.ref)return Kn(t,e,i)}return e.flags|=1,t=Ri(s,n),t.ref=e.ref,t.return=e,e.child=t}function Px(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Ya(s,n)&&t.ref===e.ref)if(tr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(tr=!0);else return e.lanes=t.lanes,Kn(t,e,i)}return Mp(t,e,r,n,i)}function Nx(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(so,dr),dr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(so,dr),dr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,De(so,dr),dr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,De(so,dr),dr|=n;return Ht(t,e,i,r),e.child}function Mx(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Mp(t,e,r,n,i){var s=nr(r)?fs:jt.current;return s=To(e,s),go(e,i),r=rg(t,e,r,n,s,i),n=ng(),t!==null&&!tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kn(t,e,i)):(We&&n&&Hm(e),e.flags|=1,Ht(t,e,r,i),e.child)}function mv(t,e,r,n,i){if(nr(r)){var s=!0;Rc(e)}else s=!1;if(go(e,i),e.stateNode===null)uc(t,e),ox(e,r,n),Pp(e,r,n,i),n=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=Lr(d):(d=nr(r)?fs:jt.current,d=To(e,d));var p=r.getDerivedStateFromProps,y=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";y||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==n||c!==d)&&ov(e,l,n,d),gi=!1;var g=e.memoizedState;l.state=g,Fc(e,n,l,i),c=e.memoizedState,u!==n||g!==c||rr.current||gi?(typeof p=="function"&&(kp(e,r,p,n),c=e.memoizedState),(u=gi||sv(e,r,u,n,g,c,d))?(y||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),l.props=n,l.state=c,l.context=d,n=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{l=e.stateNode,ix(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:Wr(e.type,u),l.props=d,y=e.pendingProps,g=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Lr(c):(c=nr(r)?fs:jt.current,c=To(e,c));var _=r.getDerivedStateFromProps;(p=typeof _=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==y||g!==c)&&ov(e,l,n,c),gi=!1,g=e.memoizedState,l.state=g,Fc(e,n,l,i);var x=e.memoizedState;u!==y||g!==x||rr.current||gi?(typeof _=="function"&&(kp(e,r,_,n),x=e.memoizedState),(d=gi||sv(e,r,d,n,g,x,c)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,x,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),l.props=n,l.state=x,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return Fp(t,e,r,n,s,i)}function Fp(t,e,r,n,i,s){Mx(t,e);var l=(e.flags&128)!==0;if(!n&&!l)return i&&ev(e,r,!1),Kn(t,e,s);n=e.stateNode,JE.current=e;var u=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&l?(e.child=Co(e,t.child,null,s),e.child=Co(e,null,u,s)):Ht(t,e,u,s),e.memoizedState=n.state,i&&ev(e,r,!0),e.child}function Fx(t){var e=t.stateNode;e.pendingContext?Jy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jy(t,e.context,!1),Zm(t,e.containerInfo)}function gv(t,e,r,n,i){return Eo(),Wm(i),e.flags|=256,Ht(t,e,r,n),e.child}var Lp={dehydrated:null,treeContext:null,retryLane:0};function Op(t){return{baseLanes:t,cachePool:null,transitions:null}}function Lx(t,e,r){var n=e.pendingProps,i=qe.current,s=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(qe,i&1),t===null)return Ap(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=n.children,t=n.fallback,s?(n=e.mode,s=e.child,l={mode:"hidden",children:l},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=fh(l,n,0,null),t=ds(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Op(r),e.memoizedState=Lp,t):og(e,l));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return eC(t,e,l,n,u,i,r);if(s){s=n.fallback,l=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Ri(i,c),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=Ri(u,s):(s=ds(s,l,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,l=t.child.memoizedState,l=l===null?Op(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~r,e.memoizedState=Lp,n}return s=t.child,t=s.sibling,n=Ri(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function og(t,e){return e=fh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Au(t,e,r,n){return n!==null&&Wm(n),Co(e,t.child,null,r),t=og(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eC(t,e,r,n,i,s,l){if(r)return e.flags&256?(e.flags&=-257,n=vf(Error(W(422))),Au(t,e,l,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=fh({mode:"visible",children:n.children},i,0,null),s=ds(s,i,l,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Co(e,t.child,null,l),e.child.memoizedState=Op(l),e.memoizedState=Lp,s);if(!(e.mode&1))return Au(t,e,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,s=Error(W(419)),n=vf(s,n,void 0),Au(t,e,l,n)}if(u=(l&t.childLanes)!==0,tr||u){if(n=Tt,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qn(t,i),rn(n,t,i,-1))}return dg(),n=vf(Error(W(421))),Au(t,e,l,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fr=Ei(i.nextSibling),pr=e,We=!0,Qr=null,t!==null&&(Rr[kr++]=jn,Rr[kr++]=Gn,Rr[kr++]=ps,jn=t.id,Gn=t.overflow,ps=e),e=og(e,n.children),e.flags|=4096,e)}function yv(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Rp(t.return,e,r)}function _f(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Ox(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Ht(t,e,n.children,r),n=qe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yv(t,r,e);else if(t.tag===19)yv(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(De(qe,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Lc(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),_f(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lc(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}_f(e,!0,r,null,s);break;case"together":_f(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),gs|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,r=Ri(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ri(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function tC(t,e,r){switch(e.tag){case 3:Fx(e),Eo();break;case 5:ux(e);break;case 1:nr(e.type)&&Rc(e);break;case 4:Zm(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;De(Nc,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(De(qe,qe.current&1),e.flags|=128,null):r&e.child.childLanes?Lx(t,e,r):(De(qe,qe.current&1),t=Kn(t,e,r),t!==null?t.sibling:null);De(qe,qe.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Ox(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(qe,qe.current),n)break;return null;case 22:case 23:return e.lanes=0,Nx(t,e,r)}return Kn(t,e,r)}var Bx,Bp,Dx,Ux;Bx=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Bp=function(){};Dx=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,us(In.current);var s=null;switch(r){case"input":i=sp(t,i),n=sp(t,n),s=[];break;case"select":i=Je({},i,{value:void 0}),n=Je({},n,{value:void 0}),s=[];break;case"textarea":i=lp(t,i),n=lp(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ic)}cp(r,n);var l;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(l in u)u.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ja.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(u=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(s||(s=[]),s.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ja.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ze("scroll",t),s||u===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};Ux=function(t,e,r,n){r!==n&&(e.flags|=4)};function ca(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function rC(t,e,r){var n=e.pendingProps;switch(Vm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(e),null;case 1:return nr(e.type)&&Ac(),Bt(e),null;case 3:return n=e.stateNode,Io(),Ge(rr),Ge(jt),eg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Cu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qr!==null&&(Vp(Qr),Qr=null))),Bp(t,e),Bt(e),null;case 5:Jm(e);var i=us(Ja.current);if(r=e.type,t!==null&&e.stateNode!=null)Dx(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(W(166));return Bt(e),null}if(t=us(In.current),Cu(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Tn]=e,n[Ka]=s,t=(e.mode&1)!==0,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(i=0;i<Sa.length;i++)ze(Sa[i],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":Cy(n,s),ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ze("invalid",n);break;case"textarea":Ay(n,s),ze("invalid",n)}cp(r,s),i=null;for(var l in s)if(s.hasOwnProperty(l)){var u=s[l];l==="children"?typeof u=="string"?n.textContent!==u&&(s.suppressHydrationWarning!==!0&&Eu(n.textContent,u,t),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Eu(n.textContent,u,t),i=["children",""+u]):ja.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&ze("scroll",n)}switch(r){case"input":yu(n),Iy(n,s,!0);break;case"textarea":yu(n),Ry(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Ic)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=d_(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(r,{is:n.is}):(t=l.createElement(r),r==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,r),t[Tn]=e,t[Ka]=n,Bx(t,e,!1,!1),e.stateNode=t;e:{switch(l=hp(r,n),r){case"dialog":ze("cancel",t),ze("close",t),i=n;break;case"iframe":case"object":case"embed":ze("load",t),i=n;break;case"video":case"audio":for(i=0;i<Sa.length;i++)ze(Sa[i],t);i=n;break;case"source":ze("error",t),i=n;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=n;break;case"details":ze("toggle",t),i=n;break;case"input":Cy(t,n),i=sp(t,n),ze("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Je({},n,{value:void 0}),ze("invalid",t);break;case"textarea":Ay(t,n),i=lp(t,n),ze("invalid",t);break;default:i=n}cp(r,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?m_(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&f_(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ga(t,c):typeof c=="number"&&Ga(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ja.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ze("scroll",t):c!=null&&km(t,s,c,l))}switch(r){case"input":yu(t),Iy(t,n,!1);break;case"textarea":yu(t),Ry(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Pi(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?ho(t,!!n.multiple,s,!1):n.defaultValue!=null&&ho(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ic)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bt(e),null;case 6:if(t&&e.stateNode!=null)Ux(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(W(166));if(r=us(Ja.current),us(In.current),Cu(e)){if(n=e.stateNode,r=e.memoizedProps,n[Tn]=e,(s=n.nodeValue!==r)&&(t=pr,t!==null))switch(t.tag){case 3:Eu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Eu(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Tn]=e,e.stateNode=n}return Bt(e),null;case 13:if(Ge(qe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&fr!==null&&e.mode&1&&!(e.flags&128))rx(),Eo(),e.flags|=98560,s=!1;else if(s=Cu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Tn]=e}else Eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bt(e),s=!1}else Qr!==null&&(Vp(Qr),Qr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?mt===0&&(mt=3):dg())),e.updateQueue!==null&&(e.flags|=4),Bt(e),null);case 4:return Io(),Bp(t,e),t===null&&Qa(e.stateNode.containerInfo),Bt(e),null;case 10:return Qm(e.type._context),Bt(e),null;case 17:return nr(e.type)&&Ac(),Bt(e),null;case 19:if(Ge(qe),s=e.memoizedState,s===null)return Bt(e),null;if(n=(e.flags&128)!==0,l=s.rendering,l===null)if(n)ca(s,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Lc(t),l!==null){for(e.flags|=128,ca(s,!1),n=l.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return De(qe,qe.current&1|2),e.child}t=t.sibling}s.tail!==null&&lt()>Ro&&(e.flags|=128,n=!0,ca(s,!1),e.lanes=4194304)}else{if(!n)if(t=Lc(l),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ca(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!We)return Bt(e),null}else 2*lt()-s.renderingStartTime>Ro&&r!==1073741824&&(e.flags|=128,n=!0,ca(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(r=s.last,r!==null?r.sibling=l:e.child=l,s.last=l)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=lt(),e.sibling=null,r=qe.current,De(qe,n?r&1|2:r&1),e):(Bt(e),null);case 22:case 23:return hg(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?dr&1073741824&&(Bt(e),e.subtreeFlags&6&&(e.flags|=8192)):Bt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function nC(t,e){switch(Vm(e),e.tag){case 1:return nr(e.type)&&Ac(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Io(),Ge(rr),Ge(jt),eg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jm(e),null;case 13:if(Ge(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(qe),null;case 4:return Io(),null;case 10:return Qm(e.type._context),null;case 22:case 23:return hg(),null;case 24:return null;default:return null}}var Ru=!1,Dt=!1,iC=typeof WeakSet=="function"?WeakSet:Set,ie=null;function io(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){rt(t,e,n)}else r.current=null}function Dp(t,e,r){try{r()}catch(n){rt(t,e,n)}}var vv=!1;function sC(t,e){if(wp=Tc,t=$_(),$m(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var l=0,u=-1,c=-1,d=0,p=0,y=t,g=null;t:for(;;){for(var _;y!==r||i!==0&&y.nodeType!==3||(u=l+i),y!==s||n!==0&&y.nodeType!==3||(c=l+n),y.nodeType===3&&(l+=y.nodeValue.length),(_=y.firstChild)!==null;)g=y,y=_;for(;;){if(y===t)break t;if(g===r&&++d===i&&(u=l),g===s&&++p===n&&(c=l),(_=y.nextSibling)!==null)break;y=g,g=y.parentNode}y=_}r=u===-1||c===-1?null:{start:u,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sp={focusedElem:t,selectionRange:r},Tc=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var T=x.memoizedProps,C=x.memoizedState,b=e.stateNode,S=b.getSnapshotBeforeUpdate(e.elementType===e.type?T:Wr(e.type,T),C);b.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(I){rt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return x=vv,vv=!1,x}function Ma(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Dp(e,r,s)}i=i.next}while(i!==n)}}function hh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Up(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function zx(t){var e=t.alternate;e!==null&&(t.alternate=null,zx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tn],delete e[Ka],delete e[Ep],delete e[jE],delete e[GE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jx(t){return t.tag===5||t.tag===3||t.tag===4}function _v(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ic));else if(n!==4&&(t=t.child,t!==null))for(zp(t,e,r),t=t.sibling;t!==null;)zp(t,e,r),t=t.sibling}function jp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(jp(t,e,r),t=t.sibling;t!==null;)jp(t,e,r),t=t.sibling}var At=null,Yr=!1;function fi(t,e,r){for(r=r.child;r!==null;)Gx(t,e,r),r=r.sibling}function Gx(t,e,r){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(nh,r)}catch{}switch(r.tag){case 5:Dt||io(r,e);case 6:var n=At,i=Yr;At=null,fi(t,e,r),At=n,Yr=i,At!==null&&(Yr?(t=At,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):At.removeChild(r.stateNode));break;case 18:At!==null&&(Yr?(t=At,r=r.stateNode,t.nodeType===8?df(t.parentNode,r):t.nodeType===1&&df(t,r),Wa(t)):df(At,r.stateNode));break;case 4:n=At,i=Yr,At=r.stateNode.containerInfo,Yr=!0,fi(t,e,r),At=n,Yr=i;break;case 0:case 11:case 14:case 15:if(!Dt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&Dp(r,e,l),i=i.next}while(i!==n)}fi(t,e,r);break;case 1:if(!Dt&&(io(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){rt(r,e,u)}fi(t,e,r);break;case 21:fi(t,e,r);break;case 22:r.mode&1?(Dt=(n=Dt)||r.memoizedState!==null,fi(t,e,r),Dt=n):fi(t,e,r);break;default:fi(t,e,r)}}function xv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new iC),e.forEach(function(n){var i=pC.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Gr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:At=u.stateNode,Yr=!1;break e;case 3:At=u.stateNode.containerInfo,Yr=!0;break e;case 4:At=u.stateNode.containerInfo,Yr=!0;break e}u=u.return}if(At===null)throw Error(W(160));Gx(s,l,i),At=null,Yr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){rt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$x(e,t),e=e.sibling}function $x(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gr(e,t),_n(t),n&4){try{Ma(3,t,t.return),hh(3,t)}catch(T){rt(t,t.return,T)}try{Ma(5,t,t.return)}catch(T){rt(t,t.return,T)}}break;case 1:Gr(e,t),_n(t),n&512&&r!==null&&io(r,r.return);break;case 5:if(Gr(e,t),_n(t),n&512&&r!==null&&io(r,r.return),t.flags&32){var i=t.stateNode;try{Ga(i,"")}catch(T){rt(t,t.return,T)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,l=r!==null?r.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&c_(i,s),hp(u,l);var d=hp(u,s);for(l=0;l<c.length;l+=2){var p=c[l],y=c[l+1];p==="style"?m_(i,y):p==="dangerouslySetInnerHTML"?f_(i,y):p==="children"?Ga(i,y):km(i,p,y,d)}switch(u){case"input":op(i,s);break;case"textarea":h_(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?ho(i,!!s.multiple,_,!1):g!==!!s.multiple&&(s.defaultValue!=null?ho(i,!!s.multiple,s.defaultValue,!0):ho(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ka]=s}catch(T){rt(t,t.return,T)}}break;case 6:if(Gr(e,t),_n(t),n&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){rt(t,t.return,T)}}break;case 3:if(Gr(e,t),_n(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wa(e.containerInfo)}catch(T){rt(t,t.return,T)}break;case 4:Gr(e,t),_n(t);break;case 13:Gr(e,t),_n(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ug=lt())),n&4&&xv(t);break;case 22:if(p=r!==null&&r.memoizedState!==null,t.mode&1?(Dt=(d=Dt)||p,Gr(e,t),Dt=d):Gr(e,t),_n(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(ie=t,p=t.child;p!==null;){for(y=ie=p;ie!==null;){switch(g=ie,_=g.child,g.tag){case 0:case 11:case 14:case 15:Ma(4,g,g.return);break;case 1:io(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){n=g,r=g.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(T){rt(n,r,T)}}break;case 5:io(g,g.return);break;case 22:if(g.memoizedState!==null){Sv(y);continue}}_!==null?(_.return=g,ie=_):Sv(y)}p=p.sibling}e:for(p=null,y=t;;){if(y.tag===5){if(p===null){p=y;try{i=y.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=y.stateNode,c=y.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=p_("display",l))}catch(T){rt(t,t.return,T)}}}else if(y.tag===6){if(p===null)try{y.stateNode.nodeValue=d?"":y.memoizedProps}catch(T){rt(t,t.return,T)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===t)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;p===y&&(p=null),y=y.return}p===y&&(p=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Gr(e,t),_n(t),n&4&&xv(t);break;case 21:break;default:Gr(e,t),_n(t)}}function _n(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(jx(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ga(i,""),n.flags&=-33);var s=_v(t);jp(t,s,i);break;case 3:case 4:var l=n.stateNode.containerInfo,u=_v(t);zp(t,u,l);break;default:throw Error(W(161))}}catch(c){rt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oC(t,e,r){ie=t,Hx(t)}function Hx(t,e,r){for(var n=(t.mode&1)!==0;ie!==null;){var i=ie,s=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||Ru;if(!l){var u=i.alternate,c=u!==null&&u.memoizedState!==null||Dt;u=Ru;var d=Dt;if(Ru=l,(Dt=c)&&!d)for(ie=i;ie!==null;)l=ie,c=l.child,l.tag===22&&l.memoizedState!==null?bv(i):c!==null?(c.return=l,ie=c):bv(i);for(;s!==null;)ie=s,Hx(s),s=s.sibling;ie=i,Ru=u,Dt=d}wv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ie=s):wv(t)}}function wv(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dt||hh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Dt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Wr(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&iv(e,s,n);break;case 3:var l=e.updateQueue;if(l!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}iv(e,l,r)}break;case 5:var u=e.stateNode;if(r===null&&e.flags&4){r=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var y=p.dehydrated;y!==null&&Wa(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Dt||e.flags&512&&Up(e)}catch(g){rt(e,e.return,g)}}if(e===t){ie=null;break}if(r=e.sibling,r!==null){r.return=e.return,ie=r;break}ie=e.return}}function Sv(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ie=r;break}ie=e.return}}function bv(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{hh(4,e)}catch(c){rt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){rt(e,i,c)}}var s=e.return;try{Up(e)}catch(c){rt(e,s,c)}break;case 5:var l=e.return;try{Up(e)}catch(c){rt(e,l,c)}}}catch(c){rt(e,e.return,c)}if(e===t){ie=null;break}var u=e.sibling;if(u!==null){u.return=e.return,ie=u;break}ie=e.return}}var aC=Math.ceil,Dc=Jn.ReactCurrentDispatcher,ag=Jn.ReactCurrentOwner,Fr=Jn.ReactCurrentBatchConfig,Ee=0,Tt=null,ht=null,kt=0,dr=0,so=Bi(0),mt=0,nl=null,gs=0,dh=0,lg=0,Fa=null,Jt=null,ug=0,Ro=1/0,Un=null,Uc=!1,Gp=null,Ii=null,ku=!1,xi=null,zc=0,La=0,$p=null,cc=-1,hc=0;function Vt(){return Ee&6?lt():cc!==-1?cc:cc=lt()}function Ai(t){return t.mode&1?Ee&2&&kt!==0?kt&-kt:HE.transition!==null?(hc===0&&(hc=I_()),hc):(t=Le,t!==0||(t=window.event,t=t===void 0?16:F_(t.type)),t):1}function rn(t,e,r,n){if(50<La)throw La=0,$p=null,Error(W(185));_l(t,r,n),(!(Ee&2)||t!==Tt)&&(t===Tt&&(!(Ee&2)&&(dh|=r),mt===4&&vi(t,kt)),ir(t,n),r===1&&Ee===0&&!(e.mode&1)&&(Ro=lt()+500,lh&&Di()))}function ir(t,e){var r=t.callbackNode;HT(t,e);var n=bc(t,t===Tt?kt:0);if(n===0)r!==null&&Ny(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ny(r),e===1)t.tag===0?$E(Tv.bind(null,t)):J_(Tv.bind(null,t)),UE(function(){!(Ee&6)&&Di()}),r=null;else{switch(A_(n)){case 1:r=Lm;break;case 4:r=E_;break;case 16:r=Sc;break;case 536870912:r=C_;break;default:r=Sc}r=Zx(r,Vx.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Vx(t,e){if(cc=-1,hc=0,Ee&6)throw Error(W(327));var r=t.callbackNode;if(yo()&&t.callbackNode!==r)return null;var n=bc(t,t===Tt?kt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=jc(t,n);else{e=n;var i=Ee;Ee|=2;var s=Xx();(Tt!==t||kt!==e)&&(Un=null,Ro=lt()+500,hs(t,e));do try{cC();break}catch(u){Wx(t,u)}while(1);Ym(),Dc.current=s,Ee=i,ht!==null?e=0:(Tt=null,kt=0,e=mt)}if(e!==0){if(e===2&&(i=gp(t),i!==0&&(n=i,e=Hp(t,i))),e===1)throw r=nl,hs(t,0),vi(t,n),ir(t,lt()),r;if(e===6)vi(t,n);else{if(i=t.current.alternate,!(n&30)&&!lC(i)&&(e=jc(t,n),e===2&&(s=gp(t),s!==0&&(n=s,e=Hp(t,s))),e===1))throw r=nl,hs(t,0),vi(t,n),ir(t,lt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(W(345));case 2:es(t,Jt,Un);break;case 3:if(vi(t,n),(n&130023424)===n&&(e=ug+500-lt(),10<e)){if(bc(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Tp(es.bind(null,t,Jt,Un),e);break}es(t,Jt,Un);break;case 4:if(vi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var l=31-tn(n);s=1<<l,l=e[l],l>i&&(i=l),n&=~s}if(n=i,n=lt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*aC(n/1960))-n,10<n){t.timeoutHandle=Tp(es.bind(null,t,Jt,Un),n);break}es(t,Jt,Un);break;case 5:es(t,Jt,Un);break;default:throw Error(W(329))}}}return ir(t,lt()),t.callbackNode===r?Vx.bind(null,t):null}function Hp(t,e){var r=Fa;return t.current.memoizedState.isDehydrated&&(hs(t,e).flags|=256),t=jc(t,e),t!==2&&(e=Jt,Jt=r,e!==null&&Vp(e)),t}function Vp(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function lC(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ln(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vi(t,e){for(e&=~lg,e&=~dh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-tn(e),n=1<<r;t[r]=-1,e&=~n}}function Tv(t){if(Ee&6)throw Error(W(327));yo();var e=bc(t,0);if(!(e&1))return ir(t,lt()),null;var r=jc(t,e);if(t.tag!==0&&r===2){var n=gp(t);n!==0&&(e=n,r=Hp(t,n))}if(r===1)throw r=nl,hs(t,0),vi(t,e),ir(t,lt()),r;if(r===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,es(t,Jt,Un),ir(t,lt()),null}function cg(t,e){var r=Ee;Ee|=1;try{return t(e)}finally{Ee=r,Ee===0&&(Ro=lt()+500,lh&&Di())}}function ys(t){xi!==null&&xi.tag===0&&!(Ee&6)&&yo();var e=Ee;Ee|=1;var r=Fr.transition,n=Le;try{if(Fr.transition=null,Le=1,t)return t()}finally{Le=n,Fr.transition=r,Ee=e,!(Ee&6)&&Di()}}function hg(){dr=so.current,Ge(so)}function hs(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,DE(r)),ht!==null)for(r=ht.return;r!==null;){var n=r;switch(Vm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ac();break;case 3:Io(),Ge(rr),Ge(jt),eg();break;case 5:Jm(n);break;case 4:Io();break;case 13:Ge(qe);break;case 19:Ge(qe);break;case 10:Qm(n.type._context);break;case 22:case 23:hg()}r=r.return}if(Tt=t,ht=t=Ri(t.current,null),kt=dr=e,mt=0,nl=null,lg=dh=gs=0,Jt=Fa=null,ls!==null){for(e=0;e<ls.length;e++)if(r=ls[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var l=s.next;s.next=i,n.next=l}r.pending=n}ls=null}return t}function Wx(t,e){do{var r=ht;try{if(Ym(),ac.current=Bc,Oc){for(var n=Ze.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Oc=!1}if(ms=0,wt=pt=Ze=null,Na=!1,el=0,ag.current=null,r===null||r.return===null){mt=1,nl=e,ht=null;break}e:{var s=t,l=r.return,u=r,c=e;if(e=kt,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=u,y=p.tag;if(!(p.mode&1)&&(y===0||y===11||y===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var _=hv(l);if(_!==null){_.flags&=-257,dv(_,l,u,s,e),_.mode&1&&cv(s,d,e),e=_,c=d;var x=e.updateQueue;if(x===null){var T=new Set;T.add(c),e.updateQueue=T}else x.add(c);break e}else{if(!(e&1)){cv(s,d,e),dg();break e}c=Error(W(426))}}else if(We&&u.mode&1){var C=hv(l);if(C!==null){!(C.flags&65536)&&(C.flags|=256),dv(C,l,u,s,e),Wm(Ao(c,u));break e}}s=c=Ao(c,u),mt!==4&&(mt=2),Fa===null?Fa=[s]:Fa.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=Rx(s,c,e);nv(s,b);break e;case 1:u=c;var S=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ii===null||!Ii.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=kx(s,u,e);nv(s,I);break e}}s=s.return}while(s!==null)}Qx(r)}catch(M){e=M,ht===r&&r!==null&&(ht=r=r.return);continue}break}while(1)}function Xx(){var t=Dc.current;return Dc.current=Bc,t===null?Bc:t}function dg(){(mt===0||mt===3||mt===2)&&(mt=4),Tt===null||!(gs&268435455)&&!(dh&268435455)||vi(Tt,kt)}function jc(t,e){var r=Ee;Ee|=2;var n=Xx();(Tt!==t||kt!==e)&&(Un=null,hs(t,e));do try{uC();break}catch(i){Wx(t,i)}while(1);if(Ym(),Ee=r,Dc.current=n,ht!==null)throw Error(W(261));return Tt=null,kt=0,mt}function uC(){for(;ht!==null;)Yx(ht)}function cC(){for(;ht!==null&&!LT();)Yx(ht)}function Yx(t){var e=Kx(t.alternate,t,dr);t.memoizedProps=t.pendingProps,e===null?Qx(t):ht=e,ag.current=null}function Qx(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=nC(r,e),r!==null){r.flags&=32767,ht=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,ht=null;return}}else if(r=rC(r,e,dr),r!==null){ht=r;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);mt===0&&(mt=5)}function es(t,e,r){var n=Le,i=Fr.transition;try{Fr.transition=null,Le=1,hC(t,e,r,n)}finally{Fr.transition=i,Le=n}return null}function hC(t,e,r,n){do yo();while(xi!==null);if(Ee&6)throw Error(W(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(VT(t,s),t===Tt&&(ht=Tt=null,kt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ku||(ku=!0,Zx(Sc,function(){return yo(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Fr.transition,Fr.transition=null;var l=Le;Le=1;var u=Ee;Ee|=4,ag.current=null,sC(t,r),$x(r,t),PE(Sp),Tc=!!wp,Sp=wp=null,t.current=r,oC(r),OT(),Ee=u,Le=l,Fr.transition=s}else t.current=r;if(ku&&(ku=!1,xi=t,zc=i),s=t.pendingLanes,s===0&&(Ii=null),UT(r.stateNode),ir(t,lt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Uc)throw Uc=!1,t=Gp,Gp=null,t;return zc&1&&t.tag!==0&&yo(),s=t.pendingLanes,s&1?t===$p?La++:(La=0,$p=t):La=0,Di(),null}function yo(){if(xi!==null){var t=A_(zc),e=Fr.transition,r=Le;try{if(Fr.transition=null,Le=16>t?16:t,xi===null)var n=!1;else{if(t=xi,xi=null,zc=0,Ee&6)throw Error(W(331));var i=Ee;for(Ee|=4,ie=t.current;ie!==null;){var s=ie,l=s.child;if(ie.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(ie=d;ie!==null;){var p=ie;switch(p.tag){case 0:case 11:case 15:Ma(8,p,s)}var y=p.child;if(y!==null)y.return=p,ie=y;else for(;ie!==null;){p=ie;var g=p.sibling,_=p.return;if(zx(p),p===d){ie=null;break}if(g!==null){g.return=_,ie=g;break}ie=_}}}var x=s.alternate;if(x!==null){var T=x.child;if(T!==null){x.child=null;do{var C=T.sibling;T.sibling=null,T=C}while(T!==null)}}ie=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,ie=l;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ma(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,ie=b;break e}ie=s.return}}var S=t.current;for(ie=S;ie!==null;){l=ie;var w=l.child;if(l.subtreeFlags&2064&&w!==null)w.return=l,ie=w;else e:for(l=S;ie!==null;){if(u=ie,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:hh(9,u)}}catch(M){rt(u,u.return,M)}if(u===l){ie=null;break e}var I=u.sibling;if(I!==null){I.return=u.return,ie=I;break e}ie=u.return}}if(Ee=i,Di(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(nh,t)}catch{}n=!0}return n}finally{Le=r,Fr.transition=e}}return!1}function Ev(t,e,r){e=Ao(r,e),e=Rx(t,e,1),t=Ci(t,e,1),e=Vt(),t!==null&&(_l(t,1,e),ir(t,e))}function rt(t,e,r){if(t.tag===3)Ev(t,t,r);else for(;e!==null;){if(e.tag===3){Ev(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ii===null||!Ii.has(n))){t=Ao(r,t),t=kx(e,t,1),e=Ci(e,t,1),t=Vt(),e!==null&&(_l(e,1,t),ir(e,t));break}}e=e.return}}function dC(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Vt(),t.pingedLanes|=t.suspendedLanes&r,Tt===t&&(kt&r)===r&&(mt===4||mt===3&&(kt&130023424)===kt&&500>lt()-ug?hs(t,0):lg|=r),ir(t,e)}function qx(t,e){e===0&&(t.mode&1?(e=xu,xu<<=1,!(xu&130023424)&&(xu=4194304)):e=1);var r=Vt();t=qn(t,e),t!==null&&(_l(t,e,r),ir(t,r))}function fC(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),qx(t,r)}function pC(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(e),qx(t,r)}var Kx;Kx=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||rr.current)tr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return tr=!1,tC(t,e,r);tr=!!(t.flags&131072)}else tr=!1,We&&e.flags&1048576&&ex(e,Pc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;uc(t,e),t=e.pendingProps;var i=To(e,jt.current);go(e,r),i=rg(null,e,n,t,i,r);var s=ng();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nr(n)?(s=!0,Rc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Km(e),i.updater=uh,e.stateNode=i,i._reactInternals=e,Pp(e,n,t,r),e=Fp(null,e,n,!0,s,r)):(e.tag=0,We&&s&&Hm(e),Ht(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(uc(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=gC(n),t=Wr(n,t),i){case 0:e=Mp(null,e,n,t,r);break e;case 1:e=mv(null,e,n,t,r);break e;case 11:e=fv(null,e,n,t,r);break e;case 14:e=pv(null,e,n,Wr(n.type,t),r);break e}throw Error(W(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wr(n,i),Mp(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wr(n,i),mv(t,e,n,i,r);case 3:e:{if(Fx(e),t===null)throw Error(W(387));n=e.pendingProps,s=e.memoizedState,i=s.element,ix(t,e),Fc(e,n,null,r);var l=e.memoizedState;if(n=l.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ao(Error(W(423)),e),e=gv(t,e,n,r,i);break e}else if(n!==i){i=Ao(Error(W(424)),e),e=gv(t,e,n,r,i);break e}else for(fr=Ei(e.stateNode.containerInfo.firstChild),pr=e,We=!0,Qr=null,r=lx(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Eo(),n===i){e=Kn(t,e,r);break e}Ht(t,e,n,r)}e=e.child}return e;case 5:return ux(e),t===null&&Ap(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,l=i.children,bp(n,i)?l=null:s!==null&&bp(n,s)&&(e.flags|=32),Mx(t,e),Ht(t,e,l,r),e.child;case 6:return t===null&&Ap(e),null;case 13:return Lx(t,e,r);case 4:return Zm(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Co(e,null,n,r):Ht(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wr(n,i),fv(t,e,n,i,r);case 7:return Ht(t,e,e.pendingProps,r),e.child;case 8:return Ht(t,e,e.pendingProps.children,r),e.child;case 12:return Ht(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,l=i.value,De(Nc,n._currentValue),n._currentValue=l,s!==null)if(ln(s.value,l)){if(s.children===i.children&&!rr.current){e=Kn(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){l=s.child;for(var c=u.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Vn(-1,r&-r),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Rp(s.return,r,e),u.lanes|=r;break}c=c.next}}else if(s.tag===10)l=s.type===e.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(W(341));l.lanes|=r,u=l.alternate,u!==null&&(u.lanes|=r),Rp(l,r,e),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===e){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}Ht(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,go(e,r),i=Lr(i),n=n(i),e.flags|=1,Ht(t,e,n,r),e.child;case 14:return n=e.type,i=Wr(n,e.pendingProps),i=Wr(n.type,i),pv(t,e,n,i,r);case 15:return Px(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wr(n,i),uc(t,e),e.tag=1,nr(n)?(t=!0,Rc(e)):t=!1,go(e,r),ox(e,n,i),Pp(e,n,i,r),Fp(null,e,n,!0,t,r);case 19:return Ox(t,e,r);case 22:return Nx(t,e,r)}throw Error(W(156,e.tag))};function Zx(t,e){return T_(t,e)}function mC(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(t,e,r,n){return new mC(t,e,r,n)}function fg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gC(t){if(typeof t=="function")return fg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Nm)return 11;if(t===Mm)return 14}return 2}function Ri(t,e){var r=t.alternate;return r===null?(r=Pr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function dc(t,e,r,n,i,s){var l=2;if(n=t,typeof t=="function")fg(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Qs:return ds(r.children,i,s,e);case Pm:l=8,i|=8;break;case tp:return t=Pr(12,r,e,i|2),t.elementType=tp,t.lanes=s,t;case rp:return t=Pr(13,r,e,i),t.elementType=rp,t.lanes=s,t;case np:return t=Pr(19,r,e,i),t.elementType=np,t.lanes=s,t;case a_:return fh(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case s_:l=10;break e;case o_:l=9;break e;case Nm:l=11;break e;case Mm:l=14;break e;case mi:l=16,n=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Pr(l,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function ds(t,e,r,n){return t=Pr(7,t,n,e),t.lanes=r,t}function fh(t,e,r,n){return t=Pr(22,t,n,e),t.elementType=a_,t.lanes=r,t.stateNode={isHidden:!1},t}function xf(t,e,r){return t=Pr(6,t,null,e),t.lanes=r,t}function wf(t,e,r){return e=Pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yC(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ef(0),this.expirationTimes=ef(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ef(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pg(t,e,r,n,i,s,l,u,c){return t=new yC(t,e,r,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Km(s),t}function vC(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ys,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Jx(t){if(!t)return Ni;t=t._reactInternals;e:{if(ws(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var r=t.type;if(nr(r))return Z_(t,r,e)}return e}function ew(t,e,r,n,i,s,l,u,c){return t=pg(r,n,!0,t,i,s,l,u,c),t.context=Jx(null),r=t.current,n=Vt(),i=Ai(r),s=Vn(n,i),s.callback=e??null,Ci(r,s,i),t.current.lanes=i,_l(t,i,n),ir(t,n),t}function ph(t,e,r,n){var i=e.current,s=Vt(),l=Ai(i);return r=Jx(r),e.context===null?e.context=r:e.pendingContext=r,e=Vn(s,l),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ci(i,e,l),t!==null&&(rn(t,i,l,s),oc(t,i,l)),l}function Gc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function mg(t,e){Cv(t,e),(t=t.alternate)&&Cv(t,e)}function _C(){return null}var tw=typeof reportError=="function"?reportError:function(t){console.error(t)};function gg(t){this._internalRoot=t}mh.prototype.render=gg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));ph(t,e,null,null)};mh.prototype.unmount=gg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ys(function(){ph(null,t,null,null)}),e[Qn]=null}};function mh(t){this._internalRoot=t}mh.prototype.unstable_scheduleHydration=function(t){if(t){var e=P_();t={blockedOn:null,target:t,priority:e};for(var r=0;r<yi.length&&e!==0&&e<yi[r].priority;r++);yi.splice(r,0,t),r===0&&M_(t)}};function yg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Iv(){}function xC(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var d=Gc(l);s.call(d)}}var l=ew(e,n,t,0,null,!1,!1,"",Iv);return t._reactRootContainer=l,t[Qn]=l.current,Qa(t.nodeType===8?t.parentNode:t),ys(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var d=Gc(c);u.call(d)}}var c=pg(t,0,!1,null,null,!1,!1,"",Iv);return t._reactRootContainer=c,t[Qn]=c.current,Qa(t.nodeType===8?t.parentNode:t),ys(function(){ph(e,c,r,n)}),c}function yh(t,e,r,n,i){var s=r._reactRootContainer;if(s){var l=s;if(typeof i=="function"){var u=i;i=function(){var c=Gc(l);u.call(c)}}ph(e,l,t,i)}else l=xC(r,e,t,i,n);return Gc(l)}R_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=wa(e.pendingLanes);r!==0&&(Om(e,r|1),ir(e,lt()),!(Ee&6)&&(Ro=lt()+500,Di()))}break;case 13:ys(function(){var n=qn(t,1);if(n!==null){var i=Vt();rn(n,t,1,i)}}),mg(t,1)}};Bm=function(t){if(t.tag===13){var e=qn(t,134217728);if(e!==null){var r=Vt();rn(e,t,134217728,r)}mg(t,134217728)}};k_=function(t){if(t.tag===13){var e=Ai(t),r=qn(t,e);if(r!==null){var n=Vt();rn(r,t,e,n)}mg(t,e)}};P_=function(){return Le};N_=function(t,e){var r=Le;try{return Le=t,e()}finally{Le=r}};fp=function(t,e,r){switch(e){case"input":if(op(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=ah(n);if(!i)throw Error(W(90));u_(n),op(n,i)}}}break;case"textarea":h_(t,r);break;case"select":e=r.value,e!=null&&ho(t,!!r.multiple,e,!1)}};v_=cg;__=ys;var wC={usingClientEntryPoint:!1,Events:[wl,Js,ah,g_,y_,cg]},ha={findFiberByHostInstance:as,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},SC={bundleType:ha.bundleType,version:ha.version,rendererPackageName:ha.rendererPackageName,rendererConfig:ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=S_(t),t===null?null:t.stateNode},findFiberByHostInstance:ha.findFiberByHostInstance||_C,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{nh=Pu.inject(SC),Cn=Pu}catch{}}yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wC;yr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yg(e))throw Error(W(200));return vC(t,e,null,r)};yr.createRoot=function(t,e){if(!yg(t))throw Error(W(299));var r=!1,n="",i=tw;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=pg(t,1,!1,null,null,r,!1,n,i),t[Qn]=e.current,Qa(t.nodeType===8?t.parentNode:t),new gg(e)};yr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=S_(e),t=t===null?null:t.stateNode,t};yr.flushSync=function(t){return ys(t)};yr.hydrate=function(t,e,r){if(!gh(e))throw Error(W(200));return yh(null,t,e,!0,r)};yr.hydrateRoot=function(t,e,r){if(!yg(t))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",l=tw;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),e=ew(e,null,t,1,r??null,i,!1,s,l),t[Qn]=e.current,Qa(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new mh(e)};yr.render=function(t,e,r){if(!gh(e))throw Error(W(200));return yh(null,t,e,!1,r)};yr.unmountComponentAtNode=function(t){if(!gh(t))throw Error(W(40));return t._reactRootContainer?(ys(function(){yh(null,null,t,!1,function(){t._reactRootContainer=null,t[Qn]=null})}),!0):!1};yr.unstable_batchedUpdates=cg;yr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!gh(r))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return yh(t,e,r,!1,n)};yr.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}e(),t.exports=yr})(_T);var Av=Zf;Kf.createRoot=Av.createRoot,Kf.hydrateRoot=Av.hydrateRoot;var os={},vg={get exports(){return os},set exports(t){os=t}},Ss=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Ss||{}),rw=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(rw||{}),Wp=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Wp||{}),de=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(de||{}),Zr=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Zr||{}),te=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(te||{}),vo=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(vo||{}),_e=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(_e||{}),Xp=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Xp||{}),$n=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))($n||{}),Wn=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Wn||{}),Mi=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Mi||{}),ei=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(ei||{}),ts=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(ts||{}),_g=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(_g||{}),Nr=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Nr||{}),ft=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(ft||{}),ct=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(ct||{}),An=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(An||{});const bC={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},ce={ADAPTER:bC,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Sf=/iPhone/i,Rv=/iPod/i,kv=/iPad/i,Pv=/\biOS-universal(?:.+)Mac\b/i,bf=/\bAndroid(?:.+)Mobile\b/i,Nv=/Android/i,Gs=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Nu=/Silk/i,On=/Windows Phone/i,Mv=/\bWindows(?:.+)ARM\b/i,Fv=/BlackBerry/i,Lv=/BB10/i,Ov=/Opera Mini/i,Bv=/\b(CriOS|Chrome)(?:.+)Mobile/i,Dv=/Mobile(?:.+)Firefox\b/i,Uv=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function TC(t){return function(e){return e.test(t)}}function zv(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=TC(r),s={apple:{phone:i(Sf)&&!i(On),ipod:i(Rv),tablet:!i(Sf)&&(i(kv)||Uv(e))&&!i(On),universal:i(Pv),device:(i(Sf)||i(Rv)||i(kv)||i(Pv)||Uv(e))&&!i(On)},amazon:{phone:i(Gs),tablet:!i(Gs)&&i(Nu),device:i(Gs)||i(Nu)},android:{phone:!i(On)&&i(Gs)||!i(On)&&i(bf),tablet:!i(On)&&!i(Gs)&&!i(bf)&&(i(Nu)||i(Nv)),device:!i(On)&&(i(Gs)||i(Nu)||i(bf)||i(Nv))||i(/\bokhttp\b/i)},windows:{phone:i(On),tablet:i(Mv),device:i(On)||i(Mv)},other:{blackberry:i(Fv),blackberry10:i(Lv),opera:i(Ov),firefox:i(Dv),chrome:i(Bv),device:i(Fv)||i(Lv)||i(Ov)||i(Dv)||i(Bv)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const EC=zv.default??zv,oo=EC(globalThis.navigator);ce.RETINA_PREFIX=/@([0-9\.]+)x/;ce.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var ko={},CC={get exports(){return ko},set exports(t){ko=t}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,p){this.fn=c,this.context=d,this.once=p||!1}function s(c,d,p,y,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new i(p,y||c,g),x=r?r+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],_]:c._events[x].push(_):(c._events[x]=_,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],p,y;if(this._eventsCount===0)return d;for(y in p=this._events)e.call(p,y)&&d.push(r?y.slice(1):y);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},u.prototype.listeners=function(d){var p=r?r+d:d,y=this._events[p];if(!y)return[];if(y.fn)return[y.fn];for(var g=0,_=y.length,x=new Array(_);g<_;g++)x[g]=y[g].fn;return x},u.prototype.listenerCount=function(d){var p=r?r+d:d,y=this._events[p];return y?y.fn?1:y.length:0},u.prototype.emit=function(d,p,y,g,_,x){var T=r?r+d:d;if(!this._events[T])return!1;var C=this._events[T],b=arguments.length,S,w;if(C.fn){switch(C.once&&this.removeListener(d,C.fn,void 0,!0),b){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,p),!0;case 3:return C.fn.call(C.context,p,y),!0;case 4:return C.fn.call(C.context,p,y,g),!0;case 5:return C.fn.call(C.context,p,y,g,_),!0;case 6:return C.fn.call(C.context,p,y,g,_,x),!0}for(w=1,S=new Array(b-1);w<b;w++)S[w-1]=arguments[w];C.fn.apply(C.context,S)}else{var I=C.length,M;for(w=0;w<I;w++)switch(C[w].once&&this.removeListener(d,C[w].fn,void 0,!0),b){case 1:C[w].fn.call(C[w].context);break;case 2:C[w].fn.call(C[w].context,p);break;case 3:C[w].fn.call(C[w].context,p,y);break;case 4:C[w].fn.call(C[w].context,p,y,g);break;default:if(!S)for(M=1,S=new Array(b-1);M<b;M++)S[M-1]=arguments[M];C[w].fn.apply(C[w].context,S)}}return!0},u.prototype.on=function(d,p,y){return s(this,d,p,y,!1)},u.prototype.once=function(d,p,y){return s(this,d,p,y,!0)},u.prototype.removeListener=function(d,p,y,g){var _=r?r+d:d;if(!this._events[_])return this;if(!p)return l(this,_),this;var x=this._events[_];if(x.fn)x.fn===p&&(!g||x.once)&&(!y||x.context===y)&&l(this,_);else{for(var T=0,C=[],b=x.length;T<b;T++)(x[T].fn!==p||g&&!x[T].once||y&&x[T].context!==y)&&C.push(x[T]);C.length?this._events[_]=C.length===1?C[0]:C:l(this,_)}return this},u.prototype.removeAllListeners=function(d){var p;return d?(p=r?r+d:d,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(CC);var $c={},IC={get exports(){return $c},set exports(t){$c=t}};IC.exports=vh;$c.default=vh;function vh(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=nw(t,0,i,r,!0),l=[];if(!s||s.next===s.prev)return l;var u,c,d,p,y,g,_;if(n&&(s=NC(t,e,s,r)),t.length>80*r){u=d=t[0],c=p=t[1];for(var x=r;x<i;x+=r)y=t[x],g=t[x+1],y<u&&(u=y),g<c&&(c=g),y>d&&(d=y),g>p&&(p=g);_=Math.max(d-u,p-c),_=_!==0?32767/_:0}return il(s,l,r,u,c,_,0),l}function nw(t,e,r,n,i){var s,l;if(i===qp(t,e,r,n)>0)for(s=e;s<r;s+=n)l=jv(s,t[s],t[s+1],l);else for(s=r-n;s>=e;s-=n)l=jv(s,t[s],t[s+1],l);return l&&_h(l,l.next)&&(ol(l),l=l.next),l}function vs(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(_h(r,r.next)||Ke(r.prev,r,r.next)===0)){if(ol(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function il(t,e,r,n,i,s,l){if(t){!l&&s&&BC(t,n,i,s);for(var u=t,c,d;t.prev!==t.next;){if(c=t.prev,d=t.next,s?RC(t,n,i,s):AC(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(d.i/r|0),ol(t),t=d.next,u=d.next;continue}if(t=d,t===u){l?l===1?(t=kC(vs(t),e,r),il(t,e,r,n,i,s,2)):l===2&&PC(t,e,r,n,i,s):il(vs(t),e,r,n,i,s,1);break}}}}function AC(t){var e=t.prev,r=t,n=t.next;if(Ke(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,l=n.x,u=e.y,c=r.y,d=n.y,p=i<s?i<l?i:l:s<l?s:l,y=u<c?u<d?u:d:c<d?c:d,g=i>s?i>l?i:l:s>l?s:l,_=u>c?u>d?u:d:c>d?c:d,x=n.next;x!==e;){if(x.x>=p&&x.x<=g&&x.y>=y&&x.y<=_&&ao(i,u,s,c,l,d,x.x,x.y)&&Ke(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function RC(t,e,r,n){var i=t.prev,s=t,l=t.next;if(Ke(i,s,l)>=0)return!1;for(var u=i.x,c=s.x,d=l.x,p=i.y,y=s.y,g=l.y,_=u<c?u<d?u:d:c<d?c:d,x=p<y?p<g?p:g:y<g?y:g,T=u>c?u>d?u:d:c>d?c:d,C=p>y?p>g?p:g:y>g?y:g,b=Yp(_,x,e,r,n),S=Yp(T,C,e,r,n),w=t.prevZ,I=t.nextZ;w&&w.z>=b&&I&&I.z<=S;){if(w.x>=_&&w.x<=T&&w.y>=x&&w.y<=C&&w!==i&&w!==l&&ao(u,p,c,y,d,g,w.x,w.y)&&Ke(w.prev,w,w.next)>=0||(w=w.prevZ,I.x>=_&&I.x<=T&&I.y>=x&&I.y<=C&&I!==i&&I!==l&&ao(u,p,c,y,d,g,I.x,I.y)&&Ke(I.prev,I,I.next)>=0))return!1;I=I.nextZ}for(;w&&w.z>=b;){if(w.x>=_&&w.x<=T&&w.y>=x&&w.y<=C&&w!==i&&w!==l&&ao(u,p,c,y,d,g,w.x,w.y)&&Ke(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;I&&I.z<=S;){if(I.x>=_&&I.x<=T&&I.y>=x&&I.y<=C&&I!==i&&I!==l&&ao(u,p,c,y,d,g,I.x,I.y)&&Ke(I.prev,I,I.next)>=0)return!1;I=I.nextZ}return!0}function kC(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!_h(i,s)&&iw(i,n,n.next,s)&&sl(i,s)&&sl(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),ol(n),ol(n.next),n=t=s),n=n.next}while(n!==t);return vs(n)}function PC(t,e,r,n,i,s){var l=t;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&zC(l,u)){var c=sw(l,u);l=vs(l,l.next),c=vs(c,c.next),il(l,e,r,n,i,s,0),il(c,e,r,n,i,s,0);return}u=u.next}l=l.next}while(l!==t)}function NC(t,e,r,n){var i=[],s,l,u,c,d;for(s=0,l=e.length;s<l;s++)u=e[s]*n,c=s<l-1?e[s+1]*n:t.length,d=nw(t,u,c,n,!1),d===d.next&&(d.steiner=!0),i.push(UC(d));for(i.sort(MC),s=0;s<i.length;s++)r=FC(i[s],r);return r}function MC(t,e){return t.x-e.x}function FC(t,e){var r=LC(t,e);if(!r)return e;var n=sw(r,t);return vs(n,n.next),vs(r,r.next)}function LC(t,e){var r=e,n=t.x,i=t.y,s=-1/0,l;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var u=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=n&&u>s&&(s=u,l=r.x<r.next.x?r:r.next,u===n))return l}r=r.next}while(r!==e);if(!l)return null;var c=l,d=l.x,p=l.y,y=1/0,g;r=l;do n>=r.x&&r.x>=d&&n!==r.x&&ao(i<p?n:s,i,d,p,i<p?s:n,i,r.x,r.y)&&(g=Math.abs(i-r.y)/(n-r.x),sl(r,t)&&(g<y||g===y&&(r.x>l.x||r.x===l.x&&OC(l,r)))&&(l=r,y=g)),r=r.next;while(r!==c);return l}function OC(t,e){return Ke(t.prev,t,e.prev)<0&&Ke(e.next,t,t.next)<0}function BC(t,e,r,n){var i=t;do i.z===0&&(i.z=Yp(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,DC(i)}function DC(t){var e,r,n,i,s,l,u,c,d=1;do{for(r=t,t=null,s=null,l=0;r;){for(l++,n=r,u=0,e=0;e<d&&(u++,n=n.nextZ,!!n);e++);for(c=d;u>0||c>0&&n;)u!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,d*=2}while(l>1);return t}function Yp(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function UC(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function ao(t,e,r,n,i,s,l,u){return(i-l)*(e-u)>=(t-l)*(s-u)&&(t-l)*(n-u)>=(r-l)*(e-u)&&(r-l)*(s-u)>=(i-l)*(n-u)}function zC(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!jC(t,e)&&(sl(t,e)&&sl(e,t)&&GC(t,e)&&(Ke(t.prev,t,e.prev)||Ke(t,e.prev,e))||_h(t,e)&&Ke(t.prev,t,t.next)>0&&Ke(e.prev,e,e.next)>0)}function Ke(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function _h(t,e){return t.x===e.x&&t.y===e.y}function iw(t,e,r,n){var i=Fu(Ke(t,e,r)),s=Fu(Ke(t,e,n)),l=Fu(Ke(r,n,t)),u=Fu(Ke(r,n,e));return!!(i!==s&&l!==u||i===0&&Mu(t,r,e)||s===0&&Mu(t,n,e)||l===0&&Mu(r,t,n)||u===0&&Mu(r,e,n))}function Mu(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Fu(t){return t>0?1:t<0?-1:0}function jC(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&iw(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function sl(t,e){return Ke(t.prev,t,t.next)<0?Ke(t,e,t.next)>=0&&Ke(t,t.prev,e)>=0:Ke(t,e,t.prev)<0||Ke(t,t.next,e)<0}function GC(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function sw(t,e){var r=new Qp(t.i,t.x,t.y),n=new Qp(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function jv(t,e,r,n){var i=new Qp(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function ol(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Qp(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}vh.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,l=Math.abs(qp(t,0,s,r));if(i)for(var u=0,c=e.length;u<c;u++){var d=e[u]*r,p=u<c-1?e[u+1]*r:t.length;l-=Math.abs(qp(t,d,p,r))}var y=0;for(u=0;u<n.length;u+=3){var g=n[u]*r,_=n[u+1]*r,x=n[u+2]*r;y+=Math.abs((t[g]-t[x])*(t[_+1]-t[g+1])-(t[g]-t[_])*(t[x+1]-t[g+1]))}return l===0&&y===0?0:Math.abs((y-l)/l)};function qp(t,e,r,n){for(var i=0,s=e,l=r-n;s<r;s+=n)i+=(t[l]-t[s])*(t[s+1]+t[l+1]),l=s;return i}vh.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var l=0;l<e;l++)r.vertices.push(t[i][s][l]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var Hc={},$C={get exports(){return Hc},set exports(t){Hc=t}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Yd=="object"&&Yd;(s.global===s||s.window===s||s.self===s)&&(r=s);var l,u=2147483647,c=36,d=1,p=26,y=38,g=700,_=72,x=128,T="-",C=/^xn--/,b=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=c-d,M=Math.floor,O=String.fromCharCode,F;function L(k){throw RangeError(w[k])}function K(k,X){for(var J=k.length,ge=[];J--;)ge[J]=X(k[J]);return ge}function Q(k,X){var J=k.split("@"),ge="";J.length>1&&(ge=J[0]+"@",k=J[1]),k=k.replace(S,".");var pe=k.split("."),Ne=K(pe,X).join(".");return ge+Ne}function q(k){for(var X=[],J=0,ge=k.length,pe,Ne;J<ge;)pe=k.charCodeAt(J++),pe>=55296&&pe<=56319&&J<ge?(Ne=k.charCodeAt(J++),(Ne&64512)==56320?X.push(((pe&1023)<<10)+(Ne&1023)+65536):(X.push(pe),J--)):X.push(pe);return X}function re(k){return K(k,function(X){var J="";return X>65535&&(X-=65536,J+=O(X>>>10&1023|55296),X=56320|X&1023),J+=O(X),J}).join("")}function H(k){return k-48<10?k-22:k-65<26?k-65:k-97<26?k-97:c}function V(k,X){return k+22+75*(k<26)-((X!=0)<<5)}function me(k,X,J){var ge=0;for(k=J?M(k/g):k>>1,k+=M(k/X);k>I*p>>1;ge+=c)k=M(k/I);return M(ge+(I+1)*k/(k+y))}function ye(k){var X=[],J=k.length,ge,pe=0,Ne=x,xe=_,ke,gt,Et,et,we,Ue,Ce,_r,xr;for(ke=k.lastIndexOf(T),ke<0&&(ke=0),gt=0;gt<ke;++gt)k.charCodeAt(gt)>=128&&L("not-basic"),X.push(k.charCodeAt(gt));for(Et=ke>0?ke+1:0;Et<J;){for(et=pe,we=1,Ue=c;Et>=J&&L("invalid-input"),Ce=H(k.charCodeAt(Et++)),(Ce>=c||Ce>M((u-pe)/we))&&L("overflow"),pe+=Ce*we,_r=Ue<=xe?d:Ue>=xe+p?p:Ue-xe,!(Ce<_r);Ue+=c)xr=c-_r,we>M(u/xr)&&L("overflow"),we*=xr;ge=X.length+1,xe=me(pe-et,ge,et==0),M(pe/ge)>u-Ne&&L("overflow"),Ne+=M(pe/ge),pe%=ge,X.splice(pe++,0,Ne)}return re(X)}function ee(k){var X,J,ge,pe,Ne,xe,ke,gt,Et,et,we,Ue=[],Ce,_r,xr,zi;for(k=q(k),Ce=k.length,X=x,J=0,Ne=_,xe=0;xe<Ce;++xe)we=k[xe],we<128&&Ue.push(O(we));for(ge=pe=Ue.length,pe&&Ue.push(T);ge<Ce;){for(ke=u,xe=0;xe<Ce;++xe)we=k[xe],we>=X&&we<ke&&(ke=we);for(_r=ge+1,ke-X>M((u-J)/_r)&&L("overflow"),J+=(ke-X)*_r,X=ke,xe=0;xe<Ce;++xe)if(we=k[xe],we<X&&++J>u&&L("overflow"),we==X){for(gt=J,Et=c;et=Et<=Ne?d:Et>=Ne+p?p:Et-Ne,!(gt<et);Et+=c)zi=gt-et,xr=c-et,Ue.push(O(V(et+zi%xr,0))),gt=M(zi/xr);Ue.push(O(V(gt,0))),Ne=me(J,_r,ge==pe),J=0,++ge}++J,++X}return Ue.join("")}function P(k){return Q(k,function(X){return C.test(X)?ye(X.slice(4).toLowerCase()):X})}function G(k){return Q(k,function(X){return b.test(X)?"xn--"+ee(X):X})}if(l={version:"1.3.2",ucs2:{decode:q,encode:re},decode:ye,encode:ee,toASCII:G,toUnicode:P},n&&i)if(t.exports==n)i.exports=l;else for(F in l)l.hasOwnProperty(F)&&(n[F]=l[F]);else r.punycode=l})(Yd)})($C,Hc);var HC={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},al={};function VC(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var WC=function(t,e,r,n){e=e||"&",r=r||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var l=1e3;n&&typeof n.maxKeys=="number"&&(l=n.maxKeys);var u=t.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var d=t[c].replace(s,"%20"),p=d.indexOf(r),y,g,_,x;p>=0?(y=d.substr(0,p),g=d.substr(p+1)):(y=d,g=""),_=decodeURIComponent(y),x=decodeURIComponent(g),VC(i,_)?Array.isArray(i[_])?i[_].push(x):i[_]=[i[_],x]:i[_]=x}return i},da=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},XC=function(t,e,r,n){return e=e||"&",r=r||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(da(i))+r;return Array.isArray(t[i])?t[i].map(function(l){return s+encodeURIComponent(da(l))}).join(e):s+encodeURIComponent(da(t[i]))}).join(e):n?encodeURIComponent(da(n))+r+encodeURIComponent(da(t)):""};al.decode=al.parse=WC;al.encode=al.stringify=XC;var YC=Hc,bn=HC,QC=xh,qC=aI,KC=oI;function nn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var ZC=/^([a-z0-9.+-]+:)/i,JC=/:[0-9]*$/,eI=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,tI=["<",">",'"',"`"," ","\r",`
`,"	"],rI=["{","}","|","\\","^","`"].concat(tI),Kp=["'"].concat(rI),Gv=["%","/","?",";","#"].concat(Kp),$v=["/","?","#"],nI=255,Hv=/^[+a-z0-9A-Z_-]{0,63}$/,iI=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,sI={javascript:!0,"javascript:":!0},Zp={javascript:!0,"javascript:":!0},_o={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Jp=al;function xh(t,e,r){if(t&&bn.isObject(t)&&t instanceof nn)return t;var n=new nn;return n.parse(t,e,r),n}nn.prototype.parse=function(t,e,r){if(!bn.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),l=/\\/g;s[0]=s[0].replace(l,"/"),t=s.join(i);var u=t;if(u=u.trim(),!r&&t.split("#").length===1){var c=eI.exec(u);if(c)return this.path=u,this.href=u,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=Jp.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=ZC.exec(u);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,u=u.substr(d.length)}if(r||d||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var y=u.substr(0,2)==="//";y&&!(d&&Zp[d])&&(u=u.substr(2),this.slashes=!0)}if(!Zp[d]&&(y||d&&!_o[d])){for(var g=-1,_=0;_<$v.length;_++){var x=u.indexOf($v[_]);x!==-1&&(g===-1||x<g)&&(g=x)}var T,C;g===-1?C=u.lastIndexOf("@"):C=u.lastIndexOf("@",g),C!==-1&&(T=u.slice(0,C),u=u.slice(C+1),this.auth=decodeURIComponent(T)),g=-1;for(var _=0;_<Gv.length;_++){var x=u.indexOf(Gv[_]);x!==-1&&(g===-1||x<g)&&(g=x)}g===-1&&(g=u.length),this.host=u.slice(0,g),u=u.slice(g),this.parseHost(),this.hostname=this.hostname||"";var b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b)for(var S=this.hostname.split(/\./),_=0,w=S.length;_<w;_++){var I=S[_];if(I&&!I.match(Hv)){for(var M="",O=0,F=I.length;O<F;O++)I.charCodeAt(O)>127?M+="x":M+=I[O];if(!M.match(Hv)){var L=S.slice(0,_),K=S.slice(_+1),Q=I.match(iI);Q&&(L.push(Q[1]),K.unshift(Q[2])),K.length&&(u="/"+K.join(".")+u),this.hostname=L.join(".");break}}}this.hostname.length>nI?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=YC.toASCII(this.hostname));var q=this.port?":"+this.port:"",re=this.hostname||"";this.host=re+q,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!sI[p])for(var _=0,w=Kp.length;_<w;_++){var H=Kp[_];if(u.indexOf(H)!==-1){var V=encodeURIComponent(H);V===H&&(V=escape(H)),u=u.split(H).join(V)}}var me=u.indexOf("#");me!==-1&&(this.hash=u.substr(me),u=u.slice(0,me));var ye=u.indexOf("?");if(ye!==-1?(this.search=u.substr(ye),this.query=u.substr(ye+1),e&&(this.query=Jp.parse(this.query)),u=u.slice(0,ye)):e&&(this.search="",this.query={}),u&&(this.pathname=u),_o[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var q=this.pathname||"",ee=this.search||"";this.path=q+ee}return this.href=this.format(),this};function oI(t){return bn.isString(t)&&(t=xh(t)),t instanceof nn?t.format():nn.prototype.format.call(t)}nn.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&bn.isObject(this.query)&&Object.keys(this.query).length&&(s=Jp.stringify(this.query));var l=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||_o[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),l&&l.charAt(0)!=="?"&&(l="?"+l),r=r.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),l=l.replace("#","%23"),e+i+r+l+n};function aI(t,e){return xh(t,!1,!0).resolve(e)}nn.prototype.resolve=function(t){return this.resolveObject(xh(t,!1,!0)).format()};nn.prototype.resolveObject=function(t){if(bn.isString(t)){var e=new nn;e.parse(t,!1,!0),t=e}for(var r=new nn,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var l=Object.keys(t),u=0;u<l.length;u++){var c=l[u];c!=="protocol"&&(r[c]=t[c])}return _o[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!_o[t.protocol]){for(var d=Object.keys(t),p=0;p<d.length;p++){var y=d[p];r[y]=t[y]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Zp[t.protocol]){for(var w=(t.pathname||"").split("/");w.length&&!(t.host=w.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),w[0]!==""&&w.unshift(""),w.length<2&&w.unshift(""),r.pathname=w.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var g=r.pathname||"",_=r.search||"";r.path=g+_}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var x=r.pathname&&r.pathname.charAt(0)==="/",T=t.host||t.pathname&&t.pathname.charAt(0)==="/",C=T||x||r.host&&t.pathname,b=C,S=r.pathname&&r.pathname.split("/")||[],w=t.pathname&&t.pathname.split("/")||[],I=r.protocol&&!_o[r.protocol];if(I&&(r.hostname="",r.port=null,r.host&&(S[0]===""?S[0]=r.host:S.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(w[0]===""?w[0]=t.host:w.unshift(t.host)),t.host=null),C=C&&(w[0]===""||S[0]==="")),T)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,S=w;else if(w.length)S||(S=[]),S.pop(),S=S.concat(w),r.search=t.search,r.query=t.query;else if(!bn.isNullOrUndefined(t.search)){if(I){r.hostname=r.host=S.shift();var M=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;M&&(r.auth=M.shift(),r.host=r.hostname=M.shift())}return r.search=t.search,r.query=t.query,(!bn.isNull(r.pathname)||!bn.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=S.slice(-1)[0],F=(r.host||t.host||S.length>1)&&(O==="."||O==="..")||O==="",L=0,K=S.length;K>=0;K--)O=S[K],O==="."?S.splice(K,1):O===".."?(S.splice(K,1),L++):L&&(S.splice(K,1),L--);if(!C&&!b)for(;L--;L)S.unshift("..");C&&S[0]!==""&&(!S[0]||S[0].charAt(0)!=="/")&&S.unshift(""),F&&S.join("/").substr(-1)!=="/"&&S.push("");var Q=S[0]===""||S[0]&&S[0].charAt(0)==="/";if(I){r.hostname=r.host=Q?"":S.length?S.shift():"";var M=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;M&&(r.auth=M.shift(),r.host=r.hostname=M.shift())}return C=C||r.host&&S.length,C&&!Q&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),(!bn.isNull(r.pathname)||!bn.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};nn.prototype.parseHost=function(){var t=this.host,e=JC.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const lI={parse:QC,format:KC,resolve:qC};function $r(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function fa(t){return t.split("?")[0].split("#")[0]}function uI(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function cI(t,e,r){return t.replace(new RegExp(uI(e),"g"),r)}function hI(t,e){let r="",n=0,i=-1,s=0,l=-1;for(let u=0;u<=t.length;++u){if(u<t.length)l=t.charCodeAt(u);else{if(l===47)break;l=47}if(l===47){if(!(i===u-1||s===1))if(i!==u-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=u,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=u,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,u)}`:r=t.slice(i+1,u),n=u-i-1;i=u,s=0}else l===46&&s!==-1?++s:s=-1}return r}const sn={toPosix(t){return cI(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){$r(t),t=this.toPosix(t);let e="";const r=/^file:\/\/\//.exec(t),n=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(r||n||i){const s=(r==null?void 0:r[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,r){if(this.isDataUrl(t))return t;const n=fa(this.toPosix(e??ce.ADAPTER.getBaseUrl())),i=fa(this.toPosix(r??this.rootname(n)));return $r(t),t=this.toPosix(t),t.startsWith("/")?sn.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(t=this.toPosix(t),$r(t),t.length===0)return".";let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=hI(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return $r(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if($r(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if($r(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),l=t;t=t.slice(s.length);for(let u=t.length-1;u>=1;--u)if(e=t.charCodeAt(u),e===47){if(!i){n=u;break}}else i=!1;return n===-1?r?"/":this.isUrl(l)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){$r(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){$r(t),e&&$r(e),t=fa(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let l=e.length-1,u=-1;for(s=t.length-1;s>=0;--s){const c=t.charCodeAt(s);if(c===47){if(!i){r=s+1;break}}else u===-1&&(i=!1,u=s+1),l>=0&&(c===e.charCodeAt(l)?--l===-1&&(n=s):(l=-1,n=u))}return r===n?n=u:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){$r(t),t=fa(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let l=t.length-1;l>=0;--l){const u=t.charCodeAt(l);if(u===47){if(!i){r=l+1;break}continue}n===-1&&(i=!1,n=l+1),u===46?e===-1?e=l:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){$r(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=fa(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,l=0,u=-1,c=!0,d=t.length-1,p=0;for(;d>=i;--d){if(r=t.charCodeAt(d),r===47){if(!c){l=d+1;break}continue}u===-1&&(c=!1,u=d+1),r===46?s===-1?s=d:p!==1&&(p=1):s!==-1&&(p=-1)}return s===-1||u===-1||p===0||p===1&&s===u-1&&s===l+1?u!==-1&&(l===0&&n?e.base=e.name=t.slice(1,u):e.base=e.name=t.slice(l,u)):(l===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,u)):(e.name=t.slice(l,s),e.base=t.slice(l,u)),e.ext=t.slice(s,u)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},Vv={};function Pe(t,e,r=3){if(Vv[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),Vv[e]=!0}let Tf;function dI(){return typeof Tf>"u"&&(Tf=function(){var r;const e={stencil:!0,failIfMajorPerformanceCaveat:ce.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ce.ADAPTER.getWebGLRenderingContext())return!1;const n=ce.ADAPTER.createCanvas();let i=n.getContext("webgl",e)||n.getContext("experimental-webgl",e);const s=!!((r=i==null?void 0:i.getContextAttributes())!=null&&r.stencil);if(i){const l=i.getExtension("WEBGL_lose_context");l&&l.loseContext()}return i=null,s}catch{return!1}}()),Tf}var fI={grad:.9,turn:360,rad:360/(2*Math.PI)},Bn=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},St=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Mr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},ow=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},Wv=function(t){return{r:Mr(t.r,0,255),g:Mr(t.g,0,255),b:Mr(t.b,0,255),a:Mr(t.a)}},Ef=function(t){return{r:St(t.r),g:St(t.g),b:St(t.b),a:St(t.a,3)}},pI=/^#([0-9a-f]{3,8})$/i,Lu=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},aw=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),l=s-Math.min(e,r,n),u=l?s===e?(r-n)/l:s===r?2+(n-e)/l:4+(e-r)/l:0;return{h:60*(u<0?u+6:u),s:s?l/s*100:0,v:s/255*100,a:i}},lw=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),l=n*(1-r),u=n*(1-(e-s)*r),c=n*(1-(1-e+s)*r),d=s%6;return{r:255*[n,u,l,l,c,n][d],g:255*[c,n,n,u,l,l][d],b:255*[l,l,c,n,n,u][d],a:i}},Xv=function(t){return{h:ow(t.h),s:Mr(t.s,0,100),l:Mr(t.l,0,100),a:Mr(t.a)}},Yv=function(t){return{h:St(t.h),s:St(t.s),l:St(t.l),a:St(t.a,3)}},Qv=function(t){return lw((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Oa=function(t){return{h:(e=aw(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},mI=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,gI=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,yI=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,vI=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,em={string:[[function(t){var e=pI.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?St(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?St(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=yI.exec(t)||vI.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:Wv({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=mI.exec(t)||gI.exec(t);if(!e)return null;var r,n,i=Xv({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(fI[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Qv(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return Bn(e)&&Bn(r)&&Bn(n)?Wv({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!Bn(e)||!Bn(r)||!Bn(n))return null;var l=Xv({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return Qv(l)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!Bn(e)||!Bn(r)||!Bn(n))return null;var l=function(u){return{h:ow(u.h),s:Mr(u.s,0,100),v:Mr(u.v,0,100),a:Mr(u.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return lw(l)},"hsv"]]},qv=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},_I=function(t){return typeof t=="string"?qv(t.trim(),em.string):typeof t=="object"&&t!==null?qv(t,em.object):[null,void 0]},Cf=function(t,e){var r=Oa(t);return{h:r.h,s:Mr(r.s+100*e,0,100),l:r.l,a:r.a}},If=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},Kv=function(t,e){var r=Oa(t);return{h:r.h,s:r.s,l:Mr(r.l+100*e,0,100),a:r.a}},tm=function(){function t(e){this.parsed=_I(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return St(If(this.rgba),2)},t.prototype.isDark=function(){return If(this.rgba)<.5},t.prototype.isLight=function(){return If(this.rgba)>=.5},t.prototype.toHex=function(){return e=Ef(this.rgba),r=e.r,n=e.g,i=e.b,l=(s=e.a)<1?Lu(St(255*s)):"","#"+Lu(r)+Lu(n)+Lu(i)+l;var e,r,n,i,s,l},t.prototype.toRgb=function(){return Ef(this.rgba)},t.prototype.toRgbString=function(){return e=Ef(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return Yv(Oa(this.rgba))},t.prototype.toHslString=function(){return e=Yv(Oa(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=aw(this.rgba),{h:St(e.h),s:St(e.s),v:St(e.v),a:St(e.a,3)};var e},t.prototype.invert=function(){return xn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),xn(Cf(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),xn(Cf(this.rgba,-e))},t.prototype.grayscale=function(){return xn(Cf(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),xn(Kv(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),xn(Kv(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?xn({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):St(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Oa(this.rgba);return typeof e=="number"?xn({h:e,s:r.s,l:r.l,a:r.a}):St(r.h)},t.prototype.isEqual=function(e){return this.toHex()===xn(e).toHex()},t}(),xn=function(t){return t instanceof tm?t:new tm(t)},Zv=[],xI=function(t){t.forEach(function(e){Zv.indexOf(e)<0&&(e(tm,em),Zv.push(e))})};function wI(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(l){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var u,c,d=n[this.toHex()];if(d)return d;if(l!=null&&l.closest){var p=this.toRgb(),y=1/0,g="black";if(!s.length)for(var _ in r)s[_]=new t(r[_]).toRgb();for(var x in r){var T=(u=p,c=s[x],Math.pow(u.r-c.r,2)+Math.pow(u.g-c.g,2)+Math.pow(u.b-c.b,2));T<y&&(y=T,g=x)}return g}},e.string.push([function(l){var u=l.toLowerCase(),c=u==="transparent"?"#0000":r[u];return c?new t(c).toRgb():null},"name"])}xI([wI]);const xo=class{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof xo)this._value=t._value,this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");this._value!==t&&(this.normalize(t),this._value=t)}}get value(){return this._value}toRgba(){const[t,e,r,n]=this._components;return{r:t,g:e,b:r,a:n}}toRgb(){const[t,e,r]=this._components;return{r:t,g:e,b:r}}toRgbaString(){const[t,e,r]=this.toUint8RgbArray();return`rgba(${t},${e},${r},${this.alpha})`}toUint8RgbArray(t){const[e,r,n]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(r*255),t[2]=Math.round(n*255),t}toRgbArray(t){t=t??[];const[e,r,n]=this._components;return t[0]=e,t[1]=r,t[2]=n,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,r,n,i]=xo.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=r,this._components[2]*=n,this._components[3]*=i,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t){if(t===1)return(t*255<<24)+this._int;if(t===0)return 0;let e=this._int>>16&255,r=this._int>>8&255,n=this._int&255;return e=e*t+.5|0,r=r*t+.5|0,n=n*t+.5|0,(t*255<<24)+(e<<16)+(r<<8)+n}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(t){return this._components[3]=t,this}round(t){const[e,r,n]=this._components;return this._components.set([Math.min(255,e/t*t),Math.min(255,r/t*t),Math.min(255,n/t*t)]),this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,r,n,i]=this._components;return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}normalize(t){let e;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const r=t;e=[(r>>16&255)/255,(r>>8&255)/255,(r&255)/255,1]}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4&&t.every(r=>r<=1&&r>=0)){const[r,n,i,s=1]=t;e=[r,n,i,s]}else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4){const[r,n,i,s=255]=t;e=[r/255,n/255,i/255,s/255]}else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const n=xo.HEX_PATTERN.exec(t);n&&(t=`#${n[2]}`)}const r=xn(t);if(r.isValid()){const{r:n,g:i,b:s,a:l}=r.rgba;e=[n/255,i/255,s/255,l]}}if(e)this._components.set(e),this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){const[t,e,r]=this._components;this._int=(t*255<<16)+(e*255<<8)+(r*255|0)}};let je=xo;je.shared=new xo;je.temp=new xo;je.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;function SI(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[de.NORMAL_NPM]=de.NORMAL,t[de.ADD_NPM]=de.ADD,t[de.SCREEN_NPM]=de.SCREEN,e[de.NORMAL]=de.NORMAL_NPM,e[de.ADD]=de.ADD_NPM,e[de.SCREEN]=de.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const uw=SI();function cw(t,e){return uw[e?1:0][t]}function bI(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function hw(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Vc(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Jv(t){return!(t&t-1)&&!!t}function e1(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Ba(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function lo(t){return t===0?0:t<0?-1:1}let TI=0;function ll(){return++TI}const dw=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let rm=dw;rm.EMPTY=new dw(0,0,0,0);const t1={},wn=Object.create(null),pi=Object.create(null);function r1(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function n1(t,e,r,n,i){const s=4*e;for(let l=n,u=n*s+4*r;l<=i;++l,u+=s)if(t[u+3]!==0)return!1;return!0}function EI(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,e,r).data;let l=0,u=0,c=e-1,d=r-1;for(;u<r&&r1(s,e,u);)++u;if(u===r)return rm.EMPTY;for(;r1(s,e,d);)--d;for(;n1(s,e,l,u,d);)++l;for(;n1(s,e,c,u,d);)--c;return++c,++d,new rm(l,u,c,d)}function CI(t){const e=EI(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}let Ou;function II(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Ou||(Ou=document.createElement("a")),Ou.href=t;const r=lI.parse(Ou.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function ul(t,e=1){var n;const r=(n=ce.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var ue=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ue||{});const nm=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},i1=(t,e)=>nm(t).priority??e,fe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(nm).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(nm).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(l=>e(l)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>i1(s,r)-i1(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class AI{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const RI=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function kI(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function PI(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=RI.replace(/%forloop%/gi,kI(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Af=0,Rf=1,kf=2,Pf=3,Nf=4,Mf=5;class ti{constructor(){this.data=0,this.blendMode=de.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Af)}set blend(e){!!(this.data&1<<Af)!==e&&(this.data^=1<<Af)}get offsets(){return!!(this.data&1<<Rf)}set offsets(e){!!(this.data&1<<Rf)!==e&&(this.data^=1<<Rf)}get culling(){return!!(this.data&1<<kf)}set culling(e){!!(this.data&1<<kf)!==e&&(this.data^=1<<kf)}get depthTest(){return!!(this.data&1<<Pf)}set depthTest(e){!!(this.data&1<<Pf)!==e&&(this.data^=1<<Pf)}get depthMask(){return!!(this.data&1<<Mf)}set depthMask(e){!!(this.data&1<<Mf)!==e&&(this.data^=1<<Mf)}get clockwiseFrontFace(){return!!(this.data&1<<Nf)}set clockwiseFrontFace(e){!!(this.data&1<<Nf)!==e&&(this.data^=1<<Nf)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==de.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new ti;return e.depthTest=!1,e.blend=!0,e}}const im=[];function fw(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=im.length-1;n>=0;--n){const i=im[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class on{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,l,u,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:d,items:p}=this;this._aliasCount++;for(let y=0,g=p.length;y<g;y++)p[y][d](e,r,n,i,s,l,u,c);return p===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(on.prototype,{dispatch:{value:on.prototype.emit},run:{value:on.prototype.emit}});class cl{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new on("setRealSize"),this.onUpdate=new on("update"),this.onError=new on("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class xg extends cl{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===ei.UNPACK);const s=r.realWidth,l=r.realHeight;return n.width===s&&n.height===l?i.texSubImage2D(r.target,0,0,0,s,l,r.format,n.type,this.data):(n.width=s,n.height=l,i.texImage2D(r.target,0,n.internalFormat,s,l,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const NI={scaleMode:$n.NEAREST,format:te.RGBA,alphaMode:ei.NPM},Ws=class extends ko{constructor(t=null,e=null){super(),e=Object.assign({},Ws.defaultOptions,e);const{alphaMode:r,mipmap:n,anisotropicLevel:i,scaleMode:s,width:l,height:u,wrapMode:c,format:d,type:p,target:y,resolution:g,resourceOptions:_}=e;t&&!(t instanceof cl)&&(t=fw(t,_),t.internal=!0),this.resolution=g||ce.RESOLUTION,this.width=Math.round((l||0)*this.resolution)/this.resolution,this.height=Math.round((u||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=i,this._wrapMode=c,this._scaleMode=s,this.format=d,this.type=p,this.target=y,this.alphaMode=r,this.uid=ll(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=l>0&&u>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Jv(this.realWidth)&&Jv(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete pi[this.cacheId],delete wn[this.cacheId],this.cacheId=null),this.dispose(),Ws.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=ce.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let i=null;if(n)i=t;else{if(!t._pixiId){const l=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${l}_${ll()}`}i=t._pixiId}let s=pi[i];if(n&&r&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new Ws(t,e),s.cacheId=i,Ws.addToCache(s,i)),s}static fromBuffer(t,e,r,n){t=t||new Float32Array(e*r*4);const i=new xg(t,{width:e,height:r}),s=t instanceof Float32Array?_e.FLOAT:_e.UNSIGNED_BYTE;return new Ws(i,Object.assign({},NI,n||{width:e,height:r,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),pi[e]&&pi[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),pi[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=pi[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete pi[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete pi[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let Se=Ws;Se.defaultOptions={mipmap:Mi.POW2,anisotropicLevel:0,scaleMode:$n.LINEAR,wrapMode:Wn.CLAMP,alphaMode:ei.UNPACK,target:vo.TEXTURE_2D,format:te.RGBA,type:_e.UNSIGNED_BYTE};Se._globalBatch=0;class sm{constructor(){this.texArray=null,this.blend=0,this.type=Zr.TRIANGLES,this.start=0,this.size=0,this.data=null}}let MI=0;class at{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=MI++,this.disposeRunner=new on("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?An.ELEMENT_ARRAY_BUFFER:An.ARRAY_BUFFER}get index(){return this.type===An.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new at(e)}}class Wc{constructor(e,r=0,n=!1,i=_e.FLOAT,s,l,u,c=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=l,this.instance=u,this.divisor=c}destroy(){this.buffer=null}static from(e,r,n,i,s){return new Wc(e,r,n,i,s)}}const FI={Float32Array,Uint32Array,Int32Array,Uint8Array};function LI(t,e){let r=0,n=0;const i={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const s=new ArrayBuffer(r*4);let l=null,u=0;for(let c=0;c<t.length;c++){const d=e[c],p=t[c],y=hw(p);i[y]||(i[y]=new FI[y](s)),l=i[y];for(let g=0;g<p.length;g++){const _=(g/d|0)*n+u,x=g%d;l[_+x]=p[g]}u+=d}return new Float32Array(s)}const s1={5126:4,5123:2,5121:1};let OI=0;const BI={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Fi{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=OI++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new on("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,l,u,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof at||(r instanceof Array&&(r=new Float32Array(r)),r=new at(r));const d=e.split("|");if(d.length>1){for(let y=0;y<d.length;y++)this.addAttribute(d[y],r,n,i,s);return this}let p=this.buffers.indexOf(r);return p===-1&&(this.buffers.push(r),p=this.buffers.length-1),this.attributes[e]=new Wc(p,n,i,s,l,u,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof at||(e instanceof Array&&(e=new Uint16Array(e)),e=new at(e)),e.type=An.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new at;let i;for(i in this.attributes){const s=this.attributes[i],l=this.buffers[s.buffer];e.push(l.data),r.push(s.size*s1[s.type]/4),s.buffer=0}for(n.data=LI(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Fi;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new at(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new Wc(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=An.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Fi,n=[],i=[],s=[];let l;for(let u=0;u<e.length;u++){l=e[u];for(let c=0;c<l.buffers.length;c++)i[c]=i[c]||0,i[c]+=l.buffers[c].data.length,s[c]=0}for(let u=0;u<l.buffers.length;u++)n[u]=new BI[hw(l.buffers[u].data)](i[u]),r.buffers[u]=new at(n[u]);for(let u=0;u<e.length;u++){l=e[u];for(let c=0;c<l.buffers.length;c++)n[c].set(l.buffers[c].data,s[c]),s[c]+=l.buffers[c].data.length}if(r.attributes=l.attributes,l.indexBuffer){r.indexBuffer=r.buffers[l.buffers.indexOf(l.indexBuffer)],r.indexBuffer.type=An.ELEMENT_ARRAY_BUFFER;let u=0,c=0,d=0,p=0;for(let y=0;y<l.buffers.length;y++)if(l.buffers[y]!==l.indexBuffer){p=y;break}for(const y in l.attributes){const g=l.attributes[y];(g.buffer|0)===p&&(c+=g.size*s1[g.type]/4)}for(let y=0;y<e.length;y++){const g=e[y].indexBuffer.data;for(let _=0;_<g.length;_++)r.indexBuffer.data[_+d]+=u;u+=e[y].buffers[p].data.length/c,d+=g.length}}return r}}class pw extends Fi{constructor(e=!1){super(),this._buffer=new at(null,e,!1),this._indexBuffer=new at(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,_e.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,_e.FLOAT).addAttribute("aColor",this._buffer,4,!0,_e.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,_e.FLOAT).addIndex(this._indexBuffer)}}const Xc=Math.PI*2,DI=180/Math.PI,UI=Math.PI/180;var Rt=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Rt||{});class Xe{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Xe(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Bu=[new Xe,new Xe,new Xe,new Xe];class Re{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Rt.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Re(0,0,0,0)}clone(){return new Re(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const L=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=L)return!1;const Q=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>Q}const n=this.left,i=this.right,s=this.top,l=this.bottom;if(i<=n||l<=s)return!1;const u=Bu[0].set(e.left,e.top),c=Bu[1].set(e.left,e.bottom),d=Bu[2].set(e.right,e.top),p=Bu[3].set(e.right,e.bottom);if(d.x<=u.x||c.y<=u.y)return!1;const y=Math.sign(r.a*r.d-r.b*r.c);if(y===0||(r.apply(u,u),r.apply(c,c),r.apply(d,d),r.apply(p,p),Math.max(u.x,c.x,d.x,p.x)<=n||Math.min(u.x,c.x,d.x,p.x)>=i||Math.max(u.y,c.y,d.y,p.y)<=s||Math.min(u.y,c.y,d.y,p.y)>=l))return!1;const g=y*(c.y-u.y),_=y*(u.x-c.x),x=g*n+_*s,T=g*i+_*s,C=g*n+_*l,b=g*i+_*l;if(Math.max(x,T,C,b)<=g*u.x+_*u.y||Math.min(x,T,C,b)>=g*p.x+_*p.y)return!1;const S=y*(u.y-d.y),w=y*(d.x-u.x),I=S*n+w*s,M=S*i+w*s,O=S*n+w*l,F=S*i+w*l;return!(Math.max(I,M,O,F)<=S*u.x+w*u.y||Math.min(I,M,O,F)>=S*p.x+w*p.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class wg{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Rt.CIRC}clone(){return new wg(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Re(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Sg{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=Rt.ELIP}clone(){return new Sg(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Re(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class wo{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Rt.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new wo(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,l=i-1;s<i;l=s++){const u=this.points[s*2],c=this.points[s*2+1],d=this.points[l*2],p=this.points[l*2+1];c>r!=p>r&&e<(d-u)*((r-c)/(p-c))+u&&(n=!n)}return n}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}}class bg{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Rt.RREC}clone(){return new bg(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const l=n*n;if(i*i+s*s<=l||(i=e-(this.x+this.width-n),i*i+s*s<=l)||(s=r-(this.y+this.height-n),i*i+s*s<=l)||(i=e-(this.x+n),i*i+s*s<=l))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class nt{constructor(e=1,r=0,n=0,i=1,s=0,l=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=l}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,l){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=l,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Xe;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Xe;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,l=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=l*r-this.ty*n,this.ty=l*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,l,u,c,d){return this.a=Math.cos(u+d)*s,this.b=Math.sin(u+d)*s,this.c=-Math.sin(u-c)*l,this.d=Math.cos(u-c)*l,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,l=e.pivot,u=-Math.atan2(-i,s),c=Math.atan2(n,r),d=Math.abs(u+c);return d<1e-5||Math.abs(Xc-d)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=u,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(l.x*r+l.y*i),e.position.y=this.ty+(l.x*n+l.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,l=e*i-r*n;return this.a=i/l,this.b=-r/l,this.c=-n/l,this.d=e/l,this.tx=(n*this.ty-i*s)/l,this.ty=-(e*this.ty-r*s)/l,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new nt;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new nt}static get TEMP_MATRIX(){return new nt}}const rs=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ns=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],is=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ss=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],om=[],mw=[],Du=Math.sign;function zI(){for(let t=0;t<16;t++){const e=[];om.push(e);for(let r=0;r<16;r++){const n=Du(rs[t]*rs[r]+is[t]*ns[r]),i=Du(ns[t]*rs[r]+ss[t]*ns[r]),s=Du(rs[t]*is[r]+is[t]*ss[r]),l=Du(ns[t]*is[r]+ss[t]*ss[r]);for(let u=0;u<16;u++)if(rs[u]===n&&ns[u]===i&&is[u]===s&&ss[u]===l){e.push(u);break}}}for(let t=0;t<16;t++){const e=new nt;e.set(rs[t],ns[t],is[t],ss[t],0,0),mw.push(e)}}zI();const Qe={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>rs[t],uY:t=>ns[t],vX:t=>is[t],vY:t=>ss[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>om[t][e],sub:(t,e)=>om[t][Qe.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Qe.S:Qe.N:Math.abs(e)*2<=Math.abs(t)?t>0?Qe.E:Qe.W:e>0?t>0?Qe.SE:Qe.SW:t>0?Qe.NE:Qe.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=mw[Qe.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class Hn{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Hn(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const gw=class{constructor(){this.worldTransform=new nt,this.localTransform=new nt,this.position=new Hn(this.onChange,this,0,0),this.scale=new Hn(this.onChange,this,1,1),this.pivot=new Hn(this.onChange,this,0,0),this.skew=new Hn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let wh=gw;wh.IDENTITY=new gw;var jI=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,GI=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function o1(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Ff(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function yw(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Ff(2*e);case"bvec3":return Ff(3*e);case"bvec4":return Ff(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const So=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],$I={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},HI={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function VI(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(n=t.uniforms[i])!=null&&n.group&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const l=t.uniforms[i];let u=!1;for(let c=0;c<So.length;c++)if(So[c].test(s,l)){r.push(So[c].code(i,l)),u=!0;break}if(!u){const d=(s.size===1&&!s.isArray?$I:HI)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${d};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const vw={};let $s=vw;function WI(){if($s===vw||$s!=null&&$s.isContextLost()){const t=ce.ADAPTER.createCanvas();let e;ce.PREFER_ENV>=Ss.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),$s=e}return $s}let Uu;function XI(){if(!Uu){Uu=Nr.MEDIUM;const t=WI();t&&t.getShaderPrecisionFormat&&(Uu=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?Nr.HIGH:Nr.MEDIUM)}return Uu}function a1(t,e){const r=t.getShaderSource(e).split(`
`).map((d,p)=>`${p}: ${d}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},l=i.map(d=>parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(d=>d&&!s[d]?(s[d]=!0,!0):!1),u=[""];l.forEach(d=>{r[d-1]=`%c${r[d-1]}%c`,u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join(`
`);u[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...u),console.groupEnd()}function YI(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||a1(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||a1(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const QI={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function _w(t){return QI[t]}let zu=null;const l1={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function xw(t,e){if(!zu){const r=Object.keys(l1);zu={};for(let n=0;n<r.length;++n){const i=r[n];zu[t[i]]=l1[i]}}return zu[e]}function u1(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Nr.HIGH&&r!==Nr.HIGH&&(n=Nr.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Nr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let pa;function qI(){if(typeof pa=="boolean")return pa;try{pa=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{pa=!1}return pa}let KI=0;const ju={},Xs=class{constructor(t,e,r="pixi-shader",n={}){this.extra={},this.id=KI++,this.vertexSrc=t||Xs.defaultVertexSrc,this.fragmentSrc=e||Xs.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),ju[r]?(ju[r]++,r+=`-${ju[r]}`):ju[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=u1(this.vertexSrc,Xs.defaultVertexPrecision,Nr.HIGH),this.fragmentSrc=u1(this.fragmentSrc,Xs.defaultFragmentPrecision,XI())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return GI}static get defaultFragmentSrc(){return jI}static from(t,e,r){const n=t+e;let i=t1[n];return i||(t1[n]=i=new Xs(t,e,r)),i}};let Jr=Xs;Jr.defaultVertexPrecision=Nr.HIGH;Jr.defaultFragmentPrecision=oo.apple.device?Nr.HIGH:Nr.MEDIUM;let ZI=0;class an{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=ZI++,this.static=!!r,this.ubo=!!n,e instanceof at?(this.buffer=e,this.buffer.type=An.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new at(new Float32Array(1)),this.buffer.type=An.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new an(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new an(e,r,n)}static uboFrom(e,r){return new an(e,r??!0,!0)}}class Rn{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof an?this.uniformGroup=r:this.uniformGroup=new an(r):this.uniformGroup=new an({}),this.disposeRunner=new on("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Jr.from(e,r);return new Rn(i,n)}}class JI{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=an.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Jr(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new nt,default:this.defaultGroupCache[e]};return new Rn(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class am{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function eA(){return!oo.apple.device}function tA(t){let e=!0;const r=ce.ADAPTER.getNavigator();if(oo.tablet||oo.phone){if(oo.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(oo.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Sh{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var rA=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,nA=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Hr=class extends Sh{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=pw,this.vertexSize=6,this.state=ti.for2d(),this.size=Hr.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??tA(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??eA(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return Pe("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return nA}static get defaultFragmentTemplate(){return rA}setShaderGenerator({vertex:t=Hr.defaultVertexSrc,fragment:e=Hr.defaultFragmentTemplate}={}){this.shaderGenerator=new JI(t,e)}contextChange(){const t=this.renderer.gl;ce.PREFER_ENV===Ss.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Hr.defaultMaxTextures),this.maxTextures=PI(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Hr,r=this.size/4,n=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new sm);for(;e.length<n;)e.push(new am);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=Hr._textureArrayPool,n=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let l=++Se._globalBatch,u=0,c=r[0],d=0;n.copyBoundTextures(i,e);for(let p=0;p<this._bufferSize;++p){const y=t[p];t[p]=null,y._batchEnabled!==l&&(c.count>=e&&(n.boundArray(c,i,l,e),this.buildDrawCalls(c,d,p),d=p,c=r[++u],++l),y._batchEnabled=l,y.touched=s,c.elements[c.count++]=y)}c.count>0&&(n.boundArray(c,i,l,e),this.buildDrawCalls(c,d,this._bufferSize),++u,++l);for(let p=0;p<i.length;p++)i[p]=null;Se._globalBatch=l}buildDrawCalls(t,e,r){const{_bufferedElements:n,_attributeBuffer:i,_indexBuffer:s,vertexSize:l}=this,u=Hr._drawCallPool;let c=this._dcIndex,d=this._aIndex,p=this._iIndex,y=u[c];y.start=this._iIndex,y.texArray=t;for(let g=e;g<r;++g){const _=n[g],x=_._texture.baseTexture,T=uw[x.alphaMode?1:0][_.blendMode];n[g]=null,e<g&&y.blend!==T&&(y.size=p-y.start,e=g,y=u[++c],y.texArray=t,y.start=p),this.packInterleavedGeometry(_,i,s,d,p),d+=_.vertexData.length/2*l,p+=_.indices.length,y.blend=T}e<r&&(y.size=p-y.start,++c),this._dcIndex=c,this._aIndex=d,this._iIndex=p}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;Hr.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,n=Hr._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:l,type:u,size:c,start:d,blend:p}=n[s];i!==l&&(i=l,this.bindAndClearTexArray(l)),this.state.blendMode=p,r.set(this.state),e.drawElements(u,c,e.UNSIGNED_SHORT,d*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Hr.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Vc(Math.ceil(t/8)),r=e1(e),n=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new AI(n*this.vertexSize*4)),i}getIndexBuffer(t){const e=Vc(Math.ceil(t/12)),r=e1(e),n=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(t,e,r,n,i){const{uint32View:s,float32View:l}=e,u=n/this.vertexSize,c=t.uvs,d=t.indices,p=t.vertexData,y=t._texture.baseTexture._batchLocation,g=Math.min(t.worldAlpha,1),_=je.shared.setValue(t._tintRGB).toPremultiplied(g);for(let x=0;x<p.length;x+=2)l[n++]=p[x],l[n++]=p[x+1],l[n++]=c[x],l[n++]=c[x+1],s[n++]=_,l[n++]=y;for(let x=0;x<d.length;x++)r[i++]=u+d[x]}};let qr=Hr;qr.defaultBatchSize=4096;qr.extension={name:"batch",type:ue.RendererPlugin};qr._drawCallPool=[];qr._textureArrayPool=[];fe.add(qr);var iA=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,sA=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const ba=class extends Rn{constructor(t,e,r){const n=Jr.from(t||ba.defaultVertexSrc,e||ba.defaultFragmentSrc);super(n,r),this.padding=0,this.resolution=ba.defaultResolution,this.multisample=ba.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new ti}apply(t,e,r,n,i){t.applyFilter(this,e,r,n)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return sA}static get defaultFragmentSrc(){return iA}};let wi=ba;wi.defaultResolution=1;wi.defaultMultisample=ct.NONE;class bh{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new je(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}bh.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};bh.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"background"};fe.add(bh);class ww{constructor(e){this.renderer=e,this.emptyRenderer=new Sh(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:l,count:u}=e;let c=0;for(let d=0;d<u;d++){const p=s[d],y=p._batchLocation;if(y>=0&&y<i&&r[y]===p){l[d]=y;continue}for(;c<i;){const g=r[c];if(g&&g._batchEnabled===n&&g._batchLocation===c){c++;continue}l[d]=c,p._batchLocation=c,r[c]=p;break}}}destroy(){this.renderer=null}}ww.extension={type:ue.RendererSystem,name:"batch"};fe.add(ww);let c1=0;class Th{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=c1++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=c1++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(ce.PREFER_ENV>=Ss.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Th.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"};Th.extension={type:ue.RendererSystem,name:"context"};fe.add(Th);class oA extends xg{upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===ei.UNPACK);const s=r.realWidth,l=r.realHeight;return n.width===s&&n.height===l?i.texSubImage2D(r.target,0,0,0,s,l,r.format,n.type,this.data):(n.width=s,n.height=l,i.texImage2D(r.target,0,n.internalFormat,s,l,0,r.format,n.type,this.data)),!0}}class lm{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new on("disposeFramebuffer"),this.multisample=ct.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Se(null,{scaleMode:$n.NEAREST,resolution:1,mipmap:Mi.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Se(new oA(null,{width:this.width,height:this.height}),{scaleMode:$n.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Mi.OFF,format:te.DEPTH_COMPONENT,type:_e.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class Sw extends Se{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=ct.NONE),super(null,e),this.mipmap=Mi.OFF,this.valid=!0,this._clear=new je([0,0,0,0]),this.framebuffer=new lm(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Li extends cl{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=II(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,l=r.realWidth,u=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===ei.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===l&&n.height===u?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=l,n.height=u,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class bw extends Li{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;Li.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??ce.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=l=>{n(l),this.onError.emit(l)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ei.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const l in s){const u=s[l];if(u!==n&&u.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Tw{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const l=e.width/2/i,u=e.height/2/s,c=e.x/i+l,d=e.y/s+u;n=Qe.add(n,Qe.NW),this.x0=c+l*Qe.uX(n),this.y0=d+u*Qe.uY(n),n=Qe.add(n,2),this.x1=c+l*Qe.uX(n),this.y1=d+u*Qe.uY(n),n=Qe.add(n,2),this.x2=c+l*Qe.uX(n),this.y2=d+u*Qe.uY(n),n=Qe.add(n,2),this.x3=c+l*Qe.uX(n),this.y3=d+u*Qe.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const h1=new Tw;function Gu(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class se extends ko{constructor(e,r,n,i,s,l,u){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Re(0,0,1,1)),e instanceof se&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this._uvs=h1,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=l?new Xe(l.x,l.y):new Xe(0,0),this.defaultBorders=u,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&wn[r.url]&&se.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,se.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new se(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===h1&&(this._uvs=new Tw),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=ce.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Se){if(!e.cacheId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${u}-${ll()}`,Se.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${u}_${ll()}`}s=e._pixiId}let l=wn[s];if(i&&n&&!l)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!l&&!(e instanceof Se)?(r.resolution||(r.resolution=ul(e)),l=new se(new Se(e,r)),l.baseTexture.cacheId=s,Se.addToCache(l.baseTexture,s),se.addToCache(l,s)):!l&&e instanceof Se&&(l=new se(e),se.addToCache(l,s)),l}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=se.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new se(Se.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Se(e,Object.assign({scaleMode:Se.defaultOptions.scaleMode,resolution:ul(r)},i)),{resource:l}=s;l instanceof bw&&(l.url=r);const u=new se(s);return n||(n=r),Se.addToCache(u.baseTexture,n),se.addToCache(u,n),n!==r&&(Se.addToCache(u.baseTexture,r),se.addToCache(u,r)),u.baseTexture.valid?Promise.resolve(u):new Promise(c=>{u.baseTexture.once("loaded",()=>c(u))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),wn[r]&&wn[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),wn[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=wn[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete wn[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)wn[e.textureCacheIds[r]]===e&&delete wn[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,l=r+i>this.baseTexture.width,u=n+s>this.baseTexture.height;if(l||u){const c=l&&u?"and":"or",d=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,p=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${d} ${c} ${p}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return se._EMPTY||(se._EMPTY=new se(new Se),Gu(se._EMPTY),Gu(se._EMPTY.baseTexture)),se._EMPTY}static get WHITE(){if(!se._WHITE){const e=ce.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),se._WHITE=new se(Se.from(e)),Gu(se._WHITE),Gu(se._WHITE.baseTexture)}return se._WHITE}}class Eh extends se{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,l=Math.round(r*i)/i;this.valid=s>0&&l>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=l,n&&this.baseTexture.resize(s,l),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new Eh(new Sw(e))}}class Ew{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=ct.NONE){const i=new Sw(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Eh(i)}getOptimalTexture(e,r,n=1,i=ct.NONE){let s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Vc(e),r=Vc(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let l=this.texturePool[s].pop();return l||(l=this.createTexture(e,r,i)),l.filterPoolKey=s,l.setResolution(n),l}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||ct.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}Ew.SCREEN_KEY=-1;class aA extends Fi{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class Cw extends Fi{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new at(this.vertices),this.uvBuffer=new at(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class lA{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=ct.NONE,this.sourceFrame=new Re,this.destinationFrame=new Re,this.bindingSourceFrame=new Re,this.bindingDestinationFrame=new Re,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const $u=[new Xe,new Xe,new Xe,new Xe],Lf=new nt;class Iw{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new Ew,this.statePool=[],this.quad=new aA,this.quadUv=new Cw,this.tempRect=new Re,this.activeState={},this.globalUniforms=new an({outputFrame:new Re,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new lA,l=this.renderer.renderTexture;let u=r[0].resolution,c=r[0].multisample,d=r[0].padding,p=r[0].autoFit,y=r[0].legacy??!0;for(let x=1;x<r.length;x++){const T=r[x];u=Math.min(u,T.resolution),c=Math.min(c,T.multisample),d=this.useMaxPadding?Math.max(d,T.padding):d+T.padding,p=p&&T.autoFit,y=y||(T.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=l.current),i.push(s),s.resolution=u,s.multisample=c,s.legacy=y,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(d);const g=this.tempRect.copyFrom(l.sourceFrame);n.projection.transform&&this.transformAABB(Lf.copyFrom(n.projection.transform).invert(),g),p?(s.sourceFrame.fit(g),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(g)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,l.current?l.current.resolution:n.resolution,l.sourceFrame,l.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,u,c),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const _=this.tempRect;_.x=0,_.y=0,_.width=s.sourceFrame.width,_.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(l.sourceFrame),s.bindingDestinationFrame.copyFrom(l.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,l.bind(s.renderTexture,s.sourceFrame,_),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,l=i.inputPixel,u=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],l[0]=Math.round(s[0]*r.resolution),l[1]=Math.round(s[1]*r.resolution),l[2]=1/l[0],l[3]=1/l[1],u[0]=.5*l[2],u[1]=.5*l[3],u[2]=r.sourceFrame.width*s[2]-.5*l[2],u[3]=r.sourceFrame.height*s[3]-.5*l[3],r.legacy){const d=i.filterArea;d[0]=r.destinationFrame.width,d[1]=r.destinationFrame.height,d[2]=r.sourceFrame.x,d[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,ts.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let d=r.renderTexture,p=this.getOptimalFilterTexture(d.width,d.height,r.resolution);p.filterFrame=d.filterFrame;let y=0;for(y=0;y<n.length-1;++y){y===1&&r.multisample>1&&(p=this.getOptimalFilterTexture(d.width,d.height,r.resolution),p.filterFrame=d.filterFrame),n[y].apply(this,d,p,ts.CLEAR,r);const g=d;d=p,p=g}n[y].apply(this,d,c.renderTexture,ts.BLEND,r),y>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(p)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=ts.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const l=this.tempRect;l.x=0,l.y=0,l.width=e.filterFrame.width,l.height=e.filterFrame.height,n.bind(e,e.filterFrame,l)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===ts.CLEAR||r===ts.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Zr.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Zr.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,l=e.set(i.width,0,0,i.height,n.x,n.y),u=r.worldTransform.copyTo(nt.TEMP_MATRIX);return u.invert(),l.prepend(u),l.scale(1/s.width,1/s.height),l.translate(r.anchor.x,r.anchor.y),l}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=ct.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||ct.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=$u[0],i=$u[1],s=$u[2],l=$u[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),l.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(l,l);const u=Math.min(n.x,i.x,s.x,l.x),c=Math.min(n.y,i.y,s.y,l.y),d=Math.max(n.x,i.x,s.x,l.x),p=Math.max(n.y,i.y,s.y,l.y);r.x=u,r.y=c,r.width=d-u,r.height=p-c}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:l,b:u,c,d}=s;if((Math.abs(u)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(l)>1e-4||Math.abs(d)>1e-4))return}s=s?Lf.copyFrom(s):Lf.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}Iw.extension={type:ue.RendererSystem,name:"filter"};fe.add(Iw);class uA{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=ct.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const cA=new Re;class Aw{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new lm(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Re,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;ce.PREFER_ENV===Ss.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let l=0;l<e.colorTextures.length;l++){const u=e.colorTextures[l];this.renderer.texture.unbind(u.parentTextureArray||u)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const l=r.width>>n,u=r.height>>n,c=l/r.width;this.setViewport(r.x*c,r.y*c,l,u)}else{const l=e.width>>n,u=e.height>>n;this.setViewport(0,0,l,u)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Wp.COLOR|Wp.DEPTH){const{gl:l}=this;l.clearColor(e,r,n,i),l.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new uA(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let l=0;l<s;l++){const u=i[l],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),l===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let l=s.length;n.drawBuffers||(l=Math.min(l,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const u=[];for(let c=0;c<l;c++){const d=s[c],p=d.parentTextureArray||d;this.renderer.texture.bind(p,0),c===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,p._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,d.target,p._glTextures[this.CONTEXT_UID].texture,r),u.push(n.COLOR_ATTACHMENT0+c))}if(u.length>1&&n.drawBuffers(u),e.depthTexture&&this.writeDepthTexture){const d=e.depthTexture;this.renderer.texture.bind(d,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,d._glTextures[this.CONTEXT_UID].texture,r)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=ct.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=ct.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:l,CONTEXT_UID:u}=this;if(s.context.webGLVersion!==2||!i)return;const c=i.glFramebuffers[u];if(!c)return;if(!e){if(!c.msaaBuffer)return;const p=i.colorTextures[0];if(!p)return;c.blitFramebuffer||(c.blitFramebuffer=new lm(i.width,i.height),c.blitFramebuffer.addColorTexture(0,p)),e=c.blitFramebuffer,e.colorTextures[0]!==p&&(e.colorTextures[0]=p,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=cA,r.width=i.width,r.height=i.height),n||(n=r);const d=r.width===n.width&&r.height===n.height;this.bind(e),l.bindFramebuffer(l.READ_FRAMEBUFFER,c.framebuffer),l.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,l.COLOR_BUFFER_BIT,d?l.NEAREST:l.LINEAR)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,l=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,l),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=l,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,l)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Re}destroy(){this.renderer=null}}Aw.extension={type:ue.RendererSystem,name:"framebuffer"};fe.add(Aw);const Of={5126:4,5123:2,5121:1};class Rw{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;ce.PREFER_ENV===Ss.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,l,u,c)=>n.drawElementsInstancedANGLE(i,s,l,u,c),e.drawArraysInstanced=(i,s,l,u)=>n.drawArraysInstancedANGLE(i,s,l,u)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const l=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==l&&(this._activeVao=l,this.hasVao?n.bindVertexArray(l):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const l in n)i[l]&&s.push(l,i[l].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,l=this.renderer.buffer,u=r.program;u.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,u);const c=this.getSignature(e,u),d=e.glVertexArrayObjects[this.CONTEXT_UID];let p=d[c];if(p)return d[u.id]=p,p;const y=e.buffers,g=e.attributes,_={},x={};for(const T in y)_[T]=0,x[T]=0;for(const T in g)!g[T].size&&u.attributeData[T]?g[T].size=u.attributeData[T].size:g[T].size||console.warn(`PIXI Geometry attribute '${T}' size cannot be determined (likely the bound shader does not have the attribute)`),_[g[T].buffer]+=g[T].size*Of[g[T].type];for(const T in g){const C=g[T],b=C.size;C.stride===void 0&&(_[C.buffer]===b*Of[C.type]?C.stride=0:C.stride=_[C.buffer]),C.start===void 0&&(C.start=x[C.buffer],x[C.buffer]+=b*Of[C.type])}p=i.createVertexArray(),i.bindVertexArray(p);for(let T=0;T<y.length;T++){const C=y[T];l.bind(C),n&&C._glBuffers[s].refCount++}return this.activateVao(e,u),d[u.id]=p,d[c]=p,i.bindVertexArray(null),l.unbind(An.ARRAY_BUFFER),p}disposeGeometry(e,r){var u;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,l=(u=this.renderer)==null?void 0:u.buffer;if(e.disposeRunner.remove(this),!!n){if(l)for(let c=0;c<s.length;c++){const d=s[c]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!r&&l.dispose(s[c],r))}if(!r){for(const c in n)if(c[0]==="g"){const d=n[c];this._activeVao===d&&this.unbind(),i.deleteVertexArray(d)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,l=e.buffers,u=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let c=null;for(const d in u){const p=u[d],y=l[p.buffer],g=y._glBuffers[i];if(r.attributeData[d]){c!==g&&(s.bind(y),c=g);const _=r.attributeData[d].location;if(n.enableVertexAttribArray(_),n.vertexAttribPointer(_,p.size,p.type||n.FLOAT,p.normalized,p.stride,p.start),p.instance)if(this.hasInstance)n.vertexAttribDivisor(_,p.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,l=this._activeGeometry;if(l.indexBuffer){const u=l.indexBuffer.data.BYTES_PER_ELEMENT,c=u===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;u===2||u===4&&this.canUseUInt32ElementIndex?l.instanced?s.drawElementsInstanced(e,r||l.indexBuffer.data.length,c,(n||0)*u,i||1):s.drawElements(e,r||l.indexBuffer.data.length,c,(n||0)*u):console.warn("unsupported index buffer type: uint32")}else l.instanced?s.drawArraysInstanced(e,n,r||l.getSize(),i||1):s.drawArrays(e,n,r||l.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}Rw.extension={type:ue.RendererSystem,name:"geometry"};fe.add(Rw);const d1=new nt;class Tg{constructor(e,r){this._texture=e,this.mapCoord=new nt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],l=e[i+1];r[i]=s*n.a+l*n.c+n.tx,r[i+1]=s*n.b+l*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(d1.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(d1));const l=r.baseTexture,u=this.uClampFrame,c=this.clampMargin/l.resolution,d=this.clampOffset;return u[0]=(r._frame.x+c+d)/l.width,u[1]=(r._frame.y+c+d)/l.height,u[2]=(r._frame.x+r._frame.width-c+d)/l.width,u[3]=(r._frame.y+r._frame.height-c+d)/l.height,this.uClampOffset[0]=d/l.realWidth,this.uClampOffset[1]=d/l.realHeight,this.isSimple=r._frame.width===l.width&&r._frame.height===l.height&&r.rotate===0,!0}}var hA=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,dA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class fA extends wi{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||dA,r||hA,n),this.maskSprite=i,this.maskMatrix=new nt}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,l=s._texture;l.valid&&(l.uvMatrix||(l.uvMatrix=new Tg(l,0)),l.uvMatrix.update(),this.uniforms.npmAlpha=l.baseTexture.alphaMode?0:1,this.uniforms.mask=l,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(l.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=l.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class pA{constructor(e=null){this.type=ft.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=wi.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=ft.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class kw{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new pA;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==ft.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case ft.SCISSOR:this.renderer.scissor.push(n);break;case ft.STENCIL:this.renderer.stencil.push(n);break;case ft.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case ft.COLOR:this.pushColorMask(n);break}n.type===ft.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case ft.SCISSOR:this.renderer.scissor.pop(r);break;case ft.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case ft.SPRITE:this.popSpriteMask(r);break;case ft.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===ft.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=ft.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=ft.SCISSOR:e.type=ft.STENCIL:e.type=ft.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new fA]));const s=this.renderer,l=s.renderTexture;let u,c;if(l.current){const p=l.current;u=e.resolution||p.resolution,c=e.multisample??p.multisample}else u=e.resolution||s.resolution,c=e.multisample??s.multisample;i[0].resolution=u,i[0].multisample=c,i[0].maskSprite=r;const d=n.filterArea;n.filterArea=r.getBounds(!0),s.filter.push(n,i),n.filterArea=d,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}kw.extension={type:ue.RendererSystem,name:"mask"};fe.add(kw);class Pw{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const f1=new nt,p1=[],fc=class extends Pw{constructor(t){super(t),this.glConst=ce.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:n}=this,i=n.renderTexture,s=r.getBounds(!0,p1.pop()??new Re);this.roundFrameToPixels(s,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:n,d:i}=t;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||fc.isMatrixRotated(e.worldTransform)||fc.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,n,i){fc.isMatrixRotated(i)||(i=i?f1.copyFrom(i):f1.identity(),i.translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(i,t),t.fit(n),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&p1.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let Nw=fc;Nw.extension={type:ue.RendererSystem,name:"scissor"};fe.add(Nw);class Mw extends Pw{constructor(e){super(e),this.glConst=ce.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}Mw.extension={type:ue.RendererSystem,name:"stencil"};fe.add(Mw);class Fw{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Pe("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Pe("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Pe("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}Fw.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"_plugin"};fe.add(Fw);class Lw{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new nt,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,l=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=l*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-l-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}Lw.extension={type:ue.RendererSystem,name:"projection"};fe.add(Lw);const mA=new wh;class Ow{constructor(e){this.renderer=e,this._tempMatrix=new nt}generateTexture(e,r){const{region:n,...i}=r||{},s=n||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const l=Eh.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const u=e.transform;return e.transform=mA,this.renderer.render(e,{renderTexture:l,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=u,l}destroy(){}}Ow.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"textureGenerator"};fe.add(Ow);const qi=new Re,ma=new Re;class Bw{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Re,this.destinationFrame=new Re,this.viewportFrame=new Re}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,l,u;e?(s=e.baseTexture,u=s.resolution,r||(qi.width=e.frame.width,qi.height=e.frame.height,r=qi),n||(ma.x=e.frame.x,ma.y=e.frame.y,ma.width=r.width,ma.height=r.height,n=ma),l=s.framebuffer):(u=i.resolution,r||(qi.width=i._view.screen.width,qi.height=i._view.screen.height,r=qi),n||(n=qi,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*u,c.y=n.y*u,c.width=n.width*u,c.height=n.height*u,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(l,c),this.renderer.projection.update(n,r,u,!l),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=e?je.shared.setValue(e):n,s=this.destinationFrame,l=this.current?this.current.baseTexture:this.renderer._view.screen,u=s.width!==l.width||s.height!==l.height;if(u){let{x:c,y:d,width:p,height:y}=this.viewportFrame;c=Math.round(c),d=Math.round(d),p=Math.round(p),y=Math.round(y),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,d,p,y)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),u&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}Bw.extension={type:ue.RendererSystem,name:"renderTexture"};fe.add(Bw);class gA{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function yA(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const l=xw(e,s.type),u={type:l,name:s.name,size:_w(l),location:e.getAttribLocation(t,s.name)};r[s.name]=u}return r}function vA(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),l=s.name.replace(/\[.*?\]$/,""),u=!!s.name.match(/\[.*?\]$/),c=xw(e,s.type);r[l]={name:l,index:i,type:c,size:s.size,isArray:u,value:yw(c,s.size)}}return r}function _A(t,e){var c;const r=o1(t,t.VERTEX_SHADER,e.vertexSrc),n=o1(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(c=e.extra)==null?void 0:c.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||YI(t,i,r,n),e.attributeData=yA(i,t),e.uniformData=vA(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const d=Object.keys(e.attributeData);d.sort((p,y)=>p>y?1:-1);for(let p=0;p<d.length;p++)e.attributeData[d[p]].location=p,t.bindAttribLocation(i,p,d[p]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const l={};for(const d in e.uniformData){const p=e.uniformData[d];l[d]={location:t.getUniformLocation(i,d),value:yw(p.type,p.size)}}return new gA(i,l)}function xA(t,e,r,n,i){r.buffer.update(i)}const wA={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Dw={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function SA(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const l=e[s];if(r=Dw[l.data.type],l.data.size>1&&(r=Math.max(r,16)*l.data.size),l.dataLen=r,n%r!==0&&n<16){const u=n%r%16;n+=u,i+=u}n+r>16?(i=Math.ceil(i/16)*16,l.offset=i,i+=r,n=r):(l.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function bA(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function TA(t,e){if(!t.autoManage)return{size:0,syncFunc:xA};const r=bA(t.uniforms,e),{uboElements:n,size:i}=SA(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let l=0;l<n.length;l++){const u=n[l],c=t.uniforms[u.data.name],d=u.data.name;let p=!1;for(let y=0;y<So.length;y++){const g=So[y];if(g.codeUbo&&g.test(u.data,c)){s.push(`offset = ${u.offset/4};`,So[y].codeUbo(u.data.name,c)),p=!0;break}}if(!p)if(u.data.size>1){const y=_w(u.data.type),g=Math.max(Dw[u.data.type]/16,1),_=y/g,x=(4-_%4)%4;s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${u.offset/4};

                t = 0;

                for(var i=0; i < ${u.data.size*g}; i++)
                {
                    for(var j = 0; j < ${_}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${x};
                }

                `)}else{const y=wA[u.data.type];s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${u.offset/4};
                ${y};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let EA=0;const Hu={textureCount:0,uboCount:0};class Uw{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=EA++}systemCheck(){if(!qI())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Hu.textureCount=0,Hu.uboCount=0,this.syncUniformGroup(e.uniformGroup,Hu)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=VI(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Hu,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const l=this.getSignature(e,this.shader.program.uniformData,"ubo");let u=this._uboCache[l];if(u||(u=this._uboCache[l]=TA(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(u.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=u.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const l in i)s.push(l),r[l]&&s.push(r[l].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=_A(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}Uw.extension={type:ue.RendererSystem,name:"shader"};fe.add(Uw);class Ch{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.2.1 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}Ch.defaultOptions={hello:!1};Ch.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"startup"};fe.add(Ch);function CA(t,e=[]){return e[de.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[de.ADD]=[t.ONE,t.ONE],e[de.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[de.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[de.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[de.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[de.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[de.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[de.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[de.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[de.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[de.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[de.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[de.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[de.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[de.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[de.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[de.NONE]=[0,0],e[de.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[de.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[de.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[de.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[de.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[de.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[de.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[de.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[de.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[de.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[de.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[de.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const IA=0,AA=1,RA=2,kA=3,PA=4,NA=5,um=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=de.NONE,this._blendEq=!1,this.map=[],this.map[IA]=this.setBlend,this.map[AA]=this.setOffset,this.map[RA]=this.setCullFace,this.map[kA]=this.setDepthTest,this.map[PA]=this.setFrontFace,this.map[NA]=this.setDepthMask,this.checks=[],this.defaultState=new ti,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=CA(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(um.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(um.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let zw=um;zw.extension={type:ue.RendererSystem,name:"state"};fe.add(zw);class MA extends ko{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new on(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(l=>this._systemsHash[l]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const pc=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=pc.defaultMaxIdle,this.checkCountMax=pc.defaultCheckCountMax,this.mode=pc.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==_g.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let n=0;n<e.length;n++){const i=e[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){let n=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[n++]=e[i]);e.length=n}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let n=t.children.length-1;n>=0;n--)this.unload(t.children[n])}destroy(){this.renderer=null}};let Kr=pc;Kr.defaultMode=_g.AUTO;Kr.defaultMaxIdle=60*60;Kr.defaultCheckCountMax=60*10;Kr.extension={type:ue.RendererSystem,name:"textureGC"};fe.add(Kr);class Bf{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=_e.UNSIGNED_BYTE,this.internalFormat=te.RGBA,this.samplerType=0}}function FA(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[_e.UNSIGNED_BYTE]:{[te.RGBA]:t.RGBA8,[te.RGB]:t.RGB8,[te.RG]:t.RG8,[te.RED]:t.R8,[te.RGBA_INTEGER]:t.RGBA8UI,[te.RGB_INTEGER]:t.RGB8UI,[te.RG_INTEGER]:t.RG8UI,[te.RED_INTEGER]:t.R8UI,[te.ALPHA]:t.ALPHA,[te.LUMINANCE]:t.LUMINANCE,[te.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[_e.BYTE]:{[te.RGBA]:t.RGBA8_SNORM,[te.RGB]:t.RGB8_SNORM,[te.RG]:t.RG8_SNORM,[te.RED]:t.R8_SNORM,[te.RGBA_INTEGER]:t.RGBA8I,[te.RGB_INTEGER]:t.RGB8I,[te.RG_INTEGER]:t.RG8I,[te.RED_INTEGER]:t.R8I},[_e.UNSIGNED_SHORT]:{[te.RGBA_INTEGER]:t.RGBA16UI,[te.RGB_INTEGER]:t.RGB16UI,[te.RG_INTEGER]:t.RG16UI,[te.RED_INTEGER]:t.R16UI,[te.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[_e.SHORT]:{[te.RGBA_INTEGER]:t.RGBA16I,[te.RGB_INTEGER]:t.RGB16I,[te.RG_INTEGER]:t.RG16I,[te.RED_INTEGER]:t.R16I},[_e.UNSIGNED_INT]:{[te.RGBA_INTEGER]:t.RGBA32UI,[te.RGB_INTEGER]:t.RGB32UI,[te.RG_INTEGER]:t.RG32UI,[te.RED_INTEGER]:t.R32UI,[te.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[_e.INT]:{[te.RGBA_INTEGER]:t.RGBA32I,[te.RGB_INTEGER]:t.RGB32I,[te.RG_INTEGER]:t.RG32I,[te.RED_INTEGER]:t.R32I},[_e.FLOAT]:{[te.RGBA]:t.RGBA32F,[te.RGB]:t.RGB32F,[te.RG]:t.RG32F,[te.RED]:t.R32F,[te.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[_e.HALF_FLOAT]:{[te.RGBA]:t.RGBA16F,[te.RGB]:t.RGB16F,[te.RG]:t.RG16F,[te.RED]:t.R16F},[_e.UNSIGNED_SHORT_5_6_5]:{[te.RGB]:t.RGB565},[_e.UNSIGNED_SHORT_4_4_4_4]:{[te.RGBA]:t.RGBA4},[_e.UNSIGNED_SHORT_5_5_5_1]:{[te.RGBA]:t.RGB5_A1},[_e.UNSIGNED_INT_2_10_10_10_REV]:{[te.RGBA]:t.RGB10_A2,[te.RGBA_INTEGER]:t.RGB10_A2UI},[_e.UNSIGNED_INT_10F_11F_11F_REV]:{[te.RGB]:t.R11F_G11F_B10F},[_e.UNSIGNED_INT_5_9_9_9_REV]:{[te.RGB]:t.RGB9_E5},[_e.UNSIGNED_INT_24_8]:{[te.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[_e.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[te.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[_e.UNSIGNED_BYTE]:{[te.RGBA]:t.RGBA,[te.RGB]:t.RGB,[te.ALPHA]:t.ALPHA,[te.LUMINANCE]:t.LUMINANCE,[te.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[_e.UNSIGNED_SHORT_5_6_5]:{[te.RGB]:t.RGB},[_e.UNSIGNED_SHORT_4_4_4_4]:{[te.RGBA]:t.RGBA},[_e.UNSIGNED_SHORT_5_5_5_1]:{[te.RGBA]:t.RGBA}},e}class jw{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Se,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=FA(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new Bf(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Bf(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const l=r[s];l&&l._glTextures[i].samplerType!==Xp.FLOAT&&this.renderer.texture.unbind(l)}}initTexture(e){const r=new Bf(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,this.webGLVersion===2&&e.type===_e.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)!=null&&i.upload(n,e,r))r.samplerType!==Xp.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,l=e.realHeight,u=n.gl;(r.width!==s||r.height!==l||r.dirtyId<0)&&(r.width=s,r.height=l,u.texImage2D(e.target,0,r.internalFormat,s,l,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&Ba(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Mi.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Wn.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Mi.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===$n.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===$n.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===$n.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===$n.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}jw.extension={type:ue.RendererSystem,name:"texture"};fe.add(jw);class Gw{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let l=0;l<e.buffers.length;l++){const u=e.buffers[l];u&&(n.buffer.update(u),u._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,l,u._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let l=0;l<e.buffers.length;l++){const u=e.buffers[l];if(!u)continue;const c=u._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&s.dispose(u,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Gw.extension={type:ue.RendererSystem,name:"transformFeedback"};fe.add(Gw);class Ih{constructor(e){this.renderer=e}init(e){this.screen=new Re(0,0,e.width,e.height),this.element=e.view||ce.ADAPTER.createCanvas(),this.resolution=e.resolution||ce.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Ih.defaultOptions={width:800,height:600,resolution:ce.RESOLUTION,autoDensity:!1};Ih.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"_view"};fe.add(Ih);ce.PREFER_ENV=Ss.WEBGL2;ce.STRICT_TEXTURE_CACHE=!1;ce.RENDER_OPTIONS={...Th.defaultOptions,...bh.defaultOptions,...Ih.defaultOptions,...Ch.defaultOptions};Object.defineProperties(ce,{WRAP_MODE:{get(){return Se.defaultOptions.wrapMode},set(t){Pe("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Se.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Se.defaultOptions.scaleMode},set(t){Pe("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Se.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Se.defaultOptions.mipmap},set(t){Pe("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Se.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Se.defaultOptions.anisotropicLevel},set(t){Pe("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Se.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Pe("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),wi.defaultResolution},set(t){wi.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Pe("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),wi.defaultMultisample},set(t){wi.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return qr.defaultMaxTextures},set(t){Pe("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),qr.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return qr.defaultBatchSize},set(t){Pe("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),qr.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return qr.canUploadSameBuffer},set(t){Pe("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),qr.canUploadSameBuffer=t}},GC_MODE:{get(){return Kr.defaultMode},set(t){Pe("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Kr.defaultMode=t}},GC_MAX_IDLE:{get(){return Kr.defaultMaxIdle},set(t){Pe("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Kr.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Kr.defaultCheckCountMax},set(t){Pe("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Kr.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Jr.defaultVertexPrecision},set(t){Pe("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Jr.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Jr.defaultFragmentPrecision},set(t){Pe("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Jr.defaultFragmentPrecision=t}}});var hl=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(hl||{});class Df{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const hr=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Df(null,null,1/0),this.deltaMS=1/hr.targetFPMS,this.elapsedMS=1/hr.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=hl.NORMAL){return this._addListener(new Df(t,e,r))}addOnce(t,e,r=hl.NORMAL){return this._addListener(new Df(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(!e)t.connect(r);else{for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r.match(t,e)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*hr.targetFPMS;const r=this._head;let n=r.next;for(;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,hr.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!hr._shared){const t=hr._shared=new hr;t.autoStart=!0,t._protected=!0}return hr._shared}static get system(){if(!hr._system){const t=hr._system=new hr;t.autoStart=!0,t._protected=!0}return hr._system}};let Ut=hr;Ut.targetFPMS=.06;Object.defineProperties(ce,{TARGET_FPMS:{get(){return Ut.targetFPMS},set(t){Pe("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Ut.targetFPMS=t}}});class $w{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,hl.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ut.shared:new Ut,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}$w.extension=ue.Application;fe.add($w);const Hw=[];fe.handleByList(ue.Renderer,Hw);function LA(t){for(const e of Hw)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}class Vw{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=ct.HIGH?this.multisample=ct.HIGH:r>=ct.MEDIUM?this.multisample=ct.MEDIUM:r>=ct.LOW?this.multisample=ct.LOW:this.multisample=ct.NONE}destroy(){}}Vw.extension={type:ue.RendererSystem,name:"_multisample"};fe.add(Vw);class OA{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Ww{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const l=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,l.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new OA(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}Ww.extension={type:ue.RendererSystem,name:"buffer"};fe.add(Ww);class Xw{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,l,u;if(r&&(i=r.renderTexture,s=r.clear,l=r.transform,u=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=l,!n.context.isLost){if(i||(this.lastObjectRendered=e),!u){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}Xw.extension={type:ue.RendererSystem,name:"objectRenderer"};fe.add(Xw);const cm=class extends MA{constructor(t){super(),this.type=rw.WEBGL,t=Object.assign({},ce.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new an({projectionMatrix:new nt},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:cm.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(Pe("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=cm.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:dI()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Pe("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Pe("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Pe("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Pe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Pe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Pe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){Pe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Pe("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let Oo=cm;Oo.extension={type:ue.Renderer,priority:1};Oo.__plugins={};Oo.__systems={};fe.handleByMap(ue.RendererPlugin,Oo.__plugins);fe.handleByMap(ue.RendererSystem,Oo.__systems);fe.add(Oo);class Yw extends cl{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const l=new Se;this.items.push(l),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof cl?this.addResourceAt(e[n],n):this.addResourceAt(fw(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const r=this.items.map(n=>n.resource).filter(n=>n).map(n=>n.load());return this._load=Promise.all(r).then(()=>{const{realWidth:n,realHeight:i}=this.items[0];return this.resize(n,i),Promise.resolve(this)}),this._load}}class BA extends Yw{constructor(e,r){const{width:n,height:i}=r||{};let s,l;Array.isArray(e)?(s=e,l=e.length):l=e,super(l,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=vo.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:l}=this,{gl:u}=e;n.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let c=0;c<i;c++){const d=l[c];s[c]<d.dirtyId&&(s[c]=d.dirtyId,d.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,c,d.resource.width,d.resource.height,1,r.format,n.type,d.resource.source))}return!0}}class DA extends Li{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Ta=class extends Yw{constructor(t,e){const{width:r,height:n,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==Ta.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:n});for(let l=0;l<Ta.SIDES;l++)this.items[l].target=vo.TEXTURE_CUBE_MAP_POSITIVE_X+l;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=vo.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=vo.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const n=this.itemDirtyIds;for(let i=0;i<Ta.SIDES;i++){const s=this.items[i];(n[i]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),n[i]=s.dirtyId):n[i]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),n[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Ta.SIDES}};let Qw=Ta;Qw.SIDES=6;class uo extends Li{constructor(e,r){r=r||{};let n,i;typeof e=="string"?(n=uo.EMPTY,i=e):(n=e,i=null),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await ce.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ei.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return uo._EMPTY=uo._EMPTY??ce.ADAPTER.createCanvas(0,0),uo._EMPTY}}const mc=class extends Li{constructor(t,e){e=e||{},super(ce.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},mc.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Li.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=e*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*e,i=this._overrideHeight||this._overrideWidth/e*r),n=Math.round(n),i=Math.round(i);const s=this.source;s.width=n,s.height=i,s._pixiId=`canvas_${ll()}`,s.getContext("2d").drawImage(t,0,0,e,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(t){const e=mc.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&mc.SVG_XML.test(t)}};let dl=mc;dl.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;dl.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const hm=class extends Li{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const n=t[0].src||t[0];Li.crossOrigin(r,n,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:l,mime:u}=t[i];l=l||t[i];const c=l.split("?").shift().toLowerCase(),d=c.slice(c.lastIndexOf(".")+1);u=u||hm.MIME_TYPES[d]||`video/${d}`,s.src=l,s.type=u,r.appendChild(s)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=Ut.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ut.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(Ut.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(Ut.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Ut.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ut.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||hm.TYPES.includes(e)}};let Eg=hm;Eg.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];Eg.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};im.push(uo,bw,DA,Eg,dl,xg,Qw,BA);class Yc{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Re.EMPTY:(e=e||new Re(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:l,tx:u,ty:c}=e,d=n*r.x+s*r.y+u,p=i*r.x+l*r.y+c;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,p),this.maxY=Math.max(this.maxY,p)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,l=e[0],u=e[1];r=l<r?l:r,n=u<n?u:n,i=l>i?l:i,s=u>s?u:s,l=e[2],u=e[3],r=l<r?l:r,n=u<n?u:n,i=l>i?l:i,s=u>s?u:s,l=e[4],u=e[5],r=l<r?l:r,n=u<n?u:n,i=l>i?l:i,s=u>s?u:s,l=e[6],u=e[7],r=l<r?l:r,n=u<n?u:n,i=l>i?l:i,s=u>s?u:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const l=e.a,u=e.b,c=e.c,d=e.d,p=e.tx,y=e.ty;let g=this.minX,_=this.minY,x=this.maxX,T=this.maxY,C=l*r+c*n+p,b=u*r+d*n+y;g=C<g?C:g,_=b<_?b:_,x=C>x?C:x,T=b>T?b:T,C=l*i+c*n+p,b=u*i+d*n+y,g=C<g?C:g,_=b<_?b:_,x=C>x?C:x,T=b>T?b:T,C=l*r+c*s+p,b=u*r+d*s+y,g=C<g?C:g,_=b<_?b:_,x=C>x?C:x,T=b>T?b:T,C=l*i+c*s+p,b=u*i+d*s+y,g=C<g?C:g,_=b<_?b:_,x=C>x?C:x,T=b>T?b:T,this.minX=g,this.minY=_,this.maxX=x,this.maxY=T}addVertexData(e,r,n){let i=this.minX,s=this.minY,l=this.maxX,u=this.maxY;for(let c=r;c<n;c+=2){const d=e[c],p=e[c+1];i=d<i?d:i,s=p<s?p:s,l=d>l?d:l,u=p>u?p:u}this.minX=i,this.minY=s,this.maxX=l,this.maxY=u}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,l=s){const u=e.a,c=e.b,d=e.c,p=e.d,y=e.tx,g=e.ty;let _=this.minX,x=this.minY,T=this.maxX,C=this.maxY;for(let b=n;b<i;b+=2){const S=r[b],w=r[b+1],I=u*S+d*w+y,M=p*w+c*S+g;_=Math.min(_,I-s),T=Math.max(T,I+s),x=Math.min(x,M-l),C=Math.max(C,M+l)}this.minX=_,this.minY=x,this.maxX=T,this.maxY=C}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,l=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=l){const u=this.minX,c=this.minY,d=this.maxX,p=this.maxY;this.minX=n<u?n:u,this.minY=i<c?i:c,this.maxX=s>d?s:d,this.maxY=l>p?l:p}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,l=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=l){const u=this.minX,c=this.minY,d=this.maxX,p=this.maxY;this.minX=n<u?n:u,this.minY=i<c?i:c,this.maxX=s>d?s:d,this.maxY=l>p?l:p}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,l){e-=s,r-=l,n+=s,i+=l,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class _s extends ko{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new wh,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Yc,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(_s.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Re),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Re),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Yc);const r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const l=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,l}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,l=0,u=0,c=0,d=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=l,this.skew.y=u,this.pivot.x=c,this.pivot.y=d,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new UA),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*DI}set angle(e){this.transform.rotation=e*UI}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class UA extends _s{constructor(){super(...arguments),this.sortDirty=null}}_s.prototype.displayObjectUpdateTransform=_s.prototype.updateTransform;const zA=new nt;function jA(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const dm=class extends _s{constructor(){super(),this.children=[],this.sortableChildren=dm.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);Ba(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(r===-1)return null;e.parent=null,e.transform._parentID=-1,Ba(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Ba(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,n=e,i=n-r;let s;if(i>0&&i<=n){s=this.children.splice(r,i);for(let l=0;l<s.length;++l)s[l].parent=null,s[l].transform&&(s[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let l=0;l<s.length;++l)s[l].emit("removed",this),this.emit("childRemoved",s[l],this,l);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n._lastSortedIndex=e,!t&&n.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(jA),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let n=0,i=this.children.length;n<i;++n){const s=this.children[n];s.visible&&s.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,n;this.cullArea?(r=this.cullArea,n=this.worldTransform):this._render!==dm.prototype._render&&(r=this.getBounds(!0));const i=t.projection.transform;if(i&&(n?(n=zA.copyFrom(n),n.prepend(i)):n=i),r&&e.intersects(r,n))this._render(t);else if(this.cullArea)return;for(let s=0,l=this.children.length;s<l;++s){const u=this.children[s],c=u.cullable;u.cullable=c||!this.cullArea,u.render(t),u.cullable=c}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let r=0,n=this.children.length;r<n;++r)this.children[r].render(t)}}renderAdvanced(t){var i,s,l;const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let u=0;u<e.length;u++)e[u].enabled&&this._enabledFilters.push(e[u])}const n=e&&((i=this._enabledFilters)==null?void 0:i.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==ft.NONE));if(n&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let u=0,c=this.children.length;u<c;++u)this.children[u].render(t)}n&&t.batch.flush(),r&&t.mask.pop(this),e&&((l=this._enabledFilters)!=null&&l.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,r=this.removeChildren(0,this.children.length);if(e)for(let n=0;n<r.length;++n)r[n].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let sr=dm;sr.defaultSortableChildren=!1;sr.prototype.containerUpdateTransform=sr.prototype.updateTransform;Object.defineProperties(ce,{SORTABLE_CHILDREN:{get(){return sr.defaultSortableChildren},set(t){Pe("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),sr.defaultSortableChildren=t}}});var Ah=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Ah||{});const ga=new Xe,GA=new Uint16Array([0,1,2,0,2,3]);class bs extends sr{constructor(e){super(),this._anchor=new Hn(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new je(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=de.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||se.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=GA,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ce.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=lo(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=lo(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,l=r.d,u=r.tx,c=r.ty,d=this.vertexData,p=e.trim,y=e.orig,g=this._anchor;let _=0,x=0,T=0,C=0;if(p?(x=p.x-g._x*y.width,_=x+p.width,C=p.y-g._y*y.height,T=C+p.height):(x=-g._x*y.width,_=x+y.width,C=-g._y*y.height,T=C+y.height),d[0]=n*x+s*C+u,d[1]=l*C+i*x+c,d[2]=n*_+s*C+u,d[3]=l*C+i*_+c,d[4]=n*_+s*T+u,d[5]=l*T+i*_+c,d[6]=n*x+s*T+u,d[7]=l*T+i*x+c,this._roundPixels){const b=ce.RESOLUTION;for(let S=0;S<d.length;++S)d[S]=Math.round(d[S]*b)/b}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,l=s.a,u=s.b,c=s.c,d=s.d,p=s.tx,y=s.ty,g=-i._x*n.width,_=g+n.width,x=-i._y*n.height,T=x+n.height;r[0]=l*g+c*x+p,r[1]=d*x+u*g+y,r[2]=l*_+c*x+p,r[3]=d*x+u*_+y,r[4]=l*_+c*T+p,r[5]=d*T+u*_+y,r[6]=l*g+c*T+p,r[7]=d*T+u*g+y}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Yc),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Re),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,ga);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return ga.x>=i&&ga.x<i+r&&(s=-n*this.anchor.y,ga.y>=s&&ga.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!n)}this._texture=null}static from(e,r){const n=e instanceof se?e:se.from(e,r);return new bs(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=lo(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=lo(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||se.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Vu={willReadFrequently:!0},le=class{static get experimentalLetterSpacingSupported(){let t=le._experimentalLetterSpacingSupported;if(t!==void 0){const e=ce.ADAPTER.getCanvasRenderingContext2D().prototype;t=le._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,n,i,s,l,u,c){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=s,this.lineHeight=l,this.maxLineWidth=u,this.fontProperties=c}static measureText(t,e,r,n=le._canvas){r=r??e.wordWrap;const i=e.toFontString(),s=le.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const l=n.getContext("2d",Vu);l.font=i;const c=(r?le.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),d=new Array(c.length);let p=0;for(let x=0;x<c.length;x++){const T=le._measureText(c[x],e.letterSpacing,l);d[x]=T,p=Math.max(p,T)}let y=p+e.strokeThickness;e.dropShadow&&(y+=e.dropShadowDistance);const g=e.lineHeight||s.fontSize+e.strokeThickness;let _=Math.max(g,s.fontSize+e.strokeThickness*2)+(c.length-1)*(g+e.leading);return e.dropShadow&&(_+=e.dropShadowDistance),new le(t,e,y,_,c,d,g+e.leading,p,s)}static _measureText(t,e,r){let n=!1;le.experimentalLetterSpacingSupported&&(le.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,n=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let i=r.measureText(t).width;return i>0&&(n?i-=e:i+=(le.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,r=le._canvas){const n=r.getContext("2d",Vu);let i=0,s="",l="";const u=Object.create(null),{letterSpacing:c,whiteSpace:d}=e,p=le.collapseSpaces(d),y=le.collapseNewlines(d);let g=!p;const _=e.wordWrapWidth+c,x=le.tokenize(t);for(let T=0;T<x.length;T++){let C=x[T];if(le.isNewline(C)){if(!y){l+=le.addLine(s),g=!p,s="",i=0;continue}C=" "}if(p){const S=le.isBreakingSpace(C),w=le.isBreakingSpace(s[s.length-1]);if(S&&w)continue}const b=le.getFromCache(C,c,u,n);if(b>_)if(s!==""&&(l+=le.addLine(s),s="",i=0),le.canBreakWords(C,e.breakWords)){const S=le.wordWrapSplit(C);for(let w=0;w<S.length;w++){let I=S[w],M=I,O=1;for(;S[w+O];){const L=S[w+O];if(!le.canBreakChars(M,L,C,w,e.breakWords))I+=L;else break;M=L,O++}w+=O-1;const F=le.getFromCache(I,c,u,n);F+i>_&&(l+=le.addLine(s),g=!1,s="",i=0),s+=I,i+=F}}else{s.length>0&&(l+=le.addLine(s),s="",i=0);const S=T===x.length-1;l+=le.addLine(C,!S),g=!1,s="",i=0}else b+i>_&&(g=!1,l+=le.addLine(s),s="",i=0),(s.length>0||!le.isBreakingSpace(C)||g)&&(s+=C,i+=b)}return l+=le.addLine(s,!1),l}static addLine(t,e=!0){return t=le.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,r,n){let i=r[t];return typeof i!="number"&&(i=le._measureText(t,e,n)+e,r[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!le.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:le._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:le._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if(typeof t!="string")return e;for(let n=0;n<t.length;n++){const i=t[n],s=t[n+1];if(le.isBreakingSpace(i,s)||le.isNewline(i)){r!==""&&(e.push(r),r=""),e.push(i);continue}r+=i}return r!==""&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,n,i){return!0}static wordWrapSplit(t){return le.graphemeSegmenter(t)}static measureFont(t){if(le._fonts[t])return le._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=le._canvas,n=le._context;n.font=t;const i=le.METRICS_STRING+le.BASELINE_SYMBOL,s=Math.ceil(n.measureText(i).width);let l=Math.ceil(n.measureText(le.BASELINE_SYMBOL).width);const u=Math.ceil(le.HEIGHT_MULTIPLIER*l);if(l=l*le.BASELINE_MULTIPLIER|0,s===0||u===0)return le._fonts[t]=e,e;r.width=s,r.height=u,n.fillStyle="#f00",n.fillRect(0,0,s,u),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,l);const c=n.getImageData(0,0,s,u).data,d=c.length,p=s*4;let y=0,g=0,_=!1;for(y=0;y<l;++y){for(let x=0;x<p;x+=4)if(c[g+x]!==255){_=!0;break}if(!_)g+=p;else break}for(e.ascent=l-y,g=d-p,_=!1,y=u;y>l;--y){for(let x=0;x<p;x+=4)if(c[g+x]!==255){_=!0;break}if(!_)g-=p;else break}return e.descent=y-l,e.fontSize=e.ascent+e.descent,le._fonts[t]=e,e}static clearMetrics(t=""){t?delete le._fonts[t]:le._fonts={}}static get _canvas(){if(!le.__canvas){let t;try{const e=new OffscreenCanvas(0,0),r=e.getContext("2d",Vu);if(r!=null&&r.measureText)return le.__canvas=e,e;t=ce.ADAPTER.createCanvas()}catch{t=ce.ADAPTER.createCanvas()}t.width=t.height=10,le.__canvas=t}return le.__canvas}static get _context(){return le.__context||(le.__context=le._canvas.getContext("2d",Vu)),le.__context}};let zt=le;zt.METRICS_STRING="|ÉqÅ";zt.BASELINE_SYMBOL="M";zt.BASELINE_MULTIPLIER=1.4;zt.HEIGHT_MULTIPLIER=2;zt.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})();zt.experimentalLetterSpacing=!1;zt._fonts={};zt._newlines=[10,13];zt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const $A=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Ea=class{constructor(t){this.styleID=0,this.reset(),zf(this,t,t)}clone(){const t={};return zf(t,this,Ea.defaultStyle),new Ea(t)}reset(){zf(this,Ea.defaultStyle,Ea.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=Uf(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=Uf(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){HA(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=Uf(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!$A.includes(n)&&(n=`"${n}"`),e[r]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let fl=Ea;fl.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Ah.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function Uf(t){const e=je.shared;return Array.isArray(t)?t.map(r=>e.setValue(r).toHex()):e.setValue(t).toHex()}function HA(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function zf(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const VA={texture:!0,children:!1,baseTexture:!0},fm=class extends bs{constructor(t,e,r){let n=!1;r||(r=ce.ADAPTER.createCanvas(),n=!0),r.width=3,r.height=3;const i=se.from(r);i.orig=new Re,i.trim=new Re,super(i),this._ownCanvas=n,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=fm.defaultResolution??ce.RESOLUTION,this._autoResolution=fm.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return zt.experimentalLetterSpacing}static set experimentalLetterSpacing(t){Pe("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),zt.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,n=zt.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=n.width,s=n.height,l=n.lines,u=n.lineHeight,c=n.lineWidths,d=n.maxLineWidth,p=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;let y,g;const _=e.dropShadow?2:1;for(let x=0;x<_;++x){const T=e.dropShadow&&x===0,C=T?Math.ceil(Math.max(1,s)+e.padding*2):0,b=C*this._resolution;if(T){r.fillStyle="black",r.strokeStyle="black";const w=e.dropShadowColor,I=e.dropShadowBlur*this._resolution,M=e.dropShadowDistance*this._resolution;r.shadowColor=je.shared.setValue(w).setAlpha(e.dropShadowAlpha).toRgbaString(),r.shadowBlur=I,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*M,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*M+b}else r.fillStyle=this._generateFillStyle(e,l,n),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let S=(u-p.fontSize)/2;u-p.fontSize<0&&(S=0);for(let w=0;w<l.length;w++)y=e.strokeThickness/2,g=e.strokeThickness/2+w*u+p.ascent+S,e.align==="right"?y+=d-c[w]:e.align==="center"&&(y+=(d-c[w])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(l[w],y+e.padding,g+e.padding-C,!0),e.fill&&this.drawLetterSpacing(l[w],y+e.padding,g+e.padding-C)}this.updateTexture()}drawLetterSpacing(t,e,r,n=!1){const s=this._style.letterSpacing;let l=!1;if(zt.experimentalLetterSpacingSupported&&(zt.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,l=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||l){n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);return}let u=e;const c=zt.graphemeSegmenter(t);let d=this.context.measureText(t).width,p=0;for(let y=0;y<c.length;++y){const g=c[y];n?this.context.strokeText(g,u,r):this.context.fillText(g,u,r);let _="";for(let x=y+1;x<c.length;++x)_+=c[x];p=this.context.measureText(_).width,u+=d-p+s,d=p}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=CI(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,r=this._style,n=r.trim?0:r.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-n*2,e.orig.height=e._frame.height-n*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const n=t.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let i;const s=t.dropShadow?t.dropShadowDistance:0,l=t.padding||0,u=this.canvas.width/this._resolution-s-l*2,c=this.canvas.height/this._resolution-s-l*2,d=n.slice(),p=t.fillGradientStops.slice();if(!p.length){const y=d.length+1;for(let g=1;g<y;++g)p.push(g/y)}if(d.unshift(n[0]),p.unshift(0),d.push(n[n.length-1]),p.push(1),t.fillGradientType===Ah.LINEAR_VERTICAL){i=this.context.createLinearGradient(u/2,l,u/2,c+l);const y=r.fontProperties.fontSize+t.strokeThickness;for(let g=0;g<e.length;g++){const _=r.lineHeight*(g-1)+y,x=r.lineHeight*g;let T=x;g>0&&_>x&&(T=(x+_)/2);const C=x+y,b=r.lineHeight*(g+1);let S=C;g+1<e.length&&b<C&&(S=(C+b)/2);const w=(S-T)/c;for(let I=0;I<d.length;I++){let M=0;typeof p[I]=="number"?M=p[I]:M=I/d.length;let O=Math.min(1,Math.max(0,T/c+M*w));O=Number(O.toFixed(5)),i.addColorStop(O,d[I])}}}else{i=this.context.createLinearGradient(l,c/2,u+l,c/2);const y=d.length+1;let g=1;for(let _=0;_<d.length;_++){let x;typeof p[_]=="number"?x=p[_]:x=g/y,i.addColorStop(x,d[_]),g++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},VA,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=lo(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=lo(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof fl?this._style=t:this._style=new fl(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let qw=fm;qw.defaultAutoResolution=!0;class Qc{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class gc{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const l=r[s].match(/^[a-z]+/gm)[0],u=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const d in u){const p=u[d].split("="),y=p[0],g=p[1].replace(/"/gm,""),_=parseFloat(g),x=isNaN(_)?g:_;c[y]=x}n[l].push(c)}const i=new Qc;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class pm{static test(e){const r=e;return"getElementsByTagName"in r&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Qc,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),l=e.getElementsByTagName("char"),u=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let d=0;d<n.length;d++)r.info.push({face:n[d].getAttribute("face"),size:parseInt(n[d].getAttribute("size"),10)});for(let d=0;d<i.length;d++)r.common.push({lineHeight:parseInt(i[d].getAttribute("lineHeight"),10)});for(let d=0;d<s.length;d++)r.page.push({id:parseInt(s[d].getAttribute("id"),10)||0,file:s[d].getAttribute("file")});for(let d=0;d<l.length;d++){const p=l[d];r.char.push({id:parseInt(p.getAttribute("id"),10),page:parseInt(p.getAttribute("page"),10)||0,x:parseInt(p.getAttribute("x"),10),y:parseInt(p.getAttribute("y"),10),width:parseInt(p.getAttribute("width"),10),height:parseInt(p.getAttribute("height"),10),xoffset:parseInt(p.getAttribute("xoffset"),10),yoffset:parseInt(p.getAttribute("yoffset"),10),xadvance:parseInt(p.getAttribute("xadvance"),10)})}for(let d=0;d<u.length;d++)r.kerning.push({first:parseInt(u[d].getAttribute("first"),10),second:parseInt(u[d].getAttribute("second"),10),amount:parseInt(u[d].getAttribute("amount"),10)});for(let d=0;d<c.length;d++)r.distanceField.push({fieldType:c[d].getAttribute("fieldType"),distanceRange:parseInt(c[d].getAttribute("distanceRange"),10)});return r}}class mm{static test(e){return typeof e=="string"&&e.includes("<font>")?pm.test(ce.ADAPTER.parseXML(e)):!1}static parse(e){return pm.parse(ce.ADAPTER.parseXML(e))}}const jf=[gc,pm,mm];function WA(t){for(let e=0;e<jf.length;e++)if(jf[e].test(t))return jf[e];return null}function XA(t,e,r,n,i,s){const l=r.fill;if(Array.isArray(l)){if(l.length===1)return l[0]}else return l;let u;const c=r.dropShadow?r.dropShadowDistance:0,d=r.padding||0,p=t.width/n-c-d*2,y=t.height/n-c-d*2,g=l.slice(),_=r.fillGradientStops.slice();if(!_.length){const x=g.length+1;for(let T=1;T<x;++T)_.push(T/x)}if(g.unshift(l[0]),_.unshift(0),g.push(l[l.length-1]),_.push(1),r.fillGradientType===Ah.LINEAR_VERTICAL){u=e.createLinearGradient(p/2,d,p/2,y+d);let x=0;const C=(s.fontProperties.fontSize+r.strokeThickness)/y;for(let b=0;b<i.length;b++){const S=s.lineHeight*b;for(let w=0;w<g.length;w++){let I=0;typeof _[w]=="number"?I=_[w]:I=w/g.length;const M=S/y+I*C;let O=Math.max(x,M);O=Math.min(O,1),u.addColorStop(O,g[w]),x=O}}}else{u=e.createLinearGradient(d,y/2,p+d,y/2);const x=g.length+1;let T=1;for(let C=0;C<g.length;C++){let b;typeof _[C]=="number"?b=_[C]:b=T/x,u.addColorStop(b,g[C]),T++}}return u}function YA(t,e,r,n,i,s,l){const u=r.text,c=r.fontProperties;e.translate(n,i),e.scale(s,s);const d=l.strokeThickness/2,p=-(l.strokeThickness/2);if(e.font=l.toFontString(),e.lineWidth=l.strokeThickness,e.textBaseline=l.textBaseline,e.lineJoin=l.lineJoin,e.miterLimit=l.miterLimit,e.fillStyle=XA(t,e,l,s,[u],r),e.strokeStyle=l.stroke,l.dropShadow){const y=l.dropShadowColor,g=l.dropShadowBlur*s,_=l.dropShadowDistance*s;e.shadowColor=je.shared.setValue(y).setAlpha(l.dropShadowAlpha).toRgbaString(),e.shadowBlur=g,e.shadowOffsetX=Math.cos(l.dropShadowAngle)*_,e.shadowOffsetY=Math.sin(l.dropShadowAngle)*_}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;l.stroke&&l.strokeThickness&&e.strokeText(u,d,p+r.lineHeight-c.descent),l.fill&&e.fillText(u,d,p+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function yc(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function Kw(t){return Array.from?Array.from(t):t.split("")}function QA(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),l=i[1].charCodeAt(0);if(l<s)throw new Error("[BitmapFont]: Invalid character range.");for(let u=s,c=l;u<=c;u++)e.push(String.fromCharCode(u))}else e.push(...Kw(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Vr=class{constructor(t,e,r){var d;const[n]=t.info,[i]=t.common,[s]=t.page,[l]=t.distanceField,u=ul(s.file),c={};this._ownsTextures=r,this.font=n.face,this.size=n.size,this.lineHeight=i.lineHeight/u,this.chars={},this.pageTextures=c;for(let p=0;p<t.page.length;p++){const{id:y,file:g}=t.page[p];c[y]=e instanceof Array?e[p]:e[g],l!=null&&l.fieldType&&l.fieldType!=="none"&&(c[y].baseTexture.alphaMode=ei.NO_PREMULTIPLIED_ALPHA,c[y].baseTexture.mipmap=Mi.OFF)}for(let p=0;p<t.char.length;p++){const{id:y,page:g}=t.char[p];let{x:_,y:x,width:T,height:C,xoffset:b,yoffset:S,xadvance:w}=t.char[p];_/=u,x/=u,T/=u,C/=u,b/=u,S/=u,w/=u;const I=new Re(_+c[g].frame.x/u,x+c[g].frame.y/u,T,C);this.chars[y]={xOffset:b,yOffset:S,xAdvance:w,kerning:{},texture:new se(c[g].baseTexture,I),page:g}}for(let p=0;p<t.kerning.length;p++){let{first:y,second:g,amount:_}=t.kerning[p];y/=u,g/=u,_/=u,this.chars[g]&&(this.chars[g].kerning[y]=_)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=((d=l==null?void 0:l.fieldType)==null?void 0:d.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let n;if(t instanceof Qc)n=t;else{const s=WA(t);if(!s)throw new Error("Unrecognized data format for font.");n=s.parse(t)}e instanceof se&&(e=[e]);const i=new Vr(n,e,r);return Vr.available[i.font]=i,i}static uninstall(t){const e=Vr.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Vr.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:i,resolution:s,textureWidth:l,textureHeight:u,...c}=Object.assign({},Vr.defaultOptions,r),d=QA(n),p=e instanceof fl?e:new fl(e),y=l,g=new Qc;g.info[0]={face:p.fontFamily,size:p.fontSize},g.common[0]={lineHeight:p.fontSize};let _=0,x=0,T,C,b,S=0;const w=[];for(let M=0;M<d.length;M++){T||(T=ce.ADAPTER.createCanvas(),T.width=l,T.height=u,C=T.getContext("2d"),b=new Se(T,{resolution:s,...c}),w.push(new se(b)),g.page.push({id:w.length-1,file:""}));const O=d[M],F=zt.measureText(O,p,!1,T),L=F.width,K=Math.ceil(F.height),Q=Math.ceil((p.fontStyle==="italic"?2:1)*L);if(x>=u-K*s){if(x===0)throw new Error(`[BitmapFont] textureHeight ${u}px is too small (fontFamily: '${p.fontFamily}', fontSize: ${p.fontSize}px, char: '${O}')`);--M,T=null,C=null,b=null,x=0,_=0,S=0;continue}if(S=Math.max(K+F.fontProperties.descent,S),Q*s+_>=y){if(_===0)throw new Error(`[BitmapFont] textureWidth ${l}px is too small (fontFamily: '${p.fontFamily}', fontSize: ${p.fontSize}px, char: '${O}')`);--M,x+=S*s,x=Math.ceil(x),_=0,S=0;continue}YA(T,C,F,_,x,s,p);const q=yc(F.text);g.char.push({id:q,page:w.length-1,x:_/s,y:x/s,width:Q,height:K,xoffset:0,yoffset:0,xadvance:L-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0)}),_+=(Q+2*i)*s,_=Math.ceil(_)}for(let M=0,O=d.length;M<O;M++){const F=d[M];for(let L=0;L<O;L++){const K=d[L],Q=C.measureText(F).width,q=C.measureText(K).width,H=C.measureText(F+K).width-(Q+q);H&&g.kerning.push({first:yc(F),second:yc(K),amount:H})}}const I=new Vr(g,w,!0);return Vr.available[t]!==void 0&&Vr.uninstall(t),Vr.available[t]=I,I}};let Zt=Vr;Zt.ALPHA=[["a","z"],["A","Z"]," "];Zt.NUMERIC=[["0","9"]];Zt.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];Zt.ASCII=[[" ","~"]];Zt.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Vr.ALPHANUMERIC};Zt.available={};class qA{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const Gf=new Xe,m1=new wo,Zw=class extends sr{constructor(t,e,r,n=Zr.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||ti.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ce.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Zr.TRIANGLES&&e.length<Zw.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,l=i.b,u=i.c,c=i.d,d=i.tx,p=i.ty,y=this.vertexData;for(let g=0;g<y.length/2;g++){const _=r[g*2],x=r[g*2+1];y[g*2]=s*_+u*x+d,y[g*2+1]=l*_+c*x+p}if(this._roundPixels){const g=ce.RESOLUTION;for(let _=0;_<y.length;++_)y[_]=Math.round(y[_]*g)/g}this.vertexDirty=n}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new qA(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Gf);const e=this.geometry.getBuffer("aVertexPosition").data,r=m1.points,n=this.geometry.getIndex().data,i=n.length,s=this.drawMode===4?3:1;for(let l=0;l+2<i;l+=s){const u=n[l]*2,c=n[l+1]*2,d=n[l+2]*2;if(r[0]=e[u],r[1]=e[u+1],r[2]=e[c],r[3]=e[c+1],r[4]=e[d],r[5]=e[d+1],m1.contains(Gf.x,Gf.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let Po=Zw;Po.BATCHABLE_SIZE=100;class Rh extends Fi{constructor(e,r,n){super();const i=new at(e),s=new at(r,!0),l=new at(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,_e.FLOAT).addAttribute("aTextureCoord",s,2,!1,_e.FLOAT).addIndex(l),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var KA=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,ZA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class pl extends Rn{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:nt.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Jr.from(ZA,KA),n),this._colorDirty=!1,this.uvMatrix=new Tg(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new je(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const r=this.texture.baseTexture.alphaMode;je.shared.setValue(this._tintColor).premultiply(this._alpha,r).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var JA=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,e2=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const g1=[],y1=[],v1=[],Jw=class extends sr{constructor(t,e={}){super();const{align:r,tint:n,maxWidth:i,letterSpacing:s,fontName:l,fontSize:u}=Object.assign({},Jw.styleDefaults,e);if(!Zt.available[l])throw new Error(`Missing BitmapFont "${l}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new je(n),this._font=void 0,this._fontName=l,this._fontSize=u,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new Hn(()=>{this.dirty=!0},this,0,0),this._roundPixels=ce.ROUND_PIXELS,this.dirty=!0,this._resolution=ce.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var Q;const t=Zt.available[this._fontName],e=this.fontSize,r=e/t.size,n=new Xe,i=[],s=[],l=[],u=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=Kw(u),d=this._maxWidth*t.size/e,p=t.distanceFieldType==="none"?g1:y1;let y=null,g=0,_=0,x=0,T=-1,C=0,b=0,S=0,w=0;for(let q=0;q<c.length;q++){const re=c[q],H=yc(re);if(/(?:\s)/.test(re)&&(T=q,C=g,w++),re==="\r"||re===`
`){s.push(g),l.push(-1),_=Math.max(_,g),++x,++b,n.x=0,n.y+=t.lineHeight,y=null,w=0;continue}const V=t.chars[H];if(!V)continue;y&&V.kerning[y]&&(n.x+=V.kerning[y]);const me=v1.pop()||{texture:se.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Xe};me.texture=V.texture,me.line=x,me.charCode=H,me.position.x=Math.round(n.x+V.xOffset+this._letterSpacing/2),me.position.y=Math.round(n.y+V.yOffset),me.prevSpaces=w,i.push(me),g=me.position.x+Math.max(V.xAdvance-V.xOffset,V.texture.orig.width),n.x+=V.xAdvance+this._letterSpacing,S=Math.max(S,V.yOffset+V.texture.height),y=H,T!==-1&&d>0&&n.x>d&&(++b,Ba(i,1+T-b,1+q-T),q=T,T=-1,s.push(C),l.push(i.length>0?i[i.length-1].prevSpaces:0),_=Math.max(_,C),x++,n.x=0,n.y+=t.lineHeight,y=null,w=0)}const I=c[c.length-1];I!=="\r"&&I!==`
`&&(/(?:\s)/.test(I)&&(g=C),s.push(g),_=Math.max(_,g),l.push(-1));const M=[];for(let q=0;q<=x;q++){let re=0;this._align==="right"?re=_-s[q]:this._align==="center"?re=(_-s[q])/2:this._align==="justify"&&(re=l[q]<0?0:(_-s[q])/l[q]),M.push(re)}const O=i.length,F={},L=[],K=this._activePagesMeshData;p.push(...K);for(let q=0;q<O;q++){const re=i[q].texture,H=re.baseTexture.uid;if(!F[H]){let V=p.pop();if(!V){const ye=new Rh;let ee,P;t.distanceFieldType==="none"?(ee=new pl(se.EMPTY),P=de.NORMAL):(ee=new pl(se.EMPTY,{program:Jr.from(e2,JA),uniforms:{uFWidth:0}}),P=de.NORMAL_NPM);const G=new Po(ye,ee);G.blendMode=P,V={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:G,vertices:null,uvs:null,indices:null}}V.index=0,V.indexCount=0,V.vertexCount=0,V.uvsCount=0,V.total=0;const{_textureCache:me}=this;me[H]=me[H]||new se(re.baseTexture),V.mesh.texture=me[H],V.mesh.tint=this._tintColor.value,L.push(V),F[H]=V}F[H].total++}for(let q=0;q<K.length;q++)L.includes(K[q])||this.removeChild(K[q].mesh);for(let q=0;q<L.length;q++)L[q].mesh.parent!==this&&this.addChild(L[q].mesh);this._activePagesMeshData=L;for(const q in F){const re=F[q],H=re.total;if(!(((Q=re.indices)==null?void 0:Q.length)>6*H)||re.vertices.length<Po.BATCHABLE_SIZE*2)re.vertices=new Float32Array(4*2*H),re.uvs=new Float32Array(4*2*H),re.indices=new Uint16Array(6*H);else{const V=re.total,me=re.vertices;for(let ye=V*4*2;ye<me.length;ye++)me[ye]=0}re.mesh.size=6*H}for(let q=0;q<O;q++){const re=i[q];let H=re.position.x+M[re.line]*(this._align==="justify"?re.prevSpaces:1);this._roundPixels&&(H=Math.round(H));const V=H*r,me=re.position.y*r,ye=re.texture,ee=F[ye.baseTexture.uid],P=ye.frame,G=ye._uvs,k=ee.index++;ee.indices[k*6+0]=0+k*4,ee.indices[k*6+1]=1+k*4,ee.indices[k*6+2]=2+k*4,ee.indices[k*6+3]=0+k*4,ee.indices[k*6+4]=2+k*4,ee.indices[k*6+5]=3+k*4,ee.vertices[k*8+0]=V,ee.vertices[k*8+1]=me,ee.vertices[k*8+2]=V+P.width*r,ee.vertices[k*8+3]=me,ee.vertices[k*8+4]=V+P.width*r,ee.vertices[k*8+5]=me+P.height*r,ee.vertices[k*8+6]=V,ee.vertices[k*8+7]=me+P.height*r,ee.uvs[k*8+0]=G.x0,ee.uvs[k*8+1]=G.y0,ee.uvs[k*8+2]=G.x1,ee.uvs[k*8+3]=G.y1,ee.uvs[k*8+4]=G.x2,ee.uvs[k*8+5]=G.y2,ee.uvs[k*8+6]=G.x3,ee.uvs[k*8+7]=G.y3}this._textWidth=_*r,this._textHeight=(n.y+t.lineHeight)*r;for(const q in F){const re=F[q];if(this.anchor.x!==0||this.anchor.y!==0){let ye=0;const ee=this._textWidth*this.anchor.x,P=this._textHeight*this.anchor.y;for(let G=0;G<re.total;G++)re.vertices[ye++]-=ee,re.vertices[ye++]-=P,re.vertices[ye++]-=ee,re.vertices[ye++]-=P,re.vertices[ye++]-=ee,re.vertices[ye++]-=P,re.vertices[ye++]-=ee,re.vertices[ye++]-=P}this._maxLineHeight=S*r;const H=re.mesh.geometry.getBuffer("aVertexPosition"),V=re.mesh.geometry.getBuffer("aTextureCoord"),me=re.mesh.geometry.getIndex();H.data=re.vertices,V.data=re.uvs,me.data=re.indices,H.update(),V.update(),me.update()}for(let q=0;q<i.length;q++)v1.push(i[q]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:n}=Zt.available[this._fontName];if(r!=="none"){const{a:i,b:s,c:l,d:u}=this.worldTransform,c=Math.sqrt(i*i+s*s),d=Math.sqrt(l*l+u*u),p=(Math.abs(c)+Math.abs(d))/2,y=this.fontSize/n,g=t._view.resolution;for(const _ of this._activePagesMeshData)_.mesh.shader.uniforms.uFWidth=p*e*y*g}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Zt.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Zt.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Zt.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,n=Zt.available[this._fontName].distanceFieldType==="none"?g1:y1;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=se.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};let eS=Jw;eS.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const _1={loader:ue.LoadParser,resolver:ue.ResolveParser,cache:ue.CacheParser,detection:ue.DetectionParser};fe.handle(ue.Asset,t=>{const e=t.ref;Object.entries(_1).filter(([r])=>!!e[r]).forEach(([r,n])=>fe.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(_1).filter(r=>!!e[r]).forEach(r=>fe.remove(e[r]))});class t2{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function bl(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Tl(t,e){const r=t.split("?")[0],n=sn.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Xn=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"?e(r):r):t),r2=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function tS(t,e,r,n,i){const s=e[r];for(let l=0;l<s.length;l++){const u=s[l];r<e.length-1?tS(t.replace(n[r],u),e,r+1,n,i):i.push(t.replace(n[r],u))}}function n2(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const l=s.substring(1,s.length-1).split(",");i.push(l)}),tS(t,i,0,r,n)}else n.push(t);return n}const qc=t=>!Array.isArray(t);class i2{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Xn(e);let i;for(let u=0;u<this.parsers.length;u++){const c=this.parsers[u];if(c.test(r)){i=c.getCacheableAssets(n,r);break}}i||(i={},n.forEach(u=>{i[u]=r}));const s=Object.keys(i),l={cacheKeys:s,keys:n};if(n.forEach(u=>{this._cacheMap.set(u,l)}),s.forEach(u=>{this._cache.has(u)&&this._cache.get(u)!==r&&console.warn("[Cache] already has key:",u),this._cache.set(u,i[u])}),r instanceof se){const u=r;n.forEach(c=>{u.baseTexture!==se.EMPTY.baseTexture&&Se.addToCache(u.baseTexture,c),se.addToCache(u,c)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const ya=new i2;class s2{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var l,u;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];if(d.load&&((l=d.test)!=null&&l.call(d,e,r,this))){s=d;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];d.parse&&d.parse&&await((u=d.testParse)==null?void 0:u.call(d,i,r,this))&&(i=await d.parse(i,r,this)||i,n.parser=d)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=qc(e),l=Xn(e,d=>({src:d})),u=l.length,c=l.map(async d=>{const p=sn.toAbsolute(d.src);if(!i[d.src])try{this.promiseCache[p]||(this.promiseCache[p]=this._getLoadPromiseAndParser(p,d)),i[d.src]=await this.promiseCache[p].promise,r&&r(++n/u)}catch(y){throw delete this.promiseCache[p],delete i[d.src],new Error(`[Loader.load] Failed to load ${p}.
${y}`)}});return await Promise.all(c),s?i[l[0].src]:i}async unload(e){const n=Xn(e,i=>({src:i})).map(async i=>{var u,c;const s=sn.toAbsolute(i.src),l=this.promiseCache[s];if(l){const d=await l.promise;(c=(u=l.parser)==null?void 0:u.unload)==null||c.call(u,d,i,this),delete this.promiseCache[s]}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var Ts=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Ts||{});const o2=".json",a2="application/json",l2={extension:{type:ue.LoadParser,priority:Ts.Low},name:"loadJson",test(t){return bl(t,a2)||Tl(t,o2)},async load(t){return await(await ce.ADAPTER.fetch(t)).json()}};fe.add(l2);const u2=".txt",c2="text/plain",h2={name:"loadTxt",extension:{type:ue.LoadParser,priority:Ts.Low},test(t){return bl(t,c2)||Tl(t,u2)},async load(t){return await(await ce.ADAPTER.fetch(t)).text()}};fe.add(h2);const d2=["normal","bold","100","200","300","400","500","600","700","800","900"],f2=[".ttf",".otf",".woff",".woff2"],p2=["font/ttf","font/otf","font/woff","font/woff2"];function m2(t){const e=sn.extname(t);return sn.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const g2={extension:{type:ue.LoadParser,priority:Ts.Low},name:"loadWebFont",test(t){return bl(t,p2)||Tl(t,f2)},async load(t,e){var n,i,s;const r=ce.ADAPTER.getFontFaceSet();if(r){const l=[],u=((n=e.data)==null?void 0:n.family)??m2(t),c=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(p=>d2.includes(p)))??["normal"],d=e.data??{};for(let p=0;p<c.length;p++){const y=c[p],g=new FontFace(u,`url(${encodeURI(t)})`,{...d,weight:y});await g.load(),r.add(g),l.push(g)}return l.length===1?l[0]:l}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>ce.ADAPTER.getFontFaceSet().delete(e))}};fe.add(g2);let x1=0,$f;const y2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",v2={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${y2}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},_2={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let Hf;class x2{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([v2.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){$f===void 0&&($f=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<$f&&(Hf||(Hf=URL.createObjectURL(new Blob([_2.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(Hf),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[x1]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:x1++,id:n})}}const w1=new x2;function rS(t,e,r){const n=new se(t);return n.baseTexture.on("dispose",()=>{delete e.promiseCache[r]}),n}const w2=[".jpeg",".jpg",".png",".webp",".avif"],S2=["image/jpeg","image/png","image/webp","image/avif"];async function b2(t){const e=await ce.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const kh={name:"loadTextures",extension:{type:ue.LoadParser,priority:Ts.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return bl(t,S2)||Tl(t,w2)},async load(t,e,r){let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await w1.isImageBitmapSupported()?n=await w1.loadImageBitmap(t):n=await b2(t):n=await new Promise(s=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?s(n):n.onload=()=>{s(n)}});const i=new Se(n,{resolution:ul(t),...e.data});return i.resource.src=t,rS(i,r,t)},unload(t){t.destroy(!0)}};fe.add(kh);const T2=".svg",E2="image/svg+xml",C2={extension:{type:ue.LoadParser,priority:Ts.High},name:"loadSVG",test(t){return bl(t,E2)||Tl(t,T2)},async testParse(t){return dl.test(t)},async parse(t,e,r){var l,u,c;const n=new dl(t,(l=e==null?void 0:e.data)==null?void 0:l.resourceOptions),i=new Se(n,{resolution:ul(t),...e==null?void 0:e.data});i.resource.src=t;const s=rS(i,r,t);return(c=(u=e==null?void 0:e.data)==null?void 0:u.resourceOptions)!=null&&c.autoLoad||await n.load(),s},async load(t,e){return(await ce.ADAPTER.fetch(t)).text()},unload:kh.unload};fe.add(C2);class I2{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);n.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(l=>this._createBundleAssetId(e,l));s.forEach(l=>{n.push(l)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(r).forEach(i=>{n.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],r[i])}),this._bundles[e]=n}add(e,r,n){const i=Xn(e);i.forEach(l=>{this.hasKey(l)&&console.warn(`[Resolver] already has key: ${l} overwriting`)}),Array.isArray(r)||(typeof r=="string"?r=n2(r):r=[r]);const s=r.map(l=>{let u=l;if(typeof l=="string"){let c=!1;for(let d=0;d<this._parsers.length;d++){const p=this._parsers[d];if(p.test(l)){u=p.parse(l),c=!0;break}}c||(u={src:l})}return u.format||(u.format=u.src.split(".").pop()),u.alias||(u.alias=i),(this._basePath||this._rootPath)&&(u.src=sn.toAbsolute(u.src,this._basePath,this._rootPath)),u.src=this._appendDefaultSearchParams(u.src),u.data=u.data??n,u});i.forEach(l=>{this._assetMap[l]=s})}resolveBundle(e){const r=qc(e);e=Xn(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const l=this.resolve(s),u={};for(const c in l){const d=l[c];u[this._extractAssetIdFromBundle(i,c)]=d}n[i]=u}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=qc(e);e=Xn(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const l=this._getPreferredOrder(s),u=s[0];l==null||l.priority.forEach(c=>{l.params[c].forEach(d=>{const p=s.filter(y=>y[c]?y[c]===d:!1);p.length&&(s=p)})}),this._resolverHash[i]=s[0]??u}else{let s=i;(this._basePath||this._rootPath)&&(s=sn.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}}class A2{constructor(){this._detections=[],this._initialized=!1,this.resolver=new I2,this.loader=new s2,this.cache=ya,this._backgroundLoader=new t2(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,l,u;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let c=e.manifest;typeof c=="string"&&(c=await this.load(c)),this.resolver.addManifest(c)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r;let i=[];if((l=e.texturePreference)!=null&&l.format){const c=(u=e.texturePreference)==null?void 0:u.format;i=typeof c=="string"?[c]:c;for(const d of this._detections)await d.test()||(i=await d.remove(i))}else for(const c of this._detections)await c.test()&&(i=await c.add(i));this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n){this.resolver.add(e,r,n)}async load(e,r){this._initialized||await this.init();const n=qc(e),i=Xn(e).map(u=>typeof u!="string"?(this.resolver.add(u.src,u),u.src):(this.resolver.hasKey(u)||this.resolver.add(u,u),u)),s=this.resolver.resolve(i),l=await this._mapLoadToResolve(s,r);return n?l[i[0]]:l}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},l=Object.keys(i);let u=0,c=0;const d=()=>{r==null||r(++u/c)},p=l.map(y=>{const g=i[y];return c+=Object.keys(g).length,this._mapLoadToResolve(g,d).then(_=>{s[y]=_})});return await Promise.all(p),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return ya.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=ya.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const l={};return n.forEach((u,c)=>{const d=s[u.src],p=[u.src];u.alias&&p.push(...u.alias),l[i[c]]=d,ya.set(p,d)}),l}async unload(e){this._initialized||await this.init();const r=Xn(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Xn(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{ya.remove(n.src)}),await this.loader.unload(r)}get detections(){return this._detections}get preferWorkers(){return kh.config.preferWorkers}set preferWorkers(e){Pe("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Wu=new A2;fe.handleByList(ue.LoadParser,Wu.loader.parsers).handleByList(ue.ResolveParser,Wu.resolver.parsers).handleByList(ue.CacheParser,Wu.cache.parsers).handleByList(ue.DetectionParser,Wu.detections);const R2={extension:ue.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof se),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};fe.add(R2);const k2={extension:{type:ue.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await ce.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};fe.add(k2);const P2={extension:{type:ue.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await ce.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};fe.add(P2);const S1=["png","jpg","jpeg"],N2={extension:{type:ue.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...S1],remove:async t=>t.filter(e=>!S1.includes(e))};fe.add(N2);const M2={extension:ue.ResolveParser,test:kh.test,parse:t=>{var e;return{resolution:parseFloat(((e=ce.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};fe.add(M2);const F2=[".xml",".fnt"],L2={extension:{type:ue.LoadParser,priority:Ts.Normal},name:"loadBitmapFont",test(t){return F2.includes(sn.extname(t).toLowerCase())},async testParse(t){return gc.test(t)||mm.test(t)},async parse(t,e,r){const n=gc.test(t)?gc.parse(t):mm.parse(t),{src:i}=e,{page:s}=n,l=[];for(let d=0;d<s.length;++d){const p=s[d].file;let y=sn.join(sn.dirname(i),p);y=r2(y,i),l.push(y)}const u=await r.load(l),c=l.map(d=>u[d]);return Zt.install(n,c,!0)},async load(t,e){return(await ce.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};fe.add(L2);const Kc={build(t){const e=t.points;let r,n,i,s,l,u;if(t.type===Rt.CIRC){const x=t.shape;r=x.x,n=x.y,l=u=x.radius,i=s=0}else if(t.type===Rt.ELIP){const x=t.shape;r=x.x,n=x.y,l=x.width,u=x.height,i=s=0}else{const x=t.shape,T=x.width/2,C=x.height/2;r=x.x+T,n=x.y+C,l=u=Math.max(0,Math.min(x.radius,Math.min(T,C))),i=T-l,s=C-u}if(!(l>=0&&u>=0&&i>=0&&s>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(l+u)),d=c*8+(i?4:0)+(s?4:0);if(e.length=d,d===0)return;if(c===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let p=0,y=c*4+(i?2:0)+2,g=y,_=d;{const x=i+l,T=s,C=r+x,b=r-x,S=n+T;if(e[p++]=C,e[p++]=S,e[--y]=S,e[--y]=b,s){const w=n-T;e[g++]=b,e[g++]=w,e[--_]=w,e[--_]=C}}for(let x=1;x<c;x++){const T=Math.PI/2*(x/c),C=i+Math.cos(T)*l,b=s+Math.sin(T)*u,S=r+C,w=r-C,I=n+b,M=n-b;e[p++]=S,e[p++]=I,e[--y]=I,e[--y]=w,e[g++]=w,e[g++]=M,e[--_]=M,e[--_]=S}{const x=i,T=s+u,C=r+x,b=r-x,S=n+T,w=n-T;e[p++]=C,e[p++]=S,e[--_]=w,e[--_]=C,i&&(e[p++]=b,e[p++]=S,e[--_]=w,e[--_]=b)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const l=s;let u,c;if(t.type!==Rt.RREC){const p=t.shape;u=p.x,c=p.y}else{const p=t.shape;u=p.x+p.width/2,c=p.y+p.height/2}const d=t.matrix;n.push(t.matrix?d.a*u+d.c*c+d.tx:u,t.matrix?d.b*u+d.d*c+d.ty:c),s++,n.push(r[0],r[1]);for(let p=2;p<r.length;p+=2)n.push(r[p],r[p+1]),i.push(s++,l,s);i.push(l+1,l,s)}};function b1(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],l=t[r-1];i<r;i+=2){const u=t[i],c=t[i+1];n+=(u-s)*(c+l),s=u,l=c}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const l=r-s-2,u=r-s-1,c=s,d=s+1;[t[l],t[c]]=[t[c],t[l]],[t[u],t[d]]=[t[d],t[u]]}}}const nS={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){b1(r,!1);const l=[];for(let d=0;d<n.length;d++){const p=n[d];b1(p.points,!0),l.push(r.length/2),r=r.concat(p.points)}const u=$c(r,l,2);if(!u)return;const c=i.length/2;for(let d=0;d<u.length;d+=3)s.push(u[d]+c),s.push(u[d+1]+c),s.push(u[d+2]+c);for(let d=0;d<r.length;d++)i.push(r[d])}}},O2={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,l=t.points;l.length=0,i>=0&&s>=0&&l.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},B2={build(t){Kc.build(t)},triangulate(t,e){Kc.triangulate(t,e)}};var Xr=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Xr||{}),cs=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(cs||{});const No={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class T1{static curveTo(e,r,n,i,s,l){const u=l[l.length-2],d=l[l.length-1]-r,p=u-e,y=i-r,g=n-e,_=Math.abs(d*g-p*y);if(_<1e-8||s===0)return(l[l.length-2]!==e||l[l.length-1]!==r)&&l.push(e,r),null;const x=d*d+p*p,T=y*y+g*g,C=d*y+p*g,b=s*Math.sqrt(x)/_,S=s*Math.sqrt(T)/_,w=b*C/x,I=S*C/T,M=b*g+S*p,O=b*y+S*d,F=p*(S+w),L=d*(S+w),K=g*(b+I),Q=y*(b+I),q=Math.atan2(L-O,F-M),re=Math.atan2(Q-O,K-M);return{cx:M+e,cy:O+r,radius:s,startAngle:q,endAngle:re,anticlockwise:p*y>g*d}}static arc(e,r,n,i,s,l,u,c,d){const p=u-l,y=No._segmentsCount(Math.abs(p)*s,Math.ceil(Math.abs(p)/Xc)*40),g=p/(y*2),_=g*2,x=Math.cos(g),T=Math.sin(g),C=y-1,b=C%1/C;for(let S=0;S<=C;++S){const w=S+b*S,I=g+l+_*w,M=Math.cos(I),O=-Math.sin(I);d.push((x*M+T*O)*s+n,(x*-O+T*M)*s+i)}}}class D2{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Cg{static curveLength(e,r,n,i,s,l,u,c){let p=0,y=0,g=0,_=0,x=0,T=0,C=0,b=0,S=0,w=0,I=0,M=e,O=r;for(let F=1;F<=10;++F)y=F/10,g=y*y,_=g*y,x=1-y,T=x*x,C=T*x,b=C*e+3*T*y*n+3*x*g*s+_*u,S=C*r+3*T*y*i+3*x*g*l+_*c,w=M-b,I=O-S,M=b,O=S,p+=Math.sqrt(w*w+I*I);return p}static curveTo(e,r,n,i,s,l,u){const c=u[u.length-2],d=u[u.length-1];u.length-=2;const p=No._segmentsCount(Cg.curveLength(c,d,e,r,n,i,s,l));let y=0,g=0,_=0,x=0,T=0;u.push(c,d);for(let C=1,b=0;C<=p;++C)b=C/p,y=1-b,g=y*y,_=g*y,x=b*b,T=x*b,u.push(_*c+3*g*b*e+3*y*x*n+T*s,_*d+3*g*b*r+3*y*x*i+T*l)}}function E1(t,e,r,n,i,s,l,u){const c=t-r*i,d=e-n*i,p=t+r*s,y=e+n*s;let g,_;l?(g=n,_=-r):(g=-n,_=r);const x=c+g,T=d+_,C=p+g,b=y+_;return u.push(x,T,C,b),2}function Ki(t,e,r,n,i,s,l,u){const c=r-t,d=n-e;let p=Math.atan2(c,d),y=Math.atan2(i-t,s-e);u&&p<y?p+=Math.PI*2:!u&&p>y&&(y+=Math.PI*2);let g=p;const _=y-p,x=Math.abs(_),T=Math.sqrt(c*c+d*d),C=(15*x*Math.sqrt(T)/Math.PI>>0)+1,b=_/C;if(g+=b,u){l.push(t,e,r,n);for(let S=1,w=g;S<C;S++,w+=b)l.push(t,e,t+Math.sin(w)*T,e+Math.cos(w)*T);l.push(t,e,i,s)}else{l.push(r,n,t,e);for(let S=1,w=g;S<C;S++,w+=b)l.push(t+Math.sin(w)*T,e+Math.cos(w)*T,t,e);l.push(i,s,t,e)}return C*2}function U2(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,l=new Xe(n[0],n[1]),u=new Xe(n[n.length-2],n[n.length-1]),c=r.type!==Rt.POLY||r.closeStroke,d=Math.abs(l.x-u.x)<i&&Math.abs(l.y-u.y)<i;if(c){n=n.slice(),d&&(n.pop(),n.pop(),u.set(n[n.length-2],n[n.length-1]));const ee=(l.x+u.x)*.5,P=(u.y+l.y)*.5;n.unshift(ee,P),n.push(ee,P)}const p=e.points,y=n.length/2;let g=n.length;const _=p.length/2,x=s.width/2,T=x*x,C=s.miterLimit*s.miterLimit;let b=n[0],S=n[1],w=n[2],I=n[3],M=0,O=0,F=-(S-I),L=b-w,K=0,Q=0,q=Math.sqrt(F*F+L*L);F/=q,L/=q,F*=x,L*=x;const re=s.alignment,H=(1-re)*2,V=re*2;c||(s.cap===cs.ROUND?g+=Ki(b-F*(H-V)*.5,S-L*(H-V)*.5,b-F*H,S-L*H,b+F*V,S+L*V,p,!0)+2:s.cap===cs.SQUARE&&(g+=E1(b,S,F,L,H,V,!0,p))),p.push(b-F*H,S-L*H,b+F*V,S+L*V);for(let ee=1;ee<y-1;++ee){b=n[(ee-1)*2],S=n[(ee-1)*2+1],w=n[ee*2],I=n[ee*2+1],M=n[(ee+1)*2],O=n[(ee+1)*2+1],F=-(S-I),L=b-w,q=Math.sqrt(F*F+L*L),F/=q,L/=q,F*=x,L*=x,K=-(I-O),Q=w-M,q=Math.sqrt(K*K+Q*Q),K/=q,Q/=q,K*=x,Q*=x;const P=w-b,G=S-I,k=w-M,X=O-I,J=P*k+G*X,ge=G*k-X*P,pe=ge<0;if(Math.abs(ge)<.001*Math.abs(J)){p.push(w-F*H,I-L*H,w+F*V,I+L*V),J>=0&&(s.join===Xr.ROUND?g+=Ki(w,I,w-F*H,I-L*H,w-K*H,I-Q*H,p,!1)+4:g+=2,p.push(w-K*V,I-Q*V,w+K*H,I+Q*H));continue}const Ne=(-F+b)*(-L+I)-(-F+w)*(-L+S),xe=(-K+M)*(-Q+I)-(-K+w)*(-Q+O),ke=(P*xe-k*Ne)/ge,gt=(X*Ne-G*xe)/ge,Et=(ke-w)*(ke-w)+(gt-I)*(gt-I),et=w+(ke-w)*H,we=I+(gt-I)*H,Ue=w-(ke-w)*V,Ce=I-(gt-I)*V,_r=Math.min(P*P+G*G,k*k+X*X),xr=pe?H:V,zi=_r+xr*xr*T,Mh=Et<=zi;let Es=s.join;if(Es===Xr.MITER&&Et/T>C&&(Es=Xr.BEVEL),Mh)switch(Es){case Xr.MITER:{p.push(et,we,Ue,Ce);break}case Xr.BEVEL:{pe?p.push(et,we,w+F*V,I+L*V,et,we,w+K*V,I+Q*V):p.push(w-F*H,I-L*H,Ue,Ce,w-K*H,I-Q*H,Ue,Ce),g+=2;break}case Xr.ROUND:{pe?(p.push(et,we,w+F*V,I+L*V),g+=Ki(w,I,w+F*V,I+L*V,w+K*V,I+Q*V,p,!0)+4,p.push(et,we,w+K*V,I+Q*V)):(p.push(w-F*H,I-L*H,Ue,Ce),g+=Ki(w,I,w-F*H,I-L*H,w-K*H,I-Q*H,p,!1)+4,p.push(w-K*H,I-Q*H,Ue,Ce));break}}else{switch(p.push(w-F*H,I-L*H,w+F*V,I+L*V),Es){case Xr.MITER:{pe?p.push(Ue,Ce,Ue,Ce):p.push(et,we,et,we),g+=2;break}case Xr.ROUND:{pe?g+=Ki(w,I,w+F*V,I+L*V,w+K*V,I+Q*V,p,!0)+2:g+=Ki(w,I,w-F*H,I-L*H,w-K*H,I-Q*H,p,!1)+2;break}}p.push(w-K*H,I-Q*H,w+K*V,I+Q*V),g+=2}}b=n[(y-2)*2],S=n[(y-2)*2+1],w=n[(y-1)*2],I=n[(y-1)*2+1],F=-(S-I),L=b-w,q=Math.sqrt(F*F+L*L),F/=q,L/=q,F*=x,L*=x,p.push(w-F*H,I-L*H,w+F*V,I+L*V),c||(s.cap===cs.ROUND?g+=Ki(w-F*(H-V)*.5,I-L*(H-V)*.5,w-F*H,I-L*H,w+F*V,I+L*V,p,!1)+2:s.cap===cs.SQUARE&&(g+=E1(w,I,F,L,H,V,!1,p)));const me=e.indices,ye=No.epsilon*No.epsilon;for(let ee=_;ee<g+_-2;++ee)b=p[ee*2],S=p[ee*2+1],w=p[(ee+1)*2],I=p[(ee+1)*2+1],M=p[(ee+2)*2],O=p[(ee+2)*2+1],!(Math.abs(b*(I-O)+w*(O-S)+M*(S-I))<ye)&&me.push(ee,ee+1,ee+2)}function z2(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==Rt.POLY||n.closeStroke;if(i.length===0)return;const l=e.points,u=e.indices,c=i.length/2,d=l.length/2;let p=d;for(l.push(i[0],i[1]),r=1;r<c;r++)l.push(i[r*2],i[r*2+1]),u.push(p,p+1),p++;s&&u.push(p,d)}function C1(t,e){t.lineStyle.native?z2(t,e):U2(t,e)}class Ig{static curveLength(e,r,n,i,s,l){const u=e-2*n+s,c=r-2*i+l,d=2*n-2*e,p=2*i-2*r,y=4*(u*u+c*c),g=4*(u*d+c*p),_=d*d+p*p,x=2*Math.sqrt(y+g+_),T=Math.sqrt(y),C=2*y*T,b=2*Math.sqrt(_),S=g/T;return(C*x+T*g*(x-b)+(4*_*y-g*g)*Math.log((2*T+S+x)/(S+b)))/(4*C)}static curveTo(e,r,n,i,s){const l=s[s.length-2],u=s[s.length-1],c=No._segmentsCount(Ig.curveLength(l,u,e,r,n,i));let d=0,p=0;for(let y=1;y<=c;++y){const g=y/c;d=l+(e-l)*g,p=u+(r-u)*g,s.push(d+(e+(n-e)*g-d)*g,p+(r+(i-r)*g-p)*g)}}}const Vf={[Rt.POLY]:nS,[Rt.CIRC]:Kc,[Rt.ELIP]:Kc,[Rt.RECT]:O2,[Rt.RREC]:B2},I1=[],Xu=[];class Zc{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new Zc(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Hs=new Xe,iS=class extends pw{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Yc,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Xu.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),I1.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,n=null){const i=new Zc(t,e,r,n);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new Zc(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const n=e[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,Hs):Hs.copyFrom(t),n.shape.contains(Hs.x,Hs.y))){let i=!1;if(n.holes){for(let s=0;s<n.holes.length;s++)if(n.holes[s].shape.contains(Hs.x,Hs.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let u=this.shapeIndex;u<e.length;u++){this.shapeIndex++;const c=e[u],d=c.fillStyle,p=c.lineStyle;Vf[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(d.visible||p.visible)&&this.processHoles(c.holes);for(let g=0;g<2;g++){const _=g===0?d:p;if(!_.visible)continue;const x=_.texture.baseTexture,T=this.indices.length,C=this.points.length/2;x.wrapMode=Wn.REPEAT,g===0?this.processFill(c):this.processLine(c);const b=this.points.length/2-C;b!==0&&(r&&!this._compareStyles(n,_)&&(r.end(T,C),r=null),r||(r=I1.pop()||new D2,r.begin(_,T,C),this.batches.push(r),n=_),this.addUvs(this.points,t,_.texture,C,b,_.matrix))}}const i=this.indices.length,s=this.points.length/2;if(r&&r.end(i,s),this.batches.length===0){this.batchable=!0;return}const l=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&l===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=l?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const r=this.graphicsData[t],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const n=t[e];for(let i=0;i<n.size;i++){const s=n.start+i;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<iS.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++Se._globalBatch;for(let p=0;p<this.drawCalls.length;p++)this.drawCalls[p].texArray.clear(),Xu.push(this.drawCalls[p]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let n=Xu.pop();n||(n=new sm,n.texArray=new am),n.texArray.count=0,n.start=0,n.size=0,n.type=Zr.TRIANGLES;let i=0,s=null,l=0,u=!1,c=Zr.TRIANGLES,d=0;this.drawCalls.push(n);for(let p=0;p<this.batches.length;p++){const y=this.batches[p],g=8,_=y.style,x=_.texture.baseTexture;u!==!!_.native&&(u=!!_.native,c=u?Zr.LINES:Zr.TRIANGLES,s=null,i=g,t++),s!==x&&(s=x,x._batchEnabled!==t&&(i===g&&(t++,i=0,n.size>0&&(n=Xu.pop(),n||(n=new sm,n.texArray=new am),this.drawCalls.push(n)),n.start=d,n.size=0,n.texArray.count=0,n.type=c),x.touched=1,x._batchEnabled=t,x._batchLocation=i,x.wrapMode=Wn.REPEAT,n.texArray.elements[n.texArray.count++]=x,i++)),n.size+=y.size,d+=y.size,l=x._batchLocation,this.addColors(e,_.color,_.alpha,y.attribSize,y.attribStart),this.addTextureIds(r,l,y.attribSize,y.attribStart)}Se._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),l=new Uint32Array(i);let u=0;for(let c=0;c<t.length/2;c++)s[u++]=t[c*2],s[u++]=t[c*2+1],s[u++]=e[c*2],s[u++]=e[c*2+1],l[u++]=r[c],s[u++]=n[c];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?nS.triangulate(t,this):Vf[t.type].triangulate(t,this)}processLine(t){C1(t,this);for(let e=0;e<t.holes.length;e++)C1(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];Vf[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const n=t[r*2],i=t[r*2+1];t[r*2]=e.a*n+e.c*i+e.tx,t[r*2+1]=e.b*n+e.d*i+e.ty}}addColors(t,e,r,n,i=0){const s=je.shared.setValue(e).toLittleEndianNumber(),l=je.shared.setValue(s).toPremultiplied(r);t.length=Math.max(t.length,i+n);for(let u=0;u<n;u++)t[i+u]=l}addTextureIds(t,e,r,n=0){t.length=Math.max(t.length,n+r);for(let i=0;i<r;i++)t[n+i]=e}addUvs(t,e,r,n,i,s=null){let l=0;const u=e.length,c=r.frame;for(;l<i;){let p=t[(n+l)*2],y=t[(n+l)*2+1];if(s){const g=s.a*p+s.c*y+s.tx;y=s.b*p+s.d*y+s.ty,p=g}l++,e.push(p/c.width,y/c.height)}const d=r.baseTexture;(c.width<d.width||c.height<d.height)&&this.adjustUvs(e,r,u,i)}adjustUvs(t,e,r,n){const i=e.baseTexture,s=1e-6,l=r+n*2,u=e.frame,c=u.width/i.width,d=u.height/i.height;let p=u.x/u.width,y=u.y/u.height,g=Math.floor(t[r]+s),_=Math.floor(t[r+1]+s);for(let x=r+2;x<l;x+=2)g=Math.min(g,Math.floor(t[x]+s)),_=Math.min(_,Math.floor(t[x+1]+s));p-=g,y-=_;for(let x=r;x<l;x+=2)t[x]=(t[x]+p)*c,t[x+1]=(t[x+1]+y)*d}};let sS=iS;sS.BATCHABLE_SIZE=100;class Ph{constructor(){this.color=16777215,this.alpha=1,this.texture=se.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Ph;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=se.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Ag extends Ph{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=cs.BUTT,this.join=Xr.MITER,this.miterLimit=10}clone(){const e=new Ag;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const Wf={},vc=class extends sr{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Ph,this._lineStyle=new Ag,this._matrix=null,this._holeMode=!1,this.state=ti.for2d(),this._geometry=t||new sS,this._geometry.refCount++,this._transformID=-1,this._tintColor=new je(16777215),this.blendMode=de.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new vc(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r,n=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:r,alignment:n,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:se.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:cs.BUTT,join:Xr.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.width>0&&t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:r},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new wo,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new wo,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==t||i!==e)&&r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,n){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),Ig.curveTo(t,e,r,n,i),this}bezierCurveTo(t,e,r,n,i,s){return this._initCurve(),Cg.curveTo(t,e,r,n,i,s,this.currentPath.points),this}arcTo(t,e,r,n,i){this._initCurve(t,e);const s=this.currentPath.points,l=T1.curveTo(t,e,r,n,i,s);if(l){const{cx:u,cy:c,radius:d,startAngle:p,endAngle:y,anticlockwise:g}=l;this.arc(u,c,d,p,y,g)}return this}arc(t,e,r,n,i,s=!1){if(n===i)return this;if(!s&&i<=n?i+=Xc:s&&n<=i&&(n+=Xc),i-n===0)return this;const u=t+Math.cos(n)*r,c=e+Math.sin(n)*r,d=this._geometry.closePointEps;let p=this.currentPath?this.currentPath.points:null;if(p){const y=Math.abs(p[p.length-2]-u),g=Math.abs(p[p.length-1]-c);y<d&&g<d||p.push(u,c)}else this.moveTo(u,c),p=this.currentPath.points;return T1.arc(u,c,t,e,r,n,i,s,p),this}beginFill(t=0,e){return this.beginTextureFill({texture:se.WHITE,color:t,alpha:e})}normalizeColor(t){const e=je.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:se.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:r},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,n){return this.drawShape(new Re(t,e,r,n))}drawRoundedRect(t,e,r,n,i){return this.drawShape(new bg(t,e,r,n,i))}drawCircle(t,e,r){return this.drawShape(new wg(t,e,r))}drawEllipse(t,e,r,n){return this.drawShape(new Sg(t,e,r,n))}drawPolygon(...t){let e,r=!0;const n=t[0];n.points?(r=n.closeStroke,e=n.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new wo(e);return i.closeStroke=r,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Rt.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let n=0;n<r;n++){const i=t.batches[n],s=i.style.color,l=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),u=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),c=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),d={vertexData:l,blendMode:e,indices:c,uvs:u,_batchRGB:je.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=d}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,n=this.worldAlpha,i=e.uniforms,s=r.drawCalls;i.translationMatrix=this.transform.worldTransform,je.shared.setValue(this._tintColor).multiply([n,n,n]).setAlpha(n).toArray(i.tint),t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let l=0,u=s.length;l<u;l++)this._renderDrawCallDirect(t,r.drawCalls[l])}_renderDrawCallDirect(t,e){const{texArray:r,type:n,size:i,start:s}=e,l=r.count;for(let u=0;u<l;u++)t.texture.bind(r.elements[u],u);t.geometry.draw(n,i,s)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!Wf[r]){const{maxTextures:n}=t.plugins[r],i=new Int32Array(n);for(let u=0;u<n;u++)i[u]=u;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new nt,default:an.from({uSamplers:i},!0)},l=t.plugins[r]._shader.program;Wf[r]=new Rn(l,s)}e=Wf[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:n,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,r,n,i)}containsPoint(t){return this.worldTransform.applyInverse(t,vc._TEMP_POINT),this._geometry.containsPoint(vc._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=je.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,s=e.d,l=e.tx,u=e.ty,c=this._geometry.points,d=this.vertexData;let p=0;for(let y=0;y<c.length;y+=2){const g=c[y],_=c[y+1];d[p++]=r*g+i*_+l,d[p++]=s*_+n*g+u}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let Da=vc;Da.curves=No;Da._TEMP_POINT=new Xe;class j2 extends Rh{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,l=this.segHeight-1,u=this.width/s,c=this.height/l;for(let p=0;p<e;p++){const y=p%this.segWidth,g=p/this.segWidth|0;r.push(y*u,g*c),n.push(y/s,g/l)}const d=s*l;for(let p=0;p<d;p++){const y=p%s,g=p/s|0,_=g*this.segWidth+y,x=g*this.segWidth+y+1,T=(g+1)*this.segWidth+y,C=(g+1)*this.segWidth+y+1;i.push(_,x,T,x,C,T)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class G2 extends Rh{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,l=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let u=0,c=e[0];const d=this._width*this.textureScale,p=e.length;for(let g=0;g<p;g++){const _=g*4;if(this.textureScale>0){const x=c.x-e[g].x,T=c.y-e[g].y,C=Math.sqrt(x*x+T*T);c=e[g],u+=C/d}else u=g/(p-1);s[_]=u,s[_+1]=0,s[_+2]=u,s[_+3]=1}let y=0;for(let g=0;g<p-1;g++){const _=g*2;l[y++]=_,l[y++]=_+1,l[y++]=_+2,l[y++]=_+2,l[y++]=_+1,l[y++]=_+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const l=this.buffers[0].data,u=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let d=0;d<u;d++){const p=e[d],y=d*4;d<e.length-1?n=e[d+1]:n=p,s=-(n.x-r.x),i=n.y-r.y;const g=Math.sqrt(i*i+s*s);g<1e-6?(i=0,s=0):(i/=g,s/=g,i*=c,s*=c),l[y]=p.x+i,l[y+1]=p.y+s,l[y+2]=p.x-i,l[y+3]=p.y-s,r=p}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class $2 extends Po{constructor(e,r,n){const i=new j2(e.width,e.height,r,n),s=new pl(se.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Yu=10;class H2 extends $2{constructor(e,r,n,i,s){var l,u,c,d;super(se.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((l=e.defaultBorders)==null?void 0:l.left)??Yu,this._rightWidth=i??((u=e.defaultBorders)==null?void 0:u.right)??Yu,this._topHeight=n??((c=e.defaultBorders)==null?void 0:c.top)??Yu,this._bottomHeight=s??((d=e.defaultBorders)==null?void 0:d.bottom)??Yu,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class V2 extends Po{constructor(e=se.EMPTY,r,n,i,s){const l=new Rh(r,n,i);l.getBuffer("aVertexPosition").static=!1;const u=new pl(e);super(l,u,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class W2 extends Po{constructor(e,r,n=0){const i=new G2(e.height,r,n),s=new pl(e);n>0&&(e.baseTexture.wrapMode=Wn.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class X2 extends sr{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=de.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new je(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class A1{constructor(e,r,n){this.geometry=new Fi,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||_e.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new at(bI(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let l=0;l<this.dynamicProperties.length;++l){const u=this.dynamicProperties[l];u.offset=r,r+=u.size,this.dynamicStride+=u.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new at(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let l=0;l<this.staticProperties.length;++l){const u=this.staticProperties[l];u.offset=i,i+=u.size,this.staticStride+=u.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new at(this.staticData,!0,!1);for(let l=0;l<this.dynamicProperties.length;++l){const u=this.dynamicProperties[l];e.addAttribute(u.attributeName,this.dynamicBuffer,0,u.type===_e.UNSIGNED_BYTE,u.type,this.dynamicStride*4,u.offset*4)}for(let l=0;l<this.staticProperties.length;++l){const u=this.staticProperties[l];e.addAttribute(u.attributeName,this.staticBuffer,0,u.type===_e.UNSIGNED_BYTE,u.type,this.staticStride*4,u.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===_e.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===_e.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var Y2=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Q2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class oS extends Sh{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new nt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:_e.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Rn.from(Q2,Y2,{}),this.state=ti.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let l=r.length;if(l===0)return;l>n&&!e.autoResize&&(l=n);let u=e._buffers;u||(u=e._buffers=this.generateBuffers(e));const c=r[0]._texture.baseTexture,d=c.alphaMode>0;this.state.blendMode=cw(e.blendMode,d),s.state.set(this.state);const p=s.gl,y=e.worldTransform.copyTo(this.tempMatrix);y.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=y.toArray(!0),this.shader.uniforms.uColor=je.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,d).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let g=!1;for(let _=0,x=0;_<l;_+=i,x+=1){let T=l-_;T>i&&(T=i),x>=u.length&&u.push(this._generateOneMoreBuffer(e));const C=u[x];C.uploadDynamic(r,_,T);const b=e._bufferUpdateIDs[x]||0;g=g||C._updateID<b,g&&(C._updateID=e._updateID,C.uploadStatic(r,_,T)),s.geometry.bind(C.geometry),p.drawElements(p.TRIANGLES,T*6,p.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let l=0;l<n;l+=i)r.push(new A1(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new A1(this.properties,n,r)}uploadVertices(e,r,n,i,s,l){let u=0,c=0,d=0,p=0;for(let y=0;y<n;++y){const g=e[r+y],_=g._texture,x=g.scale.x,T=g.scale.y,C=_.trim,b=_.orig;C?(c=C.x-g.anchor.x*b.width,u=c+C.width,p=C.y-g.anchor.y*b.height,d=p+C.height):(u=b.width*(1-g.anchor.x),c=b.width*-g.anchor.x,d=b.height*(1-g.anchor.y),p=b.height*-g.anchor.y),i[l]=c*x,i[l+1]=p*T,i[l+s]=u*x,i[l+s+1]=p*T,i[l+s*2]=u*x,i[l+s*2+1]=d*T,i[l+s*3]=c*x,i[l+s*3+1]=d*T,l+=s*4}}uploadPosition(e,r,n,i,s,l){for(let u=0;u<n;u++){const c=e[r+u].position;i[l]=c.x,i[l+1]=c.y,i[l+s]=c.x,i[l+s+1]=c.y,i[l+s*2]=c.x,i[l+s*2+1]=c.y,i[l+s*3]=c.x,i[l+s*3+1]=c.y,l+=s*4}}uploadRotation(e,r,n,i,s,l){for(let u=0;u<n;u++){const c=e[r+u].rotation;i[l]=c,i[l+s]=c,i[l+s*2]=c,i[l+s*3]=c,l+=s*4}}uploadUvs(e,r,n,i,s,l){for(let u=0;u<n;++u){const c=e[r+u]._texture._uvs;c?(i[l]=c.x0,i[l+1]=c.y0,i[l+s]=c.x1,i[l+s+1]=c.y1,i[l+s*2]=c.x2,i[l+s*2+1]=c.y2,i[l+s*3]=c.x3,i[l+s*3+1]=c.y3,l+=s*4):(i[l]=0,i[l+1]=0,i[l+s]=0,i[l+s+1]=0,i[l+s*2]=0,i[l+s*2+1]=0,i[l+s*3]=0,i[l+s*3+1]=0,l+=s*4)}}uploadTint(e,r,n,i,s,l){for(let u=0;u<n;++u){const c=e[r+u],d=je.shared.setValue(c._tintRGB).toPremultiplied(c.alpha);i[l]=d,i[l+s]=d,i[l+s*2]=d,i[l+s*3]=d,l+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}oS.extension={name:"particle",type:ue.RendererPlugin};fe.add(oS);class ml extends bs{constructor(e,r=!0){super(e[0]instanceof se?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ut.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ut.shared.add(this.update,this,hl.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(se.from(e[n]));return new ml(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(se.from(e[n]));return new ml(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof se)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Ut.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ut.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const va=new Xe;class Rg extends bs{constructor(e,r=100,n=100){super(e),this.tileTransform=new wh,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new Tg(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Re),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,va);const r=this._width,n=this._height,i=-r*this.anchor._x;if(va.x>=i&&va.x<i+r){const s=-n*this.anchor._y;if(va.y>=s&&va.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof se?e:se.from(e,r);return new Rg(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var q2=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,K2=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Z2=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,R1=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,J2=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Qu=new nt;class aS extends Sh{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new Cw,this.state=ti.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Rn.from(R1,J2,r),this.shader=e.context.webGLVersion>1?Rn.from(K2,q2,r):Rn.from(R1,Z2,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,l=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-l,i[2]=i[4]=1-s,i[5]=i[7]=1-l,n.invalidate();const u=e._texture,c=u.baseTexture,d=c.alphaMode>0,p=e.tileTransform.localTransform,y=e.uvMatrix;let g=c.isPowerOfTwo&&u.frame.width===c.width&&u.frame.height===c.height;g&&(c._glTextures[r.CONTEXT_UID]?g=c.wrapMode!==Wn.CLAMP:c.wrapMode===Wn.CLAMP&&(c.wrapMode=Wn.REPEAT));const _=g?this.simpleShader:this.shader,x=u.width,T=u.height,C=e._width,b=e._height;Qu.set(p.a*x/C,p.b*x/b,p.c*T/C,p.d*T/b,p.tx/C,p.ty/b),Qu.invert(),g?Qu.prepend(y.mapCoord):(_.uniforms.uMapCoord=y.mapCoord.toArray(!0),_.uniforms.uClampFrame=y.uClampFrame,_.uniforms.uClampOffset=y.uClampOffset),_.uniforms.uTransform=Qu.toArray(!0),_.uniforms.uColor=je.shared.setValue(e.tint).premultiply(e.worldAlpha,d).toArray(_.uniforms.uColor),_.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),_.uniforms.uSampler=u,r.shader.bind(_),r.geometry.bind(n),this.state.blendMode=cw(e.blendMode,d),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}aS.extension={name:"tilingSprite",type:ue.RendererPlugin};fe.add(aS);const gm=class{constructor(t){this.stage=new sr,t=Object.assign({forceCanvas:!1},t),this.renderer=LA(t),gm._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const r=gm._plugins.slice(0);r.reverse(),r.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let El=gm;El._plugins=[];fe.handleByList(ue.Application,El._plugins);class lS{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}lS.extension=ue.Application;fe.add(lS);var Oe={},eR={get exports(){return Oe},set exports(t){Oe=t}},tR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rR=tR,nR=rR;function uS(){}function cS(){}cS.resetWarningCache=uS;var iR=function(){function t(n,i,s,l,u,c){if(c!==nR){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:cS,resetWarningCache:uS};return r.PropTypes=r,r};eR.exports=iR();function mr(t){return mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(t)}function hS(t){var e=function(r,n){if(mr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(mr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return mr(e)==="symbol"?e:String(e)}function ot(t,e,r){return(e=hS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xf(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zn(t){return function(e){if(Array.isArray(e))return Xf(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return Xf(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xf(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function it(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var sR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aR=function(t){return t==null};function Ca(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=Zn(t);else{if(t===null||mr(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!aR(r)&&!isNaN(r)}).map(Number)}function k1(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Yf(t){return t instanceof Xe||t instanceof Hn}var Jc=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Qf(t,e,r){if(Yf(t[e])&&Yf(r))t[e].copyFrom(r);else if(Yf(t[e])){var n=Ca(r);it(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),mr(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Vs,dS=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},fS=function(t){return function(){return!t.apply(void 0,arguments)}},ym="children",lR=(ot(Vs={},ym,!0),ot(Vs,"parent",!0),ot(Vs,"worldAlpha",!0),ot(Vs,"worldTransform",!0),ot(Vs,"worldVisible",!0),Vs),vm={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},kn=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(u){return requestAnimationFrame(function(){var c,d;u==null||(c=u.__reactpixi)===null||c===void 0||(d=c.root)===null||d===void 0||d.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(u,c){if(r.hasOwnProperty(u))return it(c.typeofs.some(function(d){return mr(r[u])===d})||c.instanceofs.some(function(d){return r[u]instanceof d}),"".concat(t," ").concat(u," prop is invalid")),r[u]};if(r.texture)return it(r.texture instanceof se,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,se]});it(!!s,"".concat(t," could not get texture from props"));var l=se.from(s);return l.__reactpixi={root:e},l.once("update",n),l.once("loaded",n),l.valid&&n(l),l},uR=fS(dS([].concat(Zn(Object.keys(lR)),Zn(Jc))));function Pn(t,e,r){var n=!1;if(it(_s.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",mr(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",l=0;l<Jc.length;l++){var u=Jc[l];e[u]!==r[u]&&(n=!0,typeof e[u]=="function"&&i&&t.removeListener(u,e[u]),typeof r[u]=="function"&&s&&t.on(u,r[u]))}var c=Object.keys(r||{});if(r.overwriteProps){for(var d=0;d<c.length;d++){var p=c[d];e[p]!==r[p]&&(n=!0,Qf(t,p,r[p]))}return n}for(var y=c.filter(uR),g=0;g<y.length;g++){var _=y[g],x=r[_];r[_]!==e[_]&&(n=!0),x!==void 0?Qf(t,_,x):_ in vm?(console.warn("setting default value: ".concat(_,", from: ").concat(t[_]," to: ").concat(x," for"),t),n=!0,Qf(t,_,vm[_])):console.warn("ignoring prop: ".concat(_,", from ").concat(t[_]," to ").concat(x," for"),t)}return n}var cR=function(t,e){var r=e.text,n=e.style;return new eS(r,n)},hR=function(){return new sr};function Ui(t,e){if(t==null)return{};var r,n,i=function(l,u){if(l==null)return{};var c,d,p={},y=Object.keys(l);for(d=0;d<y.length;d++)c=y[d],u.indexOf(c)>=0||(p[c]=l[c]);return p}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var dR=["draw","geometry"],fR=function(t,e){var r=e.geometry;it(!r||r instanceof Da,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new Da(r.geometry):new Da;return n.applyProps=function(i,s,l){var u=l.draw;l.geometry;var c=Pn(i,s,Ui(l,dR));return s.draw!==u&&typeof u=="function"&&(c=!0,u.call(n,n)),c},n},pR=["image","texture"],mR=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,l=e.rightWidth,u=l===void 0?10:l,c=e.bottomHeight,d=c===void 0?10:c,p=kn("NineSlicePlane",t,e),y=new H2(p,n,s,u,d);return y.applyProps=function(g,_,x){var T=x.image,C=x.texture,b=Pn(g,_,Ui(x,pR));return(T||C)&&(C!==_.texture&&(b=!0),g.texture=kn("NineSlicePlane",t,x)),b},y};function P1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P1(Object(r),!0).forEach(function(n){ot(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var gR=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,l=e.autoResize,u=l!==void 0&&l,c=qu(qu({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),d=qu(qu({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),p=new X2(n,c,s,u);return p.willUnmount=function(y,g,_){y.destroy(d)},p},yR=["image","texture"],vR=function(t,e){var r=new bs(kn("Sprite",t,e));return r.applyProps=function(n,i,s){var l=s.image,u=s.texture,c=Pn(n,i,Ui(s,yR));return(u&&i.texture!==s.texture||l&&i.image!==s.image)&&(i.texture!==s.texture&&(c=!0),n.texture=kn("Sprite",t,s)),c},r},_R=["textures","isPlaying","initialFrame"],xR=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,l=e.initialFrame,u=function(d){return d.map(function(p){return it(p instanceof se||(p==null?void 0:p.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),p})},c=n?ml.fromImages(n):new ml(u(r));return c[s?"gotoAndPlay":"gotoAndStop"](l||0),c.applyProps=function(d,p,y){var g=y.textures,_=y.isPlaying,x=y.initialFrame,T=Pn(d,p,Ui(y,_R));if(g&&p.textures!==g&&(d.textures=u(g),T=!0),_!==p.isPlaying||x!==p.initialFrame){var C=typeof x=="number"?x:c.currentFrame||0;c[_?"gotoAndPlay":"gotoAndStop"](C),T=!0}return T},c},wR=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,l=e.isSprite,u=new qw(n,s);return l?(u.updateText(),new bs(u.texture)):u},SR=["tileScale","tilePosition","image","texture"],bR=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,l=kn("TilingSprite",t,e),u=new Rg(l,n,s);return u.applyProps=function(c,d,p){var y=p.tileScale,g=p.tilePosition,_=p.image,x=p.texture,T=Pn(c,d,Ui(p,SR));if(g){var C,b=Ca(g);(C=c.tilePosition).set.apply(C,Zn(b)),T=!k1(Ca(d.tilePosition),b)||T}if(y){var S,w=Ca(y);(S=c.tileScale).set.apply(S,Zn(w)),T=!k1(Ca(d.tileScale),w)||T}return(_||x)&&(x!==d.texture&&(T=!0),c.texture=kn("Sprite",t,p)),T},u},TR=["image","texture"],ER=function(t,e){var r=kn("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,l=e.drawMode,u=l===void 0?Zr.TRIANGLES:l,c=new V2(r,n,i,s,u);return c.applyProps=function(d,p,y){var g=y.image,_=y.texture,x=Pn(d,p,Ui(y,TR));return(g||_)&&(_!==p.texture&&(x=!0),d.texture=kn("Mesh",t,y)),x},c},CR=["image","texture"],IR=function(t,e){var r=kn("SimpleRope",t,e),n=e.points,i=new W2(r,n);return i.applyProps=function(s,l,u){var c=u.image,d=u.texture,p=Ui(u,CR);it(Array.isArray(u.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var y=Pn(s,l,p);return(c||d)&&(d!==l.texture&&(y=!0),s.texture=kn("SimpleRope",t,u)),y},i},AR=Object.freeze({__proto__:null,BitmapText:cR,Container:hR,Graphics:fR,NineSlicePlane:mR,ParticleContainer:gR,Sprite:vR,Text:wR,TilingSprite:bR,SimpleMesh:ER,SimpleRope:IR,AnimatedSprite:xR});function N1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function M1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N1(Object(r),!0).forEach(function(n){ot(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var or={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},RR=Object.keys(or).reduce(function(t,e){return M1(M1({},t),{},ot({},e,AR[e]))},{}),pS={};function kR(t,e){return it(!!t,"Expect type to be defined, got `%s`",t),it(!or[t],"Component `%s` could not be created, already exists in default components.",t),pS[t]=e,t}var F1,L1,O1,B1,_m={},xm={},PR={get exports(){return xm},set exports(t){xm=t}},D1={};function NR(){return L1||(L1=1,PR.exports=(F1||(F1=1,function(t){function e(P,G){var k=P.length;P.push(G);e:for(;0<k;){var X=k-1>>>1,J=P[X];if(!(0<i(J,G)))break e;P[X]=G,P[k]=J,k=X}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var G=P[0],k=P.pop();if(k!==G){P[0]=k;e:for(var X=0,J=P.length,ge=J>>>1;X<ge;){var pe=2*(X+1)-1,Ne=P[pe],xe=pe+1,ke=P[xe];if(0>i(Ne,k))xe<J&&0>i(ke,Ne)?(P[X]=ke,P[xe]=k,X=xe):(P[X]=Ne,P[pe]=k,X=pe);else{if(!(xe<J&&0>i(ke,k)))break e;P[X]=ke,P[xe]=k,X=xe}}}return G}function i(P,G){var k=P.sortIndex-G.sortIndex;return k!==0?k:P.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],d=[],p=1,y=null,g=3,_=!1,x=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function w(P){for(var G=r(d);G!==null;){if(G.callback===null)n(d);else{if(!(G.startTime<=P))break;n(d),G.sortIndex=G.expirationTime,e(c,G)}G=r(d)}}function I(P){if(T=!1,w(P),!x)if(r(c)!==null)x=!0,ye(M);else{var G=r(d);G!==null&&ee(I,G.startTime-P)}}function M(P,G){x=!1,T&&(T=!1,b(K),K=-1),_=!0;var k=g;try{for(w(G),y=r(c);y!==null&&(!(y.expirationTime>G)||P&&!re());){var X=y.callback;if(typeof X=="function"){y.callback=null,g=y.priorityLevel;var J=X(y.expirationTime<=G);G=t.unstable_now(),typeof J=="function"?y.callback=J:y===r(c)&&n(c),w(G)}else n(c);y=r(c)}if(y!==null)var ge=!0;else{var pe=r(d);pe!==null&&ee(I,pe.startTime-G),ge=!1}return ge}finally{y=null,g=k,_=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var O,F=!1,L=null,K=-1,Q=5,q=-1;function re(){return!(t.unstable_now()-q<Q)}function H(){if(L!==null){var P=t.unstable_now();q=P;var G=!0;try{G=L(!0,P)}finally{G?O():(F=!1,L=null)}}else F=!1}if(typeof S=="function")O=function(){S(H)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,me=V.port2;V.port1.onmessage=H,O=function(){me.postMessage(null)}}else O=function(){C(H,0)};function ye(P){L=P,F||(F=!0,O())}function ee(P,G){K=C(function(){P(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){x||_||(x=!0,ye(M))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(P){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var k=g;g=G;try{return P()}finally{g=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,G){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var k=g;g=P;try{return G()}finally{g=k}},t.unstable_scheduleCallback=function(P,G,k){var X=t.unstable_now();switch(k=typeof k=="object"&&k!==null&&typeof(k=k.delay)=="number"&&0<k?X+k:X,P){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return P={id:p++,callback:G,priorityLevel:P,startTime:k,expirationTime:J=k+J,sortIndex:-1},k>X?(P.sortIndex=k,e(d,P),r(c)===null&&P===r(d)&&(T?(b(K),K=-1):T=!0,ee(I,k-X))):(P.sortIndex=J,e(c,P),x||_||(x=!0,ye(M))),P},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(P){var G=g;return function(){var k=g;g=G;try{return P.apply(this,arguments)}finally{g=k}}}}(D1)),D1)),xm}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function MR(){return B1||(B1=1,O1=function(t){var e={},r=En,n=NR(),i=Object.assign;function s(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),_=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),I=Symbol.iterator;function M(o){return o===null||typeof o!="object"?null:typeof(o=I&&o[I]||o["@@iterator"])=="function"?o:null}function O(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case d:return"Fragment";case c:return"Portal";case y:return"Profiler";case p:return"StrictMode";case T:return"Suspense";case C:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case _:return(o.displayName||"Context")+".Consumer";case g:return(o._context.displayName||"Context")+".Provider";case x:var a=o.render;return(o=o.displayName)||(o=(o=a.displayName||a.name||"")!==""?"ForwardRef("+o+")":"ForwardRef"),o;case b:return(a=o.displayName||null)!==null?a:O(o.type)||"Memo";case S:a=o._payload,o=o._init;try{return O(o(a))}catch{}}return null}function F(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=(o=a.render).displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O(a);case 8:return a===p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function L(o){var a=o,h=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do 4098&(a=o).flags&&(h=a.return),o=a.return;while(o)}return a.tag===3?h:null}function K(o){if(L(o)!==o)throw Error(s(188))}function Q(o){var a=o.alternate;if(!a){if((a=L(o))===null)throw Error(s(188));return a!==o?null:o}for(var h=o,f=a;;){var m=h.return;if(m===null)break;var v=m.alternate;if(v===null){if((f=m.return)!==null){h=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===h)return K(m),o;if(v===f)return K(m),a;v=v.sibling}throw Error(s(188))}if(h.return!==f.return)h=m,f=v;else{for(var E=!1,A=m.child;A;){if(A===h){E=!0,h=m,f=v;break}if(A===f){E=!0,f=m,h=v;break}A=A.sibling}if(!E){for(A=v.child;A;){if(A===h){E=!0,h=v,f=m;break}if(A===f){E=!0,f=v,h=m;break}A=A.sibling}if(!E)throw Error(s(189))}}if(h.alternate!==f)throw Error(s(190))}if(h.tag!==3)throw Error(s(188));return h.stateNode.current===h?o:a}function q(o){return(o=Q(o))!==null?re(o):null}function re(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=re(o);if(a!==null)return a;o=o.sibling}return null}function H(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){if(o.tag!==4){var a=H(o);if(a!==null)return a}o=o.sibling}return null}var V,me=Array.isArray,ye=t.getPublicInstance,ee=t.getRootHostContext,P=t.getChildHostContext,G=t.prepareForCommit,k=t.resetAfterCommit,X=t.createInstance,J=t.appendInitialChild,ge=t.finalizeInitialChildren,pe=t.prepareUpdate,Ne=t.shouldSetTextContent,xe=t.createTextInstance,ke=t.scheduleTimeout,gt=t.cancelTimeout,Et=t.noTimeout,et=t.isPrimaryRenderer,we=t.supportsMutation,Ue=t.supportsPersistence,Ce=t.supportsHydration,_r=t.getInstanceFromNode,xr=t.preparePortalMount,zi=t.getCurrentEventPriority,Mh=t.detachDeletedInstance,Es=t.supportsMicrotasks,ES=t.scheduleMicrotask,Bo=t.supportsTestSelectors,CS=t.findFiberRoot,IS=t.getBoundingRect,AS=t.getTextContent,Do=t.isHiddenSubtree,RS=t.matchAccessibilityRole,kS=t.setFocusIfFocusable,PS=t.setupIntersectionObserver,NS=t.appendChild,MS=t.appendChildToContainer,FS=t.commitTextUpdate,LS=t.commitMount,OS=t.commitUpdate,BS=t.insertBefore,DS=t.insertInContainerBefore,US=t.removeChild,zS=t.removeChildFromContainer,kg=t.resetTextContent,jS=t.hideInstance,GS=t.hideTextInstance,$S=t.unhideInstance,HS=t.unhideTextInstance,VS=t.clearContainer,WS=t.cloneInstance,Pg=t.createContainerChildSet,Ng=t.appendChildToContainerChildSet,XS=t.finalizeContainerChildren,Fh=t.replaceContainerChildren,Mg=t.cloneHiddenInstance,Fg=t.cloneHiddenTextInstance,YS=t.canHydrateInstance,QS=t.canHydrateTextInstance,qS=t.canHydrateSuspenseInstance,Lg=t.isSuspenseInstancePending,Lh=t.isSuspenseInstanceFallback,KS=t.getSuspenseInstanceFallbackErrorDetails,ZS=t.registerSuspenseInstanceRetry,Cl=t.getNextHydratableSibling,JS=t.getFirstHydratableChild,eb=t.getFirstHydratableChildWithinContainer,tb=t.getFirstHydratableChildWithinSuspenseInstance,rb=t.hydrateInstance,nb=t.hydrateTextInstance,ib=t.hydrateSuspenseInstance,sb=t.getNextHydratableInstanceAfterSuspenseInstance,ob=t.commitHydratedContainer,ab=t.commitHydratedSuspenseInstance,lb=t.clearSuspenseBoundary,ub=t.clearSuspenseBoundaryFromContainer,cb=t.shouldDeleteUnhydratedTailInstances,hb=t.didNotMatchHydratedContainerTextInstance,db=t.didNotMatchHydratedTextInstance;function Uo(o){if(V===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);V=a&&a[1]||""}return`
`+V+o}var Oh=!1;function Bh(o,a){if(!o||Oh)return"";Oh=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(D){var f=D}Reflect.construct(o,[],a)}else{try{a.call()}catch(D){f=D}o.call(a.prototype)}else{try{throw Error()}catch(D){f=D}o()}}catch(D){if(D&&f&&typeof D.stack=="string"){for(var m=D.stack.split(`
`),v=f.stack.split(`
`),E=m.length-1,A=v.length-1;1<=E&&0<=A&&m[E]!==v[A];)A--;for(;1<=E&&0<=A;E--,A--)if(m[E]!==v[A]){if(E!==1||A!==1)do if(E--,0>--A||m[E]!==v[A]){var N=`
`+m[E].replace(" at new "," at ");return o.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",o.displayName)),N}while(1<=E&&0<=A);break}}}finally{Oh=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?Uo(o):""}var fb=Object.prototype.hasOwnProperty,Dh=[],Cs=-1;function ri(o){return{current:o}}function $e(o){0>Cs||(o.current=Dh[Cs],Dh[Cs]=null,Cs--)}function Be(o,a){Cs++,Dh[Cs]=o.current,o.current=a}var ni={},Nt=ri(ni),Yt=ri(!1),ji=ni;function Is(o,a){var h=o.type.contextTypes;if(!h)return ni;var f=o.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var m,v={};for(m in h)v[m]=a[m];return f&&((o=o.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=v),v}function ar(o){return(o=o.childContextTypes)!=null}function Uh(){$e(Yt),$e(Nt)}function Og(o,a,h){if(Nt.current!==ni)throw Error(s(168));Be(Nt,a),Be(Yt,h)}function Bg(o,a,h){var f=o.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return h;for(var m in f=f.getChildContext())if(!(m in a))throw Error(s(108,F(o)||"Unknown",m));return i({},h,f)}function Il(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ni,ji=Nt.current,Be(Nt,o),Be(Yt,Yt.current),!0}function Dg(o,a,h){var f=o.stateNode;if(!f)throw Error(s(169));h?(o=Bg(o,a,ji),f.__reactInternalMemoizedMergedChildContext=o,$e(Yt),$e(Nt),Be(Nt,o)):$e(Yt),Be(Yt,h)}var Br=Math.clz32?Math.clz32:function(o){return(o>>>=0)===0?32:31-(pb(o)/mb|0)|0},pb=Math.log,mb=Math.LN2,zh=64,jh=4194304;function zo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&o;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&o;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Al(o,a){var h=o.pendingLanes;if(h===0)return 0;var f=0,m=o.suspendedLanes,v=o.pingedLanes,E=268435455&h;if(E!==0){var A=E&~m;A!==0?f=zo(A):(v&=E)!==0&&(f=zo(v))}else(E=h&~m)!==0?f=zo(E):v!==0&&(f=zo(v));if(f===0)return 0;if(a!==0&&a!==f&&!(a&m)&&((m=f&-f)>=(v=a&-a)||m===16&&4194240&v))return a;if(4&f&&(f|=16&h),(a=o.entangledLanes)!==0)for(o=o.entanglements,a&=f;0<a;)m=1<<(h=31-Br(a)),f|=o[h],a&=~m;return f}function gb(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;default:return-1}}function Gh(o){return(o=-1073741825&o.pendingLanes)!==0?o:1073741824&o?1073741824:0}function Ug(){var o=zh;return!(4194240&(zh<<=1))&&(zh=64),o}function $h(o){for(var a=[],h=0;31>h;h++)a.push(o);return a}function jo(o,a,h){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),(o=o.eventTimes)[a=31-Br(a)]=h}function Hh(o,a){var h=o.entangledLanes|=a;for(o=o.entanglements;h;){var f=31-Br(h),m=1<<f;m&a|o[f]&a&&(o[f]|=a),h&=~m}}var Ie=0;function zg(o){return 1<(o&=-o)?4<o?268435455&o?16:536870912:4:1}var Vh=n.unstable_scheduleCallback,jg=n.unstable_cancelCallback,yb=n.unstable_shouldYield,vb=n.unstable_requestPaint,yt=n.unstable_now,Wh=n.unstable_ImmediatePriority,_b=n.unstable_UserBlockingPriority,Gg=n.unstable_NormalPriority,xb=n.unstable_IdlePriority,Rl=null,un=null,Dr=typeof Object.is=="function"?Object.is:function(o,a){return o===a&&(o!==0||1/o==1/a)||o!=o&&a!=a},Nn=null,kl=!1,Xh=!1;function $g(o){Nn===null?Nn=[o]:Nn.push(o)}function cn(){if(!Xh&&Nn!==null){Xh=!0;var o=0,a=Ie;try{var h=Nn;for(Ie=1;o<h.length;o++){var f=h[o];do f=f(!0);while(f!==null)}Nn=null,kl=!1}catch(m){throw Nn!==null&&(Nn=Nn.slice(o+1)),Vh(Wh,cn),m}finally{Ie=a,Xh=!1}}return null}var As=[],Rs=0,Pl=null,Nl=0,wr=[],Sr=0,Gi=null,hn=1,Mn="";function $i(o,a){As[Rs++]=Nl,As[Rs++]=Pl,Pl=o,Nl=a}function Hg(o,a,h){wr[Sr++]=hn,wr[Sr++]=Mn,wr[Sr++]=Gi,Gi=o;var f=hn;o=Mn;var m=32-Br(f)-1;f&=~(1<<m),h+=1;var v=32-Br(a)+m;if(30<v){var E=m-m%5;v=(f&(1<<E)-1).toString(32),f>>=E,m-=E,hn=1<<32-Br(a)+m|h<<m|f,Mn=v+o}else hn=1<<v|h<<m|f,Mn=o}function Yh(o){o.return!==null&&($i(o,1),Hg(o,1,0))}function Qh(o){for(;o===Pl;)Pl=As[--Rs],As[Rs]=null,Nl=As[--Rs],As[Rs]=null;for(;o===Gi;)Gi=wr[--Sr],wr[Sr]=null,Mn=wr[--Sr],wr[Sr]=null,hn=wr[--Sr],wr[Sr]=null}var lr=null,br=null,He=!1,Go=!1,Ur=null;function Vg(o,a){var h=Ar(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=o,(a=o.deletions)===null?(o.deletions=[h],o.flags|=16):a.push(h)}function Wg(o,a){switch(o.tag){case 5:return(a=YS(a,o.type,o.pendingProps))!==null&&(o.stateNode=a,lr=o,br=JS(a),!0);case 6:return(a=QS(a,o.pendingProps))!==null&&(o.stateNode=a,lr=o,br=null,!0);case 13:if((a=qS(a))!==null){var h=Gi!==null?{id:hn,overflow:Mn}:null;return o.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},(h=Ar(18,null,null,0)).stateNode=a,h.return=o,o.child=h,lr=o,br=null,!0}return!1;default:return!1}}function qh(o){return(1&o.mode)!=0&&(128&o.flags)==0}function Kh(o){if(He){var a=br;if(a){var h=a;if(!Wg(o,a)){if(qh(o))throw Error(s(418));a=Cl(h);var f=lr;a&&Wg(o,a)?Vg(f,h):(o.flags=-4097&o.flags|2,He=!1,lr=o)}}else{if(qh(o))throw Error(s(418));o.flags=-4097&o.flags|2,He=!1,lr=o}}}function Xg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;lr=o}function Ml(o){if(!Ce||o!==lr)return!1;if(!He)return Xg(o),He=!0,!1;if(o.tag!==3&&(o.tag!==5||cb(o.type)&&!Ne(o.type,o.memoizedProps))){var a=br;if(a){if(qh(o))throw Yg(),Error(s(418));for(;a;)Vg(o,a),a=Cl(a)}}if(Xg(o),o.tag===13){if(!Ce)throw Error(s(316));if(!(o=(o=o.memoizedState)!==null?o.dehydrated:null))throw Error(s(317));br=sb(o)}else br=lr?Cl(o.stateNode):null;return!0}function Yg(){for(var o=br;o;)o=Cl(o)}function ks(){Ce&&(br=lr=null,Go=He=!1)}function Zh(o){Ur===null?Ur=[o]:Ur.push(o)}var wb=l.ReactCurrentBatchConfig;function Fl(o,a){if(Dr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var h=Object.keys(o),f=Object.keys(a);if(h.length!==f.length)return!1;for(f=0;f<h.length;f++){var m=h[f];if(!fb.call(a,m)||!Dr(o[m],a[m]))return!1}return!0}function Sb(o){switch(o.tag){case 5:return Uo(o.type);case 16:return Uo("Lazy");case 13:return Uo("Suspense");case 19:return Uo("SuspenseList");case 0:case 2:case 15:return o=Bh(o.type,!1);case 11:return o=Bh(o.type.render,!1);case 1:return o=Bh(o.type,!0);default:return""}}function zr(o,a){if(o&&o.defaultProps){for(var h in a=i({},a),o=o.defaultProps)a[h]===void 0&&(a[h]=o[h]);return a}return a}var Ll=ri(null),Ol=null,Ps=null,Jh=null;function ed(){Jh=Ps=Ol=null}function Qg(o,a,h){et?(Be(Ll,a._currentValue),a._currentValue=h):(Be(Ll,a._currentValue2),a._currentValue2=h)}function td(o){var a=Ll.current;$e(Ll),et?o._currentValue=a:o._currentValue2=a}function rd(o,a,h){for(;o!==null;){var f=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),o===h)break;o=o.return}}function Ns(o,a){Ol=o,Jh=Ps=null,(o=o.dependencies)!==null&&o.firstContext!==null&&(o.lanes&a&&(Qt=!0),o.firstContext=null)}function Tr(o){var a=et?o._currentValue:o._currentValue2;if(Jh!==o)if(o={context:o,memoizedValue:a,next:null},Ps===null){if(Ol===null)throw Error(s(308));Ps=o,Ol.dependencies={lanes:0,firstContext:o}}else Ps=Ps.next=o;return a}var Hi=null;function nd(o){Hi===null?Hi=[o]:Hi.push(o)}function qg(o,a,h,f){var m=a.interleaved;return m===null?(h.next=h,nd(a)):(h.next=m.next,m.next=h),a.interleaved=h,dn(o,f)}function dn(o,a){o.lanes|=a;var h=o.alternate;for(h!==null&&(h.lanes|=a),h=o,o=o.return;o!==null;)o.childLanes|=a,(h=o.alternate)!==null&&(h.childLanes|=a),h=o,o=o.return;return h.tag===3?h.stateNode:null}var ii=!1;function id(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kg(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Fn(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function si(o,a,h){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(2&Te)!=0){var m=f.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),f.pending=a,dn(o,h)}return(m=f.interleaved)===null?(a.next=a,nd(f)):(a.next=m.next,m.next=a),f.interleaved=a,dn(o,h)}function Bl(o,a,h){if((a=a.updateQueue)!==null&&(a=a.shared,(4194240&h)!=0)){var f=a.lanes;h|=f&=o.pendingLanes,a.lanes=h,Hh(o,h)}}function Zg(o,a){var h=o.updateQueue,f=o.alternate;if(f!==null&&h===(f=f.updateQueue)){var m=null,v=null;if((h=h.firstBaseUpdate)!==null){do{var E={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};v===null?m=v=E:v=v.next=E,h=h.next}while(h!==null);v===null?m=v=a:v=v.next=a}else m=v=a;return h={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},void(o.updateQueue=h)}(o=h.lastBaseUpdate)===null?h.firstBaseUpdate=a:o.next=a,h.lastBaseUpdate=a}function Dl(o,a,h,f){var m=o.updateQueue;ii=!1;var v=m.firstBaseUpdate,E=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var N=A,D=N.next;N.next=null,E===null?v=D:E.next=D,E=N;var z=o.alternate;z!==null&&(A=(z=z.updateQueue).lastBaseUpdate)!==E&&(A===null?z.firstBaseUpdate=D:A.next=D,z.lastBaseUpdate=N)}if(v!==null){var Z=m.baseState;for(E=0,z=D=N=null,A=v;;){var U=A.lane,Y=A.eventTime;if((f&U)===U){z!==null&&(z=z.next={eventTime:Y,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var oe=o,ve=A;switch(U=a,Y=h,ve.tag){case 1:if(typeof(oe=ve.payload)=="function"){Z=oe.call(Y,Z,U);break e}Z=oe;break e;case 3:oe.flags=-65537&oe.flags|128;case 0:if((U=typeof(oe=ve.payload)=="function"?oe.call(Y,Z,U):oe)==null)break e;Z=i({},Z,U);break e;case 2:ii=!0}}A.callback!==null&&A.lane!==0&&(o.flags|=64,(U=m.effects)===null?m.effects=[A]:U.push(A))}else Y={eventTime:Y,lane:U,tag:A.tag,payload:A.payload,callback:A.callback,next:null},z===null?(D=z=Y,N=Z):z=z.next=Y,E|=U;if((A=A.next)===null){if((A=m.shared.pending)===null)break;A=(U=A).next,U.next=null,m.lastBaseUpdate=U,m.shared.pending=null}}if(z===null&&(N=Z),m.baseState=N,m.firstBaseUpdate=D,m.lastBaseUpdate=z,(a=m.shared.interleaved)!==null){m=a;do E|=m.lane,m=m.next;while(m!==a)}else v===null&&(m.shared.lanes=0);Wi|=E,o.lanes=E,o.memoizedState=Z}}function Jg(o,a,h){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var f=o[a],m=f.callback;if(m!==null){if(f.callback=null,f=h,typeof m!="function")throw Error(s(191,m));m.call(f)}}}var e0=new r.Component().refs;function sd(o,a,h,f){h=(h=h(f,a=o.memoizedState))==null?a:i({},a,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Ul={isMounted:function(o){return!!(o=o._reactInternals)&&L(o)===o},enqueueSetState:function(o,a,h){o=o._reactInternals;var f=Lt(),m=ui(o),v=Fn(f,m);v.payload=a,h!=null&&(v.callback=h),(a=si(o,v,m))!==null&&(Ir(a,o,m,f),Bl(a,o,m))},enqueueReplaceState:function(o,a,h){o=o._reactInternals;var f=Lt(),m=ui(o),v=Fn(f,m);v.tag=1,v.payload=a,h!=null&&(v.callback=h),(a=si(o,v,m))!==null&&(Ir(a,o,m,f),Bl(a,o,m))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var h=Lt(),f=ui(o),m=Fn(h,f);m.tag=2,a!=null&&(m.callback=a),(a=si(o,m,f))!==null&&(Ir(a,o,f,h),Bl(a,o,f))}};function t0(o,a,h,f,m,v,E){return typeof(o=o.stateNode).shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,v,E):!a.prototype||!a.prototype.isPureReactComponent||!Fl(h,f)||!Fl(m,v)}function r0(o,a,h){var f=!1,m=ni,v=a.contextType;return typeof v=="object"&&v!==null?v=Tr(v):(m=ar(a)?ji:Nt.current,v=(f=(f=a.contextTypes)!=null)?Is(o,m):ni),a=new a(h,v),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ul,o.stateNode=a,a._reactInternals=o,f&&((o=o.stateNode).__reactInternalMemoizedUnmaskedChildContext=m,o.__reactInternalMemoizedMaskedChildContext=v),a}function n0(o,a,h,f){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,f),a.state!==o&&Ul.enqueueReplaceState(a,a.state,null)}function od(o,a,h,f){var m=o.stateNode;m.props=h,m.state=o.memoizedState,m.refs=e0,id(o);var v=a.contextType;typeof v=="object"&&v!==null?m.context=Tr(v):(v=ar(a)?ji:Nt.current,m.context=Is(o,v)),m.state=o.memoizedState,typeof(v=a.getDerivedStateFromProps)=="function"&&(sd(o,a,v,h),m.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&Ul.enqueueReplaceState(m,m.state,null),Dl(o,h,m,f),m.state=o.memoizedState),typeof m.componentDidMount=="function"&&(o.flags|=4194308)}function $o(o,a,h){if((o=h.ref)!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner){if(h.tag!==1)throw Error(s(309));var f=h.stateNode}if(!f)throw Error(s(147,o));var m=f,v=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===v?a.ref:(a=function(E){var A=m.refs;A===e0&&(A=m.refs={}),E===null?delete A[v]:A[v]=E},a._stringRef=v,a)}if(typeof o!="string")throw Error(s(284));if(!h._owner)throw Error(s(290,o))}return o}function zl(o,a){throw o=Object.prototype.toString.call(a),Error(s(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function i0(o){return(0,o._init)(o._payload)}function s0(o){function a(j,R){if(o){var B=j.deletions;B===null?(j.deletions=[R],j.flags|=16):B.push(R)}}function h(j,R){if(!o)return null;for(;R!==null;)a(j,R),R=R.sibling;return null}function f(j,R){for(j=new Map;R!==null;)R.key!==null?j.set(R.key,R):j.set(R.index,R),R=R.sibling;return j}function m(j,R){return(j=hi(j,R)).index=0,j.sibling=null,j}function v(j,R,B){return j.index=B,o?(B=j.alternate)!==null?(B=B.index)<R?(j.flags|=2,R):B:(j.flags|=2,R):(j.flags|=1048576,R)}function E(j){return o&&j.alternate===null&&(j.flags|=2),j}function A(j,R,B,$){return R===null||R.tag!==6?((R=Wd(B,j.mode,$)).return=j,R):((R=m(R,B)).return=j,R)}function N(j,R,B,$){var he=B.type;return he===d?z(j,R,B.props.children,$,B.key):R!==null&&(R.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===S&&i0(he)===R.type)?(($=m(R,B.props)).ref=$o(j,R,B),$.return=j,$):(($=du(B.type,B.key,B.props,null,j.mode,$)).ref=$o(j,R,B),$.return=j,$)}function D(j,R,B,$){return R===null||R.tag!==4||R.stateNode.containerInfo!==B.containerInfo||R.stateNode.implementation!==B.implementation?((R=Xd(B,j.mode,$)).return=j,R):((R=m(R,B.children||[])).return=j,R)}function z(j,R,B,$,he){return R===null||R.tag!==7?((R=Qi(B,j.mode,$,he)).return=j,R):((R=m(R,B)).return=j,R)}function Z(j,R,B){if(typeof R=="string"&&R!==""||typeof R=="number")return(R=Wd(""+R,j.mode,B)).return=j,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case u:return(B=du(R.type,R.key,R.props,null,j.mode,B)).ref=$o(j,null,R),B.return=j,B;case c:return(R=Xd(R,j.mode,B)).return=j,R;case S:return Z(j,(0,R._init)(R._payload),B)}if(me(R)||M(R))return(R=Qi(R,j.mode,B,null)).return=j,R;zl(j,R)}return null}function U(j,R,B,$){var he=R!==null?R.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return he!==null?null:A(j,R,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case u:return B.key===he?N(j,R,B,$):null;case c:return B.key===he?D(j,R,B,$):null;case S:return U(j,R,(he=B._init)(B._payload),$)}if(me(B)||M(B))return he!==null?null:z(j,R,B,$,null);zl(j,B)}return null}function Y(j,R,B,$,he){if(typeof $=="string"&&$!==""||typeof $=="number")return A(R,j=j.get(B)||null,""+$,he);if(typeof $=="object"&&$!==null){switch($.$$typeof){case u:return N(R,j=j.get($.key===null?B:$.key)||null,$,he);case c:return D(R,j=j.get($.key===null?B:$.key)||null,$,he);case S:return Y(j,R,B,(0,$._init)($._payload),he)}if(me($)||M($))return z(R,j=j.get(B)||null,$,he,null);zl(R,$)}return null}function oe(j,R,B,$){for(var he=null,Me=null,ae=R,Ae=R=0,It=null;ae!==null&&Ae<B.length;Ae++){ae.index>Ae?(It=ae,ae=null):It=ae.sibling;var Fe=U(j,ae,B[Ae],$);if(Fe===null){ae===null&&(ae=It);break}o&&ae&&Fe.alternate===null&&a(j,ae),R=v(Fe,R,Ae),Me===null?he=Fe:Me.sibling=Fe,Me=Fe,ae=It}if(Ae===B.length)return h(j,ae),He&&$i(j,Ae),he;if(ae===null){for(;Ae<B.length;Ae++)(ae=Z(j,B[Ae],$))!==null&&(R=v(ae,R,Ae),Me===null?he=ae:Me.sibling=ae,Me=ae);return He&&$i(j,Ae),he}for(ae=f(j,ae);Ae<B.length;Ae++)(It=Y(ae,j,Ae,B[Ae],$))!==null&&(o&&It.alternate!==null&&ae.delete(It.key===null?Ae:It.key),R=v(It,R,Ae),Me===null?he=It:Me.sibling=It,Me=It);return o&&ae.forEach(function(di){return a(j,di)}),He&&$i(j,Ae),he}function ve(j,R,B,$){var he=M(B);if(typeof he!="function")throw Error(s(150));if((B=he.call(B))==null)throw Error(s(151));for(var Me=he=null,ae=R,Ae=R=0,It=null,Fe=B.next();ae!==null&&!Fe.done;Ae++,Fe=B.next()){ae.index>Ae?(It=ae,ae=null):It=ae.sibling;var di=U(j,ae,Fe.value,$);if(di===null){ae===null&&(ae=It);break}o&&ae&&di.alternate===null&&a(j,ae),R=v(di,R,Ae),Me===null?he=di:Me.sibling=di,Me=di,ae=It}if(Fe.done)return h(j,ae),He&&$i(j,Ae),he;if(ae===null){for(;!Fe.done;Ae++,Fe=B.next())(Fe=Z(j,Fe.value,$))!==null&&(R=v(Fe,R,Ae),Me===null?he=Fe:Me.sibling=Fe,Me=Fe);return He&&$i(j,Ae),he}for(ae=f(j,ae);!Fe.done;Ae++,Fe=B.next())(Fe=Y(ae,j,Ae,Fe.value,$))!==null&&(o&&Fe.alternate!==null&&ae.delete(Fe.key===null?Ae:Fe.key),R=v(Fe,R,Ae),Me===null?he=Fe:Me.sibling=Fe,Me=Fe);return o&&ae.forEach(function(Wb){return a(j,Wb)}),He&&$i(j,Ae),he}return function j(R,B,$,he){if(typeof $=="object"&&$!==null&&$.type===d&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case u:e:{for(var Me=$.key,ae=B;ae!==null;){if(ae.key===Me){if((Me=$.type)===d){if(ae.tag===7){h(R,ae.sibling),(B=m(ae,$.props.children)).return=R,R=B;break e}}else if(ae.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===S&&i0(Me)===ae.type){h(R,ae.sibling),(B=m(ae,$.props)).ref=$o(R,ae,$),B.return=R,R=B;break e}h(R,ae);break}a(R,ae),ae=ae.sibling}$.type===d?((B=Qi($.props.children,R.mode,he,$.key)).return=R,R=B):((he=du($.type,$.key,$.props,null,R.mode,he)).ref=$o(R,B,$),he.return=R,R=he)}return E(R);case c:e:{for(ae=$.key;B!==null;){if(B.key===ae){if(B.tag===4&&B.stateNode.containerInfo===$.containerInfo&&B.stateNode.implementation===$.implementation){h(R,B.sibling),(B=m(B,$.children||[])).return=R,R=B;break e}h(R,B);break}a(R,B),B=B.sibling}(B=Xd($,R.mode,he)).return=R,R=B}return E(R);case S:return j(R,B,(ae=$._init)($._payload),he)}if(me($))return oe(R,B,$,he);if(M($))return ve(R,B,$,he);zl(R,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,B!==null&&B.tag===6?(h(R,B.sibling),(B=m(B,$)).return=R,R=B):(h(R,B),(B=Wd($,R.mode,he)).return=R,R=B),E(R)):h(R,B)}}var Ms=s0(!0),o0=s0(!1),Ho={},Er=ri(Ho),Vo=ri(Ho),Fs=ri(Ho);function fn(o){if(o===Ho)throw Error(s(174));return o}function ad(o,a){Be(Fs,a),Be(Vo,o),Be(Er,Ho),o=ee(a),$e(Er),Be(Er,o)}function Ls(){$e(Er),$e(Vo),$e(Fs)}function a0(o){var a=fn(Fs.current),h=fn(Er.current);h!==(a=P(h,o.type,a))&&(Be(Vo,o),Be(Er,a))}function ld(o){Vo.current===o&&($e(Er),$e(Vo))}var tt=ri(0);function jl(o){for(var a=o;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&((h=h.dehydrated)===null||Lg(h)||Lh(h)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(128&a.flags)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ud=[];function cd(){for(var o=0;o<ud.length;o++){var a=ud[o];et?a._workInProgressVersionPrimary=null:a._workInProgressVersionSecondary=null}ud.length=0}var Gl=l.ReactCurrentDispatcher,hd=l.ReactCurrentBatchConfig,Vi=0,Ye=null,vt=null,_t=null,$l=!1,Wo=!1,Xo=0,bb=0;function Mt(){throw Error(s(321))}function dd(o,a){if(a===null)return!1;for(var h=0;h<a.length&&h<o.length;h++)if(!Dr(o[h],a[h]))return!1;return!0}function fd(o,a,h,f,m,v){if(Vi=v,Ye=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Gl.current=o===null||o.memoizedState===null?Ib:Ab,o=h(f,m),Wo){v=0;do{if(Wo=!1,Xo=0,25<=v)throw Error(s(301));v+=1,_t=vt=null,a.updateQueue=null,Gl.current=Rb,o=h(f,m)}while(Wo)}if(Gl.current=Wl,a=vt!==null&&vt.next!==null,Vi=0,_t=vt=Ye=null,$l=!1,a)throw Error(s(300));return o}function pd(){var o=Xo!==0;return Xo=0,o}function pn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ye.memoizedState=_t=o:_t=_t.next=o,_t}function Cr(){if(vt===null){var o=Ye.alternate;o=o!==null?o.memoizedState:null}else o=vt.next;var a=_t===null?Ye.memoizedState:_t.next;if(a!==null)_t=a,vt=o;else{if(o===null)throw Error(s(310));o={memoizedState:(vt=o).memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},_t===null?Ye.memoizedState=_t=o:_t=_t.next=o}return _t}function Yo(o,a){return typeof a=="function"?a(o):a}function md(o){var a=Cr(),h=a.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=o;var f=vt,m=f.baseQueue,v=h.pending;if(v!==null){if(m!==null){var E=m.next;m.next=v.next,v.next=E}f.baseQueue=m=v,h.pending=null}if(m!==null){v=m.next,f=f.baseState;var A=E=null,N=null,D=v;do{var z=D.lane;if((Vi&z)===z)N!==null&&(N=N.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),f=D.hasEagerState?D.eagerState:o(f,D.action);else{var Z={lane:z,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};N===null?(A=N=Z,E=f):N=N.next=Z,Ye.lanes|=z,Wi|=z}D=D.next}while(D!==null&&D!==v);N===null?E=f:N.next=A,Dr(f,a.memoizedState)||(Qt=!0),a.memoizedState=f,a.baseState=E,a.baseQueue=N,h.lastRenderedState=f}if((o=h.interleaved)!==null){m=o;do v=m.lane,Ye.lanes|=v,Wi|=v,m=m.next;while(m!==o)}else m===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function gd(o){var a=Cr(),h=a.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=o;var f=h.dispatch,m=h.pending,v=a.memoizedState;if(m!==null){h.pending=null;var E=m=m.next;do v=o(v,E.action),E=E.next;while(E!==m);Dr(v,a.memoizedState)||(Qt=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),h.lastRenderedState=v}return[v,f]}function l0(){}function u0(o,a){var h=Ye,f=Cr(),m=a(),v=!Dr(f.memoizedState,m);if(v&&(f.memoizedState=m,Qt=!0),f=f.queue,yd(d0.bind(null,h,f,o),[o]),f.getSnapshot!==a||v||_t!==null&&1&_t.memoizedState.tag){if(h.flags|=2048,Qo(9,h0.bind(null,h,f,m,a),void 0,null),xt===null)throw Error(s(349));30&Vi||c0(h,a,m)}return m}function c0(o,a,h){o.flags|=16384,o={getSnapshot:a,value:h},(a=Ye.updateQueue)===null?(a={lastEffect:null,stores:null},Ye.updateQueue=a,a.stores=[o]):(h=a.stores)===null?a.stores=[o]:h.push(o)}function h0(o,a,h,f){a.value=h,a.getSnapshot=f,f0(a)&&p0(o)}function d0(o,a,h){return h(function(){f0(a)&&p0(o)})}function f0(o){var a=o.getSnapshot;o=o.value;try{var h=a();return!Dr(o,h)}catch{return!0}}function p0(o){var a=dn(o,1);a!==null&&Ir(a,o,1,-1)}function m0(o){var a=pn();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:o},a.queue=o,o=o.dispatch=Cb.bind(null,Ye,o),[a.memoizedState,o]}function Qo(o,a,h,f){return o={tag:o,create:a,destroy:h,deps:f,next:null},(a=Ye.updateQueue)===null?(a={lastEffect:null,stores:null},Ye.updateQueue=a,a.lastEffect=o.next=o):(h=a.lastEffect)===null?a.lastEffect=o.next=o:(f=h.next,h.next=o,o.next=f,a.lastEffect=o),o}function g0(){return Cr().memoizedState}function Hl(o,a,h,f){var m=pn();Ye.flags|=o,m.memoizedState=Qo(1|a,h,void 0,f===void 0?null:f)}function Vl(o,a,h,f){var m=Cr();f=f===void 0?null:f;var v=void 0;if(vt!==null){var E=vt.memoizedState;if(v=E.destroy,f!==null&&dd(f,E.deps))return void(m.memoizedState=Qo(a,h,v,f))}Ye.flags|=o,m.memoizedState=Qo(1|a,h,v,f)}function y0(o,a){return Hl(8390656,8,o,a)}function yd(o,a){return Vl(2048,8,o,a)}function v0(o,a){return Vl(4,2,o,a)}function _0(o,a){return Vl(4,4,o,a)}function x0(o,a){return typeof a=="function"?(o=o(),a(o),function(){a(null)}):a!=null?(o=o(),a.current=o,function(){a.current=null}):void 0}function w0(o,a,h){return h=h!=null?h.concat([o]):null,Vl(4,4,x0.bind(null,a,o),h)}function vd(){}function S0(o,a){var h=Cr();a=a===void 0?null:a;var f=h.memoizedState;return f!==null&&a!==null&&dd(a,f[1])?f[0]:(h.memoizedState=[o,a],o)}function b0(o,a){var h=Cr();a=a===void 0?null:a;var f=h.memoizedState;return f!==null&&a!==null&&dd(a,f[1])?f[0]:(o=o(),h.memoizedState=[o,a],o)}function T0(o,a,h){return 21&Vi?(Dr(h,a)||(h=Ug(),Ye.lanes|=h,Wi|=h,o.baseState=!0),a):(o.baseState&&(o.baseState=!1,Qt=!0),o.memoizedState=h)}function Tb(o,a){var h=Ie;Ie=h!==0&&4>h?h:4,o(!0);var f=hd.transition;hd.transition={};try{o(!1),a()}finally{Ie=h,hd.transition=f}}function E0(){return Cr().memoizedState}function Eb(o,a,h){var f=ui(o);h={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null},C0(o)?I0(a,h):(h=qg(o,a,h,f))!==null&&(Ir(h,o,f,Lt()),A0(h,a,f))}function Cb(o,a,h){var f=ui(o),m={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null};if(C0(o))I0(a,m);else{var v=o.alternate;if(o.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer)!==null)try{var E=a.lastRenderedState,A=v(E,h);if(m.hasEagerState=!0,m.eagerState=A,Dr(A,E)){var N=a.interleaved;return N===null?(m.next=m,nd(a)):(m.next=N.next,N.next=m),void(a.interleaved=m)}}catch{}(h=qg(o,a,m,f))!==null&&(Ir(h,o,f,m=Lt()),A0(h,a,f))}}function C0(o){var a=o.alternate;return o===Ye||a!==null&&a===Ye}function I0(o,a){Wo=$l=!0;var h=o.pending;h===null?a.next=a:(a.next=h.next,h.next=a),o.pending=a}function A0(o,a,h){if(4194240&h){var f=a.lanes;h|=f&=o.pendingLanes,a.lanes=h,Hh(o,h)}}var Wl={readContext:Tr,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},Ib={readContext:Tr,useCallback:function(o,a){return pn().memoizedState=[o,a===void 0?null:a],o},useContext:Tr,useEffect:y0,useImperativeHandle:function(o,a,h){return h=h!=null?h.concat([o]):null,Hl(4194308,4,x0.bind(null,a,o),h)},useLayoutEffect:function(o,a){return Hl(4194308,4,o,a)},useInsertionEffect:function(o,a){return Hl(4,2,o,a)},useMemo:function(o,a){var h=pn();return a=a===void 0?null:a,o=o(),h.memoizedState=[o,a],o},useReducer:function(o,a,h){var f=pn();return a=h!==void 0?h(a):a,f.memoizedState=f.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},f.queue=o,o=o.dispatch=Eb.bind(null,Ye,o),[f.memoizedState,o]},useRef:function(o){return o={current:o},pn().memoizedState=o},useState:m0,useDebugValue:vd,useDeferredValue:function(o){return pn().memoizedState=o},useTransition:function(){var o=m0(!1),a=o[0];return o=Tb.bind(null,o[1]),pn().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,h){var f=Ye,m=pn();if(He){if(h===void 0)throw Error(s(407));h=h()}else{if(h=a(),xt===null)throw Error(s(349));30&Vi||c0(f,a,h)}m.memoizedState=h;var v={value:h,getSnapshot:a};return m.queue=v,y0(d0.bind(null,f,v,o),[o]),f.flags|=2048,Qo(9,h0.bind(null,f,v,h,a),void 0,null),h},useId:function(){var o=pn(),a=xt.identifierPrefix;if(He){var h=Mn;a=":"+a+"R"+(h=(hn&~(1<<32-Br(hn)-1)).toString(32)+h),0<(h=Xo++)&&(a+="H"+h.toString(32)),a+=":"}else a=":"+a+"r"+(h=bb++).toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},Ab={readContext:Tr,useCallback:S0,useContext:Tr,useEffect:yd,useImperativeHandle:w0,useInsertionEffect:v0,useLayoutEffect:_0,useMemo:b0,useReducer:md,useRef:g0,useState:function(){return md(Yo)},useDebugValue:vd,useDeferredValue:function(o){return T0(Cr(),vt.memoizedState,o)},useTransition:function(){return[md(Yo)[0],Cr().memoizedState]},useMutableSource:l0,useSyncExternalStore:u0,useId:E0,unstable_isNewReconciler:!1},Rb={readContext:Tr,useCallback:S0,useContext:Tr,useEffect:yd,useImperativeHandle:w0,useInsertionEffect:v0,useLayoutEffect:_0,useMemo:b0,useReducer:gd,useRef:g0,useState:function(){return gd(Yo)},useDebugValue:vd,useDeferredValue:function(o){var a=Cr();return vt===null?a.memoizedState=o:T0(a,vt.memoizedState,o)},useTransition:function(){return[gd(Yo)[0],Cr().memoizedState]},useMutableSource:l0,useSyncExternalStore:u0,useId:E0,unstable_isNewReconciler:!1};function Os(o,a){try{var h="",f=a;do h+=Sb(f),f=f.return;while(f);var m=h}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:o,source:a,stack:m,digest:null}}function _d(o,a,h){return{value:o,source:null,stack:h??null,digest:a??null}}function xd(o,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var kb=typeof WeakMap=="function"?WeakMap:Map;function R0(o,a,h){(h=Fn(-1,h)).tag=3,h.payload={element:null};var f=a.value;return h.callback=function(){ou||(ou=!0,Ud=f),xd(0,a)},h}function k0(o,a,h){(h=Fn(-1,h)).tag=3;var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=a.value;h.payload=function(){return f(m)},h.callback=function(){xd(0,a)}}var v=o.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(h.callback=function(){xd(0,a),typeof f!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})}),h}function P0(o,a,h){var f=o.pingCache;if(f===null){f=o.pingCache=new kb;var m=new Set;f.set(a,m)}else(m=f.get(a))===void 0&&(m=new Set,f.set(a,m));m.has(h)||(m.add(h),o=Ub.bind(null,o,a,h),a.then(o,o))}function N0(o){do{var a;if((a=o.tag===13)&&(a=(a=o.memoizedState)===null||a.dehydrated!==null),a)return o;o=o.return}while(o!==null);return null}function M0(o,a,h,f,m){return 1&o.mode?(o.flags|=65536,o.lanes=m,o):(o===a?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:((a=Fn(-1,1)).tag=2,si(h,a,1))),h.lanes|=1),o)}var Pb=l.ReactCurrentOwner,Qt=!1;function qt(o,a,h,f){a.child=o===null?o0(a,null,h,f):Ms(a,o.child,h,f)}function F0(o,a,h,f,m){h=h.render;var v=a.ref;return Ns(a,m),f=fd(o,a,h,f,v,m),h=pd(),o===null||Qt?(He&&h&&Yh(a),a.flags|=1,qt(o,a,f,m),a.child):(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~m,Ln(o,a,m))}function L0(o,a,h,f,m){if(o===null){var v=h.type;return typeof v!="function"||Vd(v)||v.defaultProps!==void 0||h.compare!==null||h.defaultProps!==void 0?((o=du(h.type,null,f,a,a.mode,m)).ref=a.ref,o.return=a,a.child=o):(a.tag=15,a.type=v,O0(o,a,v,f,m))}if(v=o.child,(o.lanes&m)==0){var E=v.memoizedProps;if((h=(h=h.compare)!==null?h:Fl)(E,f)&&o.ref===a.ref)return Ln(o,a,m)}return a.flags|=1,(o=hi(v,f)).ref=a.ref,o.return=a,a.child=o}function O0(o,a,h,f,m){if(o!==null){var v=o.memoizedProps;if(Fl(v,f)&&o.ref===a.ref){if(Qt=!1,a.pendingProps=f=v,(o.lanes&m)==0)return a.lanes=o.lanes,Ln(o,a,m);131072&o.flags&&(Qt=!0)}}return wd(o,a,h,f,m)}function B0(o,a,h){var f=a.pendingProps,m=f.children,v=o!==null?o.memoizedState:null;if(f.mode==="hidden")if(!(1&a.mode))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Ds,ur),ur|=h;else{if(!(1073741824&h))return o=v!==null?v.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,Be(Ds,ur),ur|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:h,Be(Ds,ur),ur|=f}else v!==null?(f=v.baseLanes|h,a.memoizedState=null):f=h,Be(Ds,ur),ur|=f;return qt(o,a,m,h),a.child}function D0(o,a){var h=a.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function wd(o,a,h,f,m){var v=ar(h)?ji:Nt.current;return v=Is(a,v),Ns(a,m),h=fd(o,a,h,f,v,m),f=pd(),o===null||Qt?(He&&f&&Yh(a),a.flags|=1,qt(o,a,h,m),a.child):(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~m,Ln(o,a,m))}function U0(o,a,h,f,m){if(ar(h)){var v=!0;Il(a)}else v=!1;if(Ns(a,m),a.stateNode===null)ql(o,a),r0(a,h,f),od(a,h,f,m),f=!0;else if(o===null){var E=a.stateNode,A=a.memoizedProps;E.props=A;var N=E.context,D=h.contextType;typeof D=="object"&&D!==null?D=Tr(D):D=Is(a,D=ar(h)?ji:Nt.current);var z=h.getDerivedStateFromProps,Z=typeof z=="function"||typeof E.getSnapshotBeforeUpdate=="function";Z||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==f||N!==D)&&n0(a,E,f,D),ii=!1;var U=a.memoizedState;E.state=U,Dl(a,f,E,m),N=a.memoizedState,A!==f||U!==N||Yt.current||ii?(typeof z=="function"&&(sd(a,h,z,f),N=a.memoizedState),(A=ii||t0(a,h,A,f,U,N,D))?(Z||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(a.flags|=4194308)):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=N),E.props=f,E.state=N,E.context=D,f=A):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{E=a.stateNode,Kg(o,a),A=a.memoizedProps,D=a.type===a.elementType?A:zr(a.type,A),E.props=D,Z=a.pendingProps,U=E.context,typeof(N=h.contextType)=="object"&&N!==null?N=Tr(N):N=Is(a,N=ar(h)?ji:Nt.current);var Y=h.getDerivedStateFromProps;(z=typeof Y=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==Z||U!==N)&&n0(a,E,f,N),ii=!1,U=a.memoizedState,E.state=U,Dl(a,f,E,m);var oe=a.memoizedState;A!==Z||U!==oe||Yt.current||ii?(typeof Y=="function"&&(sd(a,h,Y,f),oe=a.memoizedState),(D=ii||t0(a,h,D,f,U,oe,N)||!1)?(z||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,oe,N),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,oe,N)),typeof E.componentDidUpdate=="function"&&(a.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===o.memoizedProps&&U===o.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===o.memoizedProps&&U===o.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=oe),E.props=f,E.state=oe,E.context=N,f=D):(typeof E.componentDidUpdate!="function"||A===o.memoizedProps&&U===o.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===o.memoizedProps&&U===o.memoizedState||(a.flags|=1024),f=!1)}return Sd(o,a,h,f,v,m)}function Sd(o,a,h,f,m,v){D0(o,a);var E=(128&a.flags)!=0;if(!f&&!E)return m&&Dg(a,h,!1),Ln(o,a,v);f=a.stateNode,Pb.current=a;var A=E&&typeof h.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,o!==null&&E?(a.child=Ms(a,o.child,null,v),a.child=Ms(a,null,A,v)):qt(o,a,A,v),a.memoizedState=f.state,m&&Dg(a,h,!0),a.child}function z0(o){var a=o.stateNode;a.pendingContext?Og(0,a.pendingContext,a.pendingContext!==a.context):a.context&&Og(0,a.context,!1),ad(o,a.containerInfo)}function j0(o,a,h,f,m){return ks(),Zh(m),a.flags|=256,qt(o,a,h,f),a.child}var qo,Ko,Xl,Yl,bd={dehydrated:null,treeContext:null,retryLane:0};function Td(o){return{baseLanes:o,cachePool:null,transitions:null}}function G0(o,a,h){var f,m=a.pendingProps,v=tt.current,E=!1,A=(128&a.flags)!=0;if((f=A)||(f=(o===null||o.memoizedState!==null)&&(2&v)!=0),f?(E=!0,a.flags&=-129):o!==null&&o.memoizedState===null||(v|=1),Be(tt,1&v),o===null)return Kh(a),(o=a.memoizedState)!==null&&(o=o.dehydrated)!==null?(1&a.mode?Lh(o)?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(A=m.children,o=m.fallback,E?(m=a.mode,E=a.child,A={mode:"hidden",children:A},!(1&m)&&E!==null?(E.childLanes=0,E.pendingProps=A):E=fu(A,m,0,null),o=Qi(o,m,h,null),E.return=a,o.return=a,E.sibling=o,a.child=E,a.child.memoizedState=Td(h),a.memoizedState=bd,o):Ed(a,A));if((v=o.memoizedState)!==null&&(f=v.dehydrated)!==null)return function(D,z,Z,U,Y,oe,ve){if(Z)return 256&z.flags?(z.flags&=-257,Ql(D,z,ve,U=_d(Error(s(422))))):z.memoizedState!==null?(z.child=D.child,z.flags|=128,null):(oe=U.fallback,Y=z.mode,U=fu({mode:"visible",children:U.children},Y,0,null),(oe=Qi(oe,Y,ve,null)).flags|=2,U.return=z,oe.return=z,U.sibling=oe,z.child=U,1&z.mode&&Ms(z,D.child,null,ve),z.child.memoizedState=Td(ve),z.memoizedState=bd,oe);if(!(1&z.mode))return Ql(D,z,ve,null);if(Lh(Y))return U=KS(Y).digest,oe=Error(s(419)),U=_d(oe,U,void 0),Ql(D,z,ve,U);if(Z=(ve&D.childLanes)!=0,Qt||Z){if((U=xt)!==null){switch(ve&-ve){case 4:Y=2;break;case 16:Y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Y=32;break;case 536870912:Y=268435456;break;default:Y=0}(Y=Y&(U.suspendedLanes|ve)?0:Y)!==0&&Y!==oe.retryLane&&(oe.retryLane=Y,dn(D,Y),Ir(U,D,Y,-1))}return Hd(),Ql(D,z,ve,U=_d(Error(s(421))))}return Lg(Y)?(z.flags|=128,z.child=D.child,z=zb.bind(null,D),ZS(Y,z),null):(D=oe.treeContext,Ce&&(br=tb(Y),lr=z,He=!0,Ur=null,Go=!1,D!==null&&(wr[Sr++]=hn,wr[Sr++]=Mn,wr[Sr++]=Gi,hn=D.id,Mn=D.overflow,Gi=z)),z=Ed(z,U.children),z.flags|=4096,z)}(o,a,A,m,f,v,h);if(E){E=m.fallback,A=a.mode,f=(v=o.child).sibling;var N={mode:"hidden",children:m.children};return!(1&A)&&a.child!==v?((m=a.child).childLanes=0,m.pendingProps=N,a.deletions=null):(m=hi(v,N)).subtreeFlags=14680064&v.subtreeFlags,f!==null?E=hi(f,E):(E=Qi(E,A,h,null)).flags|=2,E.return=a,m.return=a,m.sibling=E,a.child=m,m=E,E=a.child,A=(A=o.child.memoizedState)===null?Td(h):{baseLanes:A.baseLanes|h,cachePool:null,transitions:A.transitions},E.memoizedState=A,E.childLanes=o.childLanes&~h,a.memoizedState=bd,m}return o=(E=o.child).sibling,m=hi(E,{mode:"visible",children:m.children}),!(1&a.mode)&&(m.lanes=h),m.return=a,m.sibling=null,o!==null&&((h=a.deletions)===null?(a.deletions=[o],a.flags|=16):h.push(o)),a.child=m,a.memoizedState=null,m}function Ed(o,a){return(a=fu({mode:"visible",children:a},o.mode,0,null)).return=o,o.child=a}function Ql(o,a,h,f){return f!==null&&Zh(f),Ms(a,o.child,null,h),(o=Ed(a,a.pendingProps.children)).flags|=2,a.memoizedState=null,o}function $0(o,a,h){o.lanes|=a;var f=o.alternate;f!==null&&(f.lanes|=a),rd(o.return,a,h)}function Cd(o,a,h,f,m){var v=o.memoizedState;v===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:h,tailMode:m}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=h,v.tailMode=m)}function H0(o,a,h){var f=a.pendingProps,m=f.revealOrder,v=f.tail;if(qt(o,a,f.children,h),(2&(f=tt.current))!=0)f=1&f|2,a.flags|=128;else{if(o!==null&&128&o.flags)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&$0(o,h,a);else if(o.tag===19)$0(o,h,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}f&=1}if(Be(tt,f),(1&a.mode)==0)a.memoizedState=null;else switch(m){case"forwards":for(h=a.child,m=null;h!==null;)(o=h.alternate)!==null&&jl(o)===null&&(m=h),h=h.sibling;(h=m)===null?(m=a.child,a.child=null):(m=h.sibling,h.sibling=null),Cd(a,!1,m,h,v);break;case"backwards":for(h=null,m=a.child,a.child=null;m!==null;){if((o=m.alternate)!==null&&jl(o)===null){a.child=m;break}o=m.sibling,m.sibling=h,h=m,m=o}Cd(a,!0,h,null,v);break;case"together":Cd(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ql(o,a){!(1&a.mode)&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function Ln(o,a,h){if(o!==null&&(a.dependencies=o.dependencies),Wi|=a.lanes,(h&a.childLanes)==0)return null;if(o!==null&&a.child!==o.child)throw Error(s(153));if(a.child!==null){for(h=hi(o=a.child,o.pendingProps),a.child=h,h.return=a;o.sibling!==null;)o=o.sibling,(h=h.sibling=hi(o,o.pendingProps)).return=a;h.sibling=null}return a.child}function mn(o){o.flags|=4}function V0(o,a){if(o!==null&&o.child===a.child)return!0;if(16&a.flags)return!1;for(o=a.child;o!==null;){if(12854&o.flags||12854&o.subtreeFlags)return!1;o=o.sibling}return!0}if(we)qo=function(o,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)J(o,h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Ko=function(){},Xl=function(o,a,h,f,m){if((o=o.memoizedProps)!==f){var v=a.stateNode,E=fn(Er.current);h=pe(v,h,o,f,m,E),(a.updateQueue=h)&&mn(a)}},Yl=function(o,a,h,f){h!==f&&mn(a)};else if(Ue){qo=function(o,a,h,f){for(var m=a.child;m!==null;){if(m.tag===5){var v=m.stateNode;h&&f&&(v=Mg(v,m.type,m.memoizedProps,m)),J(o,v)}else if(m.tag===6)v=m.stateNode,h&&f&&(v=Fg(v,m.memoizedProps,m)),J(o,v);else if(m.tag!==4){if(m.tag===22&&m.memoizedState!==null)(v=m.child)!==null&&(v.return=m),qo(o,m,!0,!0);else if(m.child!==null){m.child.return=m,m=m.child;continue}}if(m===a)break;for(;m.sibling===null;){if(m.return===null||m.return===a)return;m=m.return}m.sibling.return=m.return,m=m.sibling}};var W0=function(o,a,h,f){for(var m=a.child;m!==null;){if(m.tag===5){var v=m.stateNode;h&&f&&(v=Mg(v,m.type,m.memoizedProps,m)),Ng(o,v)}else if(m.tag===6)v=m.stateNode,h&&f&&(v=Fg(v,m.memoizedProps,m)),Ng(o,v);else if(m.tag!==4){if(m.tag===22&&m.memoizedState!==null)(v=m.child)!==null&&(v.return=m),W0(o,m,!0,!0);else if(m.child!==null){m.child.return=m,m=m.child;continue}}if(m===a)break;for(;m.sibling===null;){if(m.return===null||m.return===a)return;m=m.return}m.sibling.return=m.return,m=m.sibling}};Ko=function(o,a){var h=a.stateNode;if(!V0(o,a)){o=h.containerInfo;var f=Pg(o);W0(f,a,!1,!1),h.pendingChildren=f,mn(a),XS(o,f)}},Xl=function(o,a,h,f,m){var v=o.stateNode,E=o.memoizedProps;if((o=V0(o,a))&&E===f)a.stateNode=v;else{var A=a.stateNode,N=fn(Er.current),D=null;E!==f&&(D=pe(A,h,E,f,m,N)),o&&D===null?a.stateNode=v:(v=WS(v,D,h,E,f,a,o,A),ge(v,h,f,m,N)&&mn(a),a.stateNode=v,o?mn(a):qo(v,a,!1,!1))}},Yl=function(o,a,h,f){h!==f?(o=fn(Fs.current),h=fn(Er.current),a.stateNode=xe(f,o,h,a),mn(a)):a.stateNode=o.stateNode}}else Ko=function(){},Xl=function(){},Yl=function(){};function Zo(o,a){if(!He)switch(o.tailMode){case"hidden":a=o.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var f=null;h!==null;)h.alternate!==null&&(f=h),h=h.sibling;f===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function Gt(o){var a=o.alternate!==null&&o.alternate.child===o.child,h=0,f=0;if(a)for(var m=o.child;m!==null;)h|=m.lanes|m.childLanes,f|=14680064&m.subtreeFlags,f|=14680064&m.flags,m.return=o,m=m.sibling;else for(m=o.child;m!==null;)h|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=o,m=m.sibling;return o.subtreeFlags|=f,o.childLanes=h,a}function Nb(o,a,h){var f=a.pendingProps;switch(Qh(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(a),null;case 1:case 17:return ar(a.type)&&Uh(),Gt(a),null;case 3:return h=a.stateNode,Ls(),$e(Yt),$e(Nt),cd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),o!==null&&o.child!==null||(Ml(a)?mn(a):o===null||o.memoizedState.isDehydrated&&!(256&a.flags)||(a.flags|=1024,Ur!==null&&(Gd(Ur),Ur=null))),Ko(o,a),Gt(a),null;case 5:ld(a),h=fn(Fs.current);var m=a.type;if(o!==null&&a.stateNode!=null)Xl(o,a,m,f,h),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(s(166));return Gt(a),null}if(o=fn(Er.current),Ml(a)){if(!Ce)throw Error(s(175));o=rb(a.stateNode,a.type,a.memoizedProps,h,o,a,!Go),a.updateQueue=o,o!==null&&mn(a)}else{var v=X(m,f,h,o,a);qo(v,a,!1,!1),a.stateNode=v,ge(v,m,f,h,o)&&mn(a)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Gt(a),null;case 6:if(o&&a.stateNode!=null)Yl(o,a,o.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(s(166));if(o=fn(Fs.current),h=fn(Er.current),Ml(a)){if(!Ce)throw Error(s(176));if(o=a.stateNode,h=a.memoizedProps,(f=nb(o,h,a,!Go))&&(m=lr)!==null)switch(m.tag){case 3:hb(m.stateNode.containerInfo,o,h,(1&m.mode)!=0);break;case 5:db(m.type,m.memoizedProps,m.stateNode,o,h,(1&m.mode)!=0)}f&&mn(a)}else a.stateNode=xe(f,o,h,a)}return Gt(a),null;case 13:if($e(tt),f=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(He&&br!==null&&1&a.mode&&!(128&a.flags))Yg(),ks(),a.flags|=98560,m=!1;else if(m=Ml(a),f!==null&&f.dehydrated!==null){if(o===null){if(!m)throw Error(s(318));if(!Ce)throw Error(s(344));if(!(m=(m=a.memoizedState)!==null?m.dehydrated:null))throw Error(s(317));ib(m,a)}else ks(),!(128&a.flags)&&(a.memoizedState=null),a.flags|=4;Gt(a),m=!1}else Ur!==null&&(Gd(Ur),Ur=null),m=!0;if(!m)return 65536&a.flags?a:null}return 128&a.flags?(a.lanes=h,a):((h=f!==null)!=(o!==null&&o.memoizedState!==null)&&h&&(a.child.flags|=8192,1&a.mode&&(o===null||1&tt.current?dt===0&&(dt=3):Hd())),a.updateQueue!==null&&(a.flags|=4),Gt(a),null);case 4:return Ls(),Ko(o,a),o===null&&xr(a.stateNode.containerInfo),Gt(a),null;case 10:return td(a.type._context),Gt(a),null;case 19:if($e(tt),(m=a.memoizedState)===null)return Gt(a),null;if(f=(128&a.flags)!=0,(v=m.rendering)===null)if(f)Zo(m,!1);else{if(dt!==0||o!==null&&128&o.flags)for(o=a.child;o!==null;){if((v=jl(o))!==null){for(a.flags|=128,Zo(m,!1),(o=v.updateQueue)!==null&&(a.updateQueue=o,a.flags|=4),a.subtreeFlags=0,o=h,h=a.child;h!==null;)m=o,(f=h).flags&=14680066,(v=f.alternate)===null?(f.childLanes=0,f.lanes=m,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=v.childLanes,f.lanes=v.lanes,f.child=v.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=v.memoizedProps,f.memoizedState=v.memoizedState,f.updateQueue=v.updateQueue,f.type=v.type,m=v.dependencies,f.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),h=h.sibling;return Be(tt,1&tt.current|2),a.child}o=o.sibling}m.tail!==null&&yt()>Dd&&(a.flags|=128,f=!0,Zo(m,!1),a.lanes=4194304)}else{if(!f)if((o=jl(v))!==null){if(a.flags|=128,f=!0,(o=o.updateQueue)!==null&&(a.updateQueue=o,a.flags|=4),Zo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!He)return Gt(a),null}else 2*yt()-m.renderingStartTime>Dd&&h!==1073741824&&(a.flags|=128,f=!0,Zo(m,!1),a.lanes=4194304);m.isBackwards?(v.sibling=a.child,a.child=v):((o=m.last)!==null?o.sibling=v:a.child=v,m.last=v)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=yt(),a.sibling=null,o=tt.current,Be(tt,f?1&o|2:1&o),a):(Gt(a),null);case 22:case 23:return $d(),h=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==h&&(a.flags|=8192),h&&1&a.mode?1073741824&ur&&(Gt(a),we&&6&a.subtreeFlags&&(a.flags|=8192)):Gt(a),null;case 24:case 25:return null}throw Error(s(156,a.tag))}function Mb(o,a){switch(Qh(a),a.tag){case 1:return ar(a.type)&&Uh(),65536&(o=a.flags)?(a.flags=-65537&o|128,a):null;case 3:return Ls(),$e(Yt),$e(Nt),cd(),65536&(o=a.flags)&&!(128&o)?(a.flags=-65537&o|128,a):null;case 5:return ld(a),null;case 13:if($e(tt),(o=a.memoizedState)!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(s(340));ks()}return 65536&(o=a.flags)?(a.flags=-65537&o|128,a):null;case 19:return $e(tt),null;case 4:return Ls(),null;case 10:return td(a.type._context),null;case 22:case 23:return $d(),null;default:return null}}var Kl=!1,Ft=!1,Fb=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Bs(o,a){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(f){Ve(o,a,f)}else h.current=null}function X0(o,a,h){try{h()}catch(f){Ve(o,a,f)}}var Y0=!1;function Jo(o,a,h){var f=a.updateQueue;if((f=f!==null?f.lastEffect:null)!==null){var m=f=f.next;do{if((m.tag&o)===o){var v=m.destroy;m.destroy=void 0,v!==void 0&&X0(a,h,v)}m=m.next}while(m!==f)}}function Zl(o,a){if((a=(a=a.updateQueue)!==null?a.lastEffect:null)!==null){var h=a=a.next;do{if((h.tag&o)===o){var f=h.create;h.destroy=f()}h=h.next}while(h!==a)}}function Id(o){var a=o.ref;if(a!==null){var h=o.stateNode;o.tag===5?o=ye(h):o=h,typeof a=="function"?a(o):a.current=o}}function Q0(o){var a=o.alternate;a!==null&&(o.alternate=null,Q0(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode)!==null&&Mh(a),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function q0(o){return o.tag===5||o.tag===3||o.tag===4}function K0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||q0(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(2&o.flags||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(2&o.flags))return o.stateNode}}function Ad(o,a,h){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?DS(h,o,a):MS(h,o);else if(f!==4&&(o=o.child)!==null)for(Ad(o,a,h),o=o.sibling;o!==null;)Ad(o,a,h),o=o.sibling}function Rd(o,a,h){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?BS(h,o,a):NS(h,o);else if(f!==4&&(o=o.child)!==null)for(Rd(o,a,h),o=o.sibling;o!==null;)Rd(o,a,h),o=o.sibling}var $t=null,gn=!1;function yn(o,a,h){for(h=h.child;h!==null;)kd(o,a,h),h=h.sibling}function kd(o,a,h){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Rl,h)}catch{}switch(h.tag){case 5:Ft||Bs(h,a);case 6:if(we){var f=$t,m=gn;$t=null,yn(o,a,h),gn=m,($t=f)!==null&&(gn?zS($t,h.stateNode):US($t,h.stateNode))}else yn(o,a,h);break;case 18:we&&$t!==null&&(gn?ub($t,h.stateNode):lb($t,h.stateNode));break;case 4:we?(f=$t,m=gn,$t=h.stateNode.containerInfo,gn=!0,yn(o,a,h),$t=f,gn=m):(Ue&&(f=h.stateNode.containerInfo,m=Pg(f),Fh(f,m)),yn(o,a,h));break;case 0:case 11:case 14:case 15:if(!Ft&&(f=h.updateQueue)!==null&&(f=f.lastEffect)!==null){m=f=f.next;do{var v=m,E=v.destroy;v=v.tag,E!==void 0&&(2&v||4&v)&&X0(h,a,E),m=m.next}while(m!==f)}yn(o,a,h);break;case 1:if(!Ft&&(Bs(h,a),typeof(f=h.stateNode).componentWillUnmount=="function"))try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(A){Ve(h,a,A)}yn(o,a,h);break;case 21:yn(o,a,h);break;case 22:1&h.mode?(Ft=(f=Ft)||h.memoizedState!==null,yn(o,a,h),Ft=f):yn(o,a,h);break;default:yn(o,a,h)}}function Z0(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new Fb),a.forEach(function(f){var m=jb.bind(null,o,f);h.has(f)||(h.add(f),f.then(m,m))})}}function jr(o,a){var h=a.deletions;if(h!==null)for(var f=0;f<h.length;f++){var m=h[f];try{var v=o,E=a;if(we){var A=E;e:for(;A!==null;){switch(A.tag){case 5:$t=A.stateNode,gn=!1;break e;case 3:case 4:$t=A.stateNode.containerInfo,gn=!0;break e}A=A.return}if($t===null)throw Error(s(160));kd(v,E,m),$t=null,gn=!1}else kd(v,E,m);var N=m.alternate;N!==null&&(N.return=null),m.return=null}catch(D){Ve(m,a,D)}}if(12854&a.subtreeFlags)for(a=a.child;a!==null;)J0(a,o),a=a.sibling}function J0(o,a){var h=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(jr(a,o),vn(o),4&f){try{Jo(3,o,o.return),Zl(3,o)}catch(U){Ve(o,o.return,U)}try{Jo(5,o,o.return)}catch(U){Ve(o,o.return,U)}}break;case 1:jr(a,o),vn(o),512&f&&h!==null&&Bs(h,h.return);break;case 5:if(jr(a,o),vn(o),512&f&&h!==null&&Bs(h,h.return),we){if(32&o.flags){var m=o.stateNode;try{kg(m)}catch(U){Ve(o,o.return,U)}}if(4&f&&(m=o.stateNode)!=null){var v=o.memoizedProps;if(h=h!==null?h.memoizedProps:v,f=o.type,a=o.updateQueue,o.updateQueue=null,a!==null)try{OS(m,a,f,h,v,o)}catch(U){Ve(o,o.return,U)}}}break;case 6:if(jr(a,o),vn(o),4&f&&we){if(o.stateNode===null)throw Error(s(162));m=o.stateNode,v=o.memoizedProps,h=h!==null?h.memoizedProps:v;try{FS(m,h,v)}catch(U){Ve(o,o.return,U)}}break;case 3:if(jr(a,o),vn(o),4&f){if(we&&Ce&&h!==null&&h.memoizedState.isDehydrated)try{ob(a.containerInfo)}catch(U){Ve(o,o.return,U)}if(Ue){m=a.containerInfo,v=a.pendingChildren;try{Fh(m,v)}catch(U){Ve(o,o.return,U)}}}break;case 4:if(jr(a,o),vn(o),4&f&&Ue){m=(v=o.stateNode).containerInfo,v=v.pendingChildren;try{Fh(m,v)}catch(U){Ve(o,o.return,U)}}break;case 13:jr(a,o),vn(o),8192&(m=o.child).flags&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Bd=yt())),4&f&&Z0(o);break;case 22:var E=h!==null&&h.memoizedState!==null;if(1&o.mode?(Ft=(h=Ft)||E,jr(a,o),Ft=h):jr(a,o),vn(o),8192&f){if(h=o.memoizedState!==null,(o.stateNode.isHidden=h)&&!E&&(1&o.mode)!=0)for(ne=o,f=o.child;f!==null;){for(a=ne=f;ne!==null;){var A=(E=ne).child;switch(E.tag){case 0:case 11:case 14:case 15:Jo(4,E,E.return);break;case 1:Bs(E,E.return);var N=E.stateNode;if(typeof N.componentWillUnmount=="function"){var D=E,z=E.return;try{var Z=D;N.props=Z.memoizedProps,N.state=Z.memoizedState,N.componentWillUnmount()}catch(U){Ve(D,z,U)}}break;case 5:Bs(E,E.return);break;case 22:if(E.memoizedState!==null){ry(a);continue}}A!==null?(A.return=E,ne=A):ry(a)}f=f.sibling}if(we){e:if(f=null,we)for(a=o;;){if(a.tag===5){if(f===null){f=a;try{m=a.stateNode,h?jS(m):$S(a.stateNode,a.memoizedProps)}catch(U){Ve(o,o.return,U)}}}else if(a.tag===6){if(f===null)try{v=a.stateNode,h?GS(v):HS(v,a.memoizedProps)}catch(U){Ve(o,o.return,U)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===o)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;f===a&&(f=null),a=a.return}f===a&&(f=null),a.sibling.return=a.return,a=a.sibling}}}break;case 19:jr(a,o),vn(o),4&f&&Z0(o);break;case 21:break;default:jr(a,o),vn(o)}}function vn(o){var a=o.flags;if(2&a){try{if(we){e:{for(var h=o.return;h!==null;){if(q0(h)){var f=h;break e}h=h.return}throw Error(s(160))}switch(f.tag){case 5:var m=f.stateNode;32&f.flags&&(kg(m),f.flags&=-33),Rd(o,K0(o),m);break;case 3:case 4:var v=f.stateNode.containerInfo;Ad(o,K0(o),v);break;default:throw Error(s(161))}}}catch(E){Ve(o,o.return,E)}o.flags&=-3}4096&a&&(o.flags&=-4097)}function Lb(o,a,h){ne=o,ey(o)}function ey(o,a,h){for(var f=(1&o.mode)!=0;ne!==null;){var m=ne,v=m.child;if(m.tag===22&&f){var E=m.memoizedState!==null||Kl;if(!E){var A=m.alternate,N=A!==null&&A.memoizedState!==null||Ft;A=Kl;var D=Ft;if(Kl=E,(Ft=N)&&!D)for(ne=m;ne!==null;)N=(E=ne).child,E.tag===22&&E.memoizedState!==null?ny(m):N!==null?(N.return=E,ne=N):ny(m);for(;v!==null;)ne=v,ey(v),v=v.sibling;ne=m,Kl=A,Ft=D}ty(o)}else 8772&m.subtreeFlags&&v!==null?(v.return=m,ne=v):ty(o)}}function ty(o){for(;ne!==null;){var a=ne;if(8772&a.flags){var h=a.alternate;try{if(8772&a.flags)switch(a.tag){case 0:case 11:case 15:Ft||Zl(5,a);break;case 1:var f=a.stateNode;if(4&a.flags&&!Ft)if(h===null)f.componentDidMount();else{var m=a.elementType===a.type?h.memoizedProps:zr(a.type,h.memoizedProps);f.componentDidUpdate(m,h.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=a.updateQueue;v!==null&&Jg(a,v,f);break;case 3:var E=a.updateQueue;if(E!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=ye(a.child.stateNode);break;case 1:h=a.child.stateNode}Jg(a,E,h)}break;case 5:var A=a.stateNode;h===null&&4&a.flags&&LS(A,a.type,a.memoizedProps,a);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Ce&&a.memoizedState===null){var N=a.alternate;if(N!==null){var D=N.memoizedState;if(D!==null){var z=D.dehydrated;z!==null&&ab(z)}}}break;default:throw Error(s(163))}Ft||512&a.flags&&Id(a)}catch(Z){Ve(a,a.return,Z)}}if(a===o){ne=null;break}if((h=a.sibling)!==null){h.return=a.return,ne=h;break}ne=a.return}}function ry(o){for(;ne!==null;){var a=ne;if(a===o){ne=null;break}var h=a.sibling;if(h!==null){h.return=a.return,ne=h;break}ne=a.return}}function ny(o){for(;ne!==null;){var a=ne;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{Zl(4,a)}catch(N){Ve(a,h,N)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var m=a.return;try{f.componentDidMount()}catch(N){Ve(a,m,N)}}var v=a.return;try{Id(a)}catch(N){Ve(a,v,N)}break;case 5:var E=a.return;try{Id(a)}catch(N){Ve(a,E,N)}}}catch(N){Ve(a,a.return,N)}if(a===o){ne=null;break}var A=a.sibling;if(A!==null){A.return=a.return,ne=A;break}ne=a.return}}var Jl=0,eu=1,tu=2,ru=3,nu=4;if(typeof Symbol=="function"&&Symbol.for){var ea=Symbol.for;Jl=ea("selector.component"),eu=ea("selector.has_pseudo_class"),tu=ea("selector.role"),ru=ea("selector.test_id"),nu=ea("selector.text")}function Pd(o){var a=_r(o);if(a!=null){if(typeof a.memoizedProps["data-testname"]!="string")throw Error(s(364));return a}if((o=CS(o))===null)throw Error(s(362));return o.stateNode.current}function Nd(o,a){switch(a.$$typeof){case Jl:if(o.type===a.value)return!0;break;case eu:e:{a=a.value,o=[o,0];for(var h=0;h<o.length;){var f=o[h++],m=o[h++],v=a[m];if(f.tag!==5||!Do(f)){for(;v!=null&&Nd(f,v);)v=a[++m];if(m===a.length){a=!0;break e}for(f=f.child;f!==null;)o.push(f,m),f=f.sibling}}a=!1}return a;case tu:if(o.tag===5&&RS(o.stateNode,a.value))return!0;break;case nu:if((o.tag===5||o.tag===6)&&(o=AS(o))!==null&&0<=o.indexOf(a.value))return!0;break;case ru:if(o.tag===5&&typeof(o=o.memoizedProps["data-testname"])=="string"&&o.toLowerCase()===a.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function Md(o){switch(o.$$typeof){case Jl:return"<"+(O(o.value)||"Unknown")+">";case eu:return":has("+(Md(o)||"")+")";case tu:return'[role="'+o.value+'"]';case nu:return'"'+o.value+'"';case ru:return'[data-testname="'+o.value+'"]';default:throw Error(s(365))}}function iy(o,a){var h=[];o=[o,0];for(var f=0;f<o.length;){var m=o[f++],v=o[f++],E=a[v];if(m.tag!==5||!Do(m)){for(;E!=null&&Nd(m,E);)E=a[++v];if(v===a.length)h.push(m);else for(m=m.child;m!==null;)o.push(m,v),m=m.sibling}}return h}function Fd(o,a){if(!Bo)throw Error(s(363));o=iy(o=Pd(o),a),a=[],o=Array.from(o);for(var h=0;h<o.length;){var f=o[h++];if(f.tag===5)Do(f)||a.push(f.stateNode);else for(f=f.child;f!==null;)o.push(f),f=f.sibling}return a}var Ob=Math.ceil,iu=l.ReactCurrentDispatcher,Ld=l.ReactCurrentOwner,st=l.ReactCurrentBatchConfig,Te=0,xt=null,ut=null,Ct=0,ur=0,Ds=ri(0),dt=0,ta=null,Wi=0,su=0,Od=0,ra=null,cr=null,Bd=0,Dd=1/0,oi=null;function Us(){Dd=yt()+500}var sy,ou=!1,Ud=null,ai=null,au=!1,li=null,lu=0,na=0,zd=null,uu=-1,cu=0;function Lt(){return 6&Te?yt():uu!==-1?uu:uu=yt()}function ui(o){return 1&o.mode?2&Te&&Ct!==0?Ct&-Ct:wb.transition!==null?(cu===0&&(cu=Ug()),cu):(o=Ie)!==0?o:zi():1}function Ir(o,a,h,f){if(50<na)throw na=0,zd=null,Error(s(185));jo(o,h,f),2&Te&&o===xt||(o===xt&&(!(2&Te)&&(su|=h),dt===4&&ci(o,Ct)),Kt(o,f),h===1&&Te===0&&!(1&a.mode)&&(Us(),kl&&cn()))}function Kt(o,a){var h=o.callbackNode;(function(m,v){for(var E=m.suspendedLanes,A=m.pingedLanes,N=m.expirationTimes,D=m.pendingLanes;0<D;){var z=31-Br(D),Z=1<<z,U=N[z];U===-1?Z&E&&!(Z&A)||(N[z]=gb(Z,v)):U<=v&&(m.expiredLanes|=Z),D&=~Z}})(o,a);var f=Al(o,o===xt?Ct:0);if(f===0)h!==null&&jg(h),o.callbackNode=null,o.callbackPriority=0;else if(a=f&-f,o.callbackPriority!==a){if(h!=null&&jg(h),a===1)o.tag===0?function(m){kl=!0,$g(m)}(ay.bind(null,o)):$g(ay.bind(null,o)),Es?ES(function(){!(6&Te)&&cn()}):Vh(Wh,cn),h=null;else{switch(zg(f)){case 1:h=Wh;break;case 4:h=_b;break;case 16:default:h=Gg;break;case 536870912:h=xb}h=my(h,oy.bind(null,o))}o.callbackPriority=a,o.callbackNode=h}}function oy(o,a){if(uu=-1,cu=0,(6&Te)!=0)throw Error(s(327));var h=o.callbackNode;if(Yi()&&o.callbackNode!==h)return null;var f=Al(o,o===xt?Ct:0);if(f===0)return null;if(30&f||f&o.expiredLanes||a)a=hu(o,f);else{a=f;var m=Te;Te|=2;var v=cy();for(xt===o&&Ct===a||(oi=null,Us(),Xi(o,a));;)try{Db();break}catch(A){uy(o,A)}ed(),iu.current=v,Te=m,ut!==null?a=0:(xt=null,Ct=0,a=dt)}if(a!==0){if(a===2&&(m=Gh(o))!==0&&(f=m,a=jd(o,m)),a===1)throw h=ta,Xi(o,0),ci(o,f),Kt(o,yt()),h;if(a===6)ci(o,f);else{if(m=o.current.alternate,(30&f)==0&&!function(A){for(var N=A;;){if(16384&N.flags){var D=N.updateQueue;if(D!==null&&(D=D.stores)!==null)for(var z=0;z<D.length;z++){var Z=D[z],U=Z.getSnapshot;Z=Z.value;try{if(!Dr(U(),Z))return!1}catch{return!1}}}if(D=N.child,16384&N.subtreeFlags&&D!==null)D.return=N,N=D;else{if(N===A)break;for(;N.sibling===null;){if(N.return===null||N.return===A)return!0;N=N.return}N.sibling.return=N.return,N=N.sibling}}return!0}(m)&&((a=hu(o,f))===2&&(v=Gh(o))!==0&&(f=v,a=jd(o,v)),a===1))throw h=ta,Xi(o,0),ci(o,f),Kt(o,yt()),h;switch(o.finishedWork=m,o.finishedLanes=f,a){case 0:case 1:throw Error(s(345));case 2:case 5:zs(o,cr,oi);break;case 3:if(ci(o,f),(130023424&f)===f&&10<(a=Bd+500-yt())){if(Al(o,0)!==0)break;if(((m=o.suspendedLanes)&f)!==f){Lt(),o.pingedLanes|=o.suspendedLanes&m;break}o.timeoutHandle=ke(zs.bind(null,o,cr,oi),a);break}zs(o,cr,oi);break;case 4:if(ci(o,f),(4194240&f)===f)break;for(a=o.eventTimes,m=-1;0<f;){var E=31-Br(f);v=1<<E,(E=a[E])>m&&(m=E),f&=~v}if(f=m,10<(f=(120>(f=yt()-f)?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Ob(f/1960))-f)){o.timeoutHandle=ke(zs.bind(null,o,cr,oi),f);break}zs(o,cr,oi);break;default:throw Error(s(329))}}}return Kt(o,yt()),o.callbackNode===h?oy.bind(null,o):null}function jd(o,a){var h=ra;return o.current.memoizedState.isDehydrated&&(Xi(o,a).flags|=256),(o=hu(o,a))!==2&&(a=cr,cr=h,a!==null&&Gd(a)),o}function Gd(o){cr===null?cr=o:cr.push.apply(cr,o)}function ci(o,a){for(a&=~Od,a&=~su,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var h=31-Br(a),f=1<<h;o[h]=-1,a&=~f}}function ay(o){if(6&Te)throw Error(s(327));Yi();var a=Al(o,0);if(!(1&a))return Kt(o,yt()),null;var h=hu(o,a);if(o.tag!==0&&h===2){var f=Gh(o);f!==0&&(a=f,h=jd(o,f))}if(h===1)throw h=ta,Xi(o,0),ci(o,a),Kt(o,yt()),h;if(h===6)throw Error(s(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,zs(o,cr,oi),Kt(o,yt()),null}function ly(o){li!==null&&li.tag===0&&!(6&Te)&&Yi();var a=Te;Te|=1;var h=st.transition,f=Ie;try{if(st.transition=null,Ie=1,o)return o()}finally{Ie=f,st.transition=h,!(6&(Te=a))&&cn()}}function $d(){ur=Ds.current,$e(Ds)}function Xi(o,a){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==Et&&(o.timeoutHandle=Et,gt(h)),ut!==null)for(h=ut.return;h!==null;){var f=h;switch(Qh(f),f.tag){case 1:(f=f.type.childContextTypes)!=null&&Uh();break;case 3:Ls(),$e(Yt),$e(Nt),cd();break;case 5:ld(f);break;case 4:Ls();break;case 13:case 19:$e(tt);break;case 10:td(f.type._context);break;case 22:case 23:$d()}h=h.return}if(xt=o,ut=o=hi(o.current,null),Ct=ur=a,dt=0,ta=null,Od=su=Wi=0,cr=ra=null,Hi!==null){for(a=0;a<Hi.length;a++)if((f=(h=Hi[a]).interleaved)!==null){h.interleaved=null;var m=f.next,v=h.pending;if(v!==null){var E=v.next;v.next=m,f.next=E}h.pending=f}Hi=null}return o}function uy(o,a){for(;;){var h=ut;try{if(ed(),Gl.current=Wl,$l){for(var f=Ye.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}$l=!1}if(Vi=0,_t=vt=Ye=null,Wo=!1,Xo=0,Ld.current=null,h===null||h.return===null){dt=1,ta=a,ut=null;break}e:{var v=o,E=h.return,A=h,N=a;if(a=Ct,A.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var D=N,z=A,Z=z.tag;if(!(1&z.mode)&&(Z===0||Z===11||Z===15)){var U=z.alternate;U?(z.updateQueue=U.updateQueue,z.memoizedState=U.memoizedState,z.lanes=U.lanes):(z.updateQueue=null,z.memoizedState=null)}var Y=N0(E);if(Y!==null){Y.flags&=-257,M0(Y,E,A,0,a),1&Y.mode&&P0(v,D,a),N=D;var oe=(a=Y).updateQueue;if(oe===null){var ve=new Set;ve.add(N),a.updateQueue=ve}else oe.add(N);break e}if(!(1&a)){P0(v,D,a),Hd();break e}N=Error(s(426))}else if(He&&1&A.mode){var j=N0(E);if(j!==null){!(65536&j.flags)&&(j.flags|=256),M0(j,E,A,0,a),Zh(Os(N,A));break e}}v=N=Os(N,A),dt!==4&&(dt=2),ra===null?ra=[v]:ra.push(v),v=E;do{switch(v.tag){case 3:v.flags|=65536,a&=-a,v.lanes|=a,Zg(v,R0(0,N,a));break e;case 1:A=N;var R=v.type,B=v.stateNode;if(!(128&v.flags)&&(typeof R.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(ai===null||!ai.has(B)))){v.flags|=65536,a&=-a,v.lanes|=a,Zg(v,k0(v,A,a));break e}}v=v.return}while(v!==null)}dy(h)}catch($){a=$,ut===h&&h!==null&&(ut=h=h.return);continue}break}}function cy(){var o=iu.current;return iu.current=Wl,o===null?Wl:o}function Hd(){dt!==0&&dt!==3&&dt!==2||(dt=4),xt===null||!(268435455&Wi)&&!(268435455&su)||ci(xt,Ct)}function hu(o,a){var h=Te;Te|=2;var f=cy();for(xt===o&&Ct===a||(oi=null,Xi(o,a));;)try{Bb();break}catch(m){uy(o,m)}if(ed(),Te=h,iu.current=f,ut!==null)throw Error(s(261));return xt=null,Ct=0,dt}function Bb(){for(;ut!==null;)hy(ut)}function Db(){for(;ut!==null&&!yb();)hy(ut)}function hy(o){var a=sy(o.alternate,o,ur);o.memoizedProps=o.pendingProps,a===null?dy(o):ut=a,Ld.current=null}function dy(o){var a=o;do{var h=a.alternate;if(o=a.return,(32768&a.flags)==0){if((h=Nb(h,a,ur))!==null)return void(ut=h)}else{if((h=Mb(h,a))!==null)return h.flags&=32767,void(ut=h);if(o===null)return dt=6,void(ut=null);o.flags|=32768,o.subtreeFlags=0,o.deletions=null}if((a=a.sibling)!==null)return void(ut=a);ut=a=o}while(a!==null);dt===0&&(dt=5)}function zs(o,a,h){var f=Ie,m=st.transition;try{st.transition=null,Ie=1,function(v,E,A,N){do Yi();while(li!==null);if(6&Te)throw Error(s(327));A=v.finishedWork;var D=v.finishedLanes;if(A===null)return null;if(v.finishedWork=null,v.finishedLanes=0,A===v.current)throw Error(s(177));v.callbackNode=null,v.callbackPriority=0;var z=A.lanes|A.childLanes;if(function(Y,oe){var ve=Y.pendingLanes&~oe;Y.pendingLanes=oe,Y.suspendedLanes=0,Y.pingedLanes=0,Y.expiredLanes&=oe,Y.mutableReadLanes&=oe,Y.entangledLanes&=oe,oe=Y.entanglements;var j=Y.eventTimes;for(Y=Y.expirationTimes;0<ve;){var R=31-Br(ve),B=1<<R;oe[R]=0,j[R]=-1,Y[R]=-1,ve&=~B}}(v,z),v===xt&&(ut=xt=null,Ct=0),!(2064&A.subtreeFlags)&&!(2064&A.flags)||au||(au=!0,my(Gg,function(){return Yi(),null})),z=(15990&A.flags)!=0,(15990&A.subtreeFlags)!=0||z){z=st.transition,st.transition=null;var Z=Ie;Ie=1;var U=Te;Te|=4,Ld.current=null,function(Y,oe){for(G(Y.containerInfo),ne=oe;ne!==null;)if(oe=(Y=ne).child,(1028&Y.subtreeFlags)!=0&&oe!==null)oe.return=Y,ne=oe;else for(;ne!==null;){Y=ne;try{var ve=Y.alternate;if(1024&Y.flags)switch(Y.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(ve!==null){var j=ve.memoizedProps,R=ve.memoizedState,B=Y.stateNode,$=B.getSnapshotBeforeUpdate(Y.elementType===Y.type?j:zr(Y.type,j),R);B.__reactInternalSnapshotBeforeUpdate=$}break;case 3:we&&VS(Y.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(he){Ve(Y,Y.return,he)}if((oe=Y.sibling)!==null){oe.return=Y.return,ne=oe;break}ne=Y.return}ve=Y0,Y0=!1}(v,A),J0(A,v),k(v.containerInfo),v.current=A,Lb(A),vb(),Te=U,Ie=Z,st.transition=z}else v.current=A;if(au&&(au=!1,li=v,lu=D),z=v.pendingLanes,z===0&&(ai=null),function(Y){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Rl,Y,void 0,(128&Y.current.flags)==128)}catch{}}(A.stateNode),Kt(v,yt()),E!==null)for(N=v.onRecoverableError,A=0;A<E.length;A++)D=E[A],N(D.value,{componentStack:D.stack,digest:D.digest});if(ou)throw ou=!1,v=Ud,Ud=null,v;1&lu&&v.tag!==0&&Yi(),z=v.pendingLanes,1&z?v===zd?na++:(na=0,zd=v):na=0,cn()}(o,a,h,f)}finally{st.transition=m,Ie=f}return null}function Yi(){if(li!==null){var o=zg(lu),a=st.transition,h=Ie;try{if(st.transition=null,Ie=16>o?16:o,li===null)var f=!1;else{if(o=li,li=null,lu=0,(6&Te)!=0)throw Error(s(331));var m=Te;for(Te|=4,ne=o.current;ne!==null;){var v=ne,E=v.child;if(16&ne.flags){var A=v.deletions;if(A!==null){for(var N=0;N<A.length;N++){var D=A[N];for(ne=D;ne!==null;){var z=ne;switch(z.tag){case 0:case 11:case 15:Jo(8,z,v)}var Z=z.child;if(Z!==null)Z.return=z,ne=Z;else for(;ne!==null;){var U=(z=ne).sibling,Y=z.return;if(Q0(z),z===D){ne=null;break}if(U!==null){U.return=Y,ne=U;break}ne=Y}}}var oe=v.alternate;if(oe!==null){var ve=oe.child;if(ve!==null){oe.child=null;do{var j=ve.sibling;ve.sibling=null,ve=j}while(ve!==null)}}ne=v}}if(2064&v.subtreeFlags&&E!==null)E.return=v,ne=E;else e:for(;ne!==null;){if(2048&(v=ne).flags)switch(v.tag){case 0:case 11:case 15:Jo(9,v,v.return)}var R=v.sibling;if(R!==null){R.return=v.return,ne=R;break e}ne=v.return}}var B=o.current;for(ne=B;ne!==null;){var $=(E=ne).child;if(2064&E.subtreeFlags&&$!==null)$.return=E,ne=$;else e:for(E=B;ne!==null;){if(2048&(A=ne).flags)try{switch(A.tag){case 0:case 11:case 15:Zl(9,A)}}catch(Me){Ve(A,A.return,Me)}if(A===E){ne=null;break e}var he=A.sibling;if(he!==null){he.return=A.return,ne=he;break e}ne=A.return}}if(Te=m,cn(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Rl,o)}catch{}f=!0}return f}finally{Ie=h,st.transition=a}}return!1}function fy(o,a,h){o=si(o,a=R0(0,a=Os(h,a),1),1),a=Lt(),o!==null&&(jo(o,1,a),Kt(o,a))}function Ve(o,a,h){if(o.tag===3)fy(o,o,h);else for(;a!==null;){if(a.tag===3){fy(a,o,h);break}if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ai===null||!ai.has(f))){a=si(a,o=k0(a,o=Os(h,o),1),1),o=Lt(),a!==null&&(jo(a,1,o),Kt(a,o));break}}a=a.return}}function Ub(o,a,h){var f=o.pingCache;f!==null&&f.delete(a),a=Lt(),o.pingedLanes|=o.suspendedLanes&h,xt===o&&(Ct&h)===h&&(dt===4||dt===3&&(130023424&Ct)===Ct&&500>yt()-Bd?Xi(o,0):Od|=h),Kt(o,a)}function py(o,a){a===0&&(1&o.mode?(a=jh,!(130023424&(jh<<=1))&&(jh=4194304)):a=1);var h=Lt();(o=dn(o,a))!==null&&(jo(o,a,h),Kt(o,h))}function zb(o){var a=o.memoizedState,h=0;a!==null&&(h=a.retryLane),py(o,h)}function jb(o,a){var h=0;switch(o.tag){case 13:var f=o.stateNode,m=o.memoizedState;m!==null&&(h=m.retryLane);break;case 19:f=o.stateNode;break;default:throw Error(s(314))}f!==null&&f.delete(a),py(o,h)}function my(o,a){return Vh(o,a)}function Gb(o,a,h,f){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(o,a,h,f){return new Gb(o,a,h,f)}function Vd(o){return!(!(o=o.prototype)||!o.isReactComponent)}function hi(o,a){var h=o.alternate;return h===null?((h=Ar(o.tag,a,o.key,o.mode)).elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=a,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=14680064&o.flags,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,a=o.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function du(o,a,h,f,m,v){var E=2;if(f=o,typeof o=="function")Vd(o)&&(E=1);else if(typeof o=="string")E=5;else e:switch(o){case d:return Qi(h.children,m,v,a);case p:E=8,m|=8;break;case y:return(o=Ar(12,h,a,2|m)).elementType=y,o.lanes=v,o;case T:return(o=Ar(13,h,a,m)).elementType=T,o.lanes=v,o;case C:return(o=Ar(19,h,a,m)).elementType=C,o.lanes=v,o;case w:return fu(h,m,v,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case g:E=10;break e;case _:E=9;break e;case x:E=11;break e;case b:E=14;break e;case S:E=16,f=null;break e}throw Error(s(130,o==null?o:typeof o,""))}return(a=Ar(E,h,a,m)).elementType=o,a.type=f,a.lanes=v,a}function Qi(o,a,h,f){return(o=Ar(7,o,f,a)).lanes=h,o}function fu(o,a,h,f){return(o=Ar(22,o,f,a)).elementType=w,o.lanes=h,o.stateNode={isHidden:!1},o}function Wd(o,a,h){return(o=Ar(6,o,null,a)).lanes=h,o}function Xd(o,a,h){return(a=Ar(4,o.children!==null?o.children:[],o.key,a)).lanes=h,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function $b(o,a,h,f,m){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Et,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$h(0),this.expirationTimes=$h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$h(0),this.identifierPrefix=f,this.onRecoverableError=m,Ce&&(this.mutableSourceEagerHydrationData=null)}function gy(o,a,h,f,m,v,E,A,N){return o=new $b(o,a,h,A,N),a===1?(a=1,v===!0&&(a|=8)):a=0,v=Ar(3,null,null,a),o.current=v,v.stateNode=o,v.memoizedState={element:f,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},id(v),o}function yy(o){if(!o)return ni;e:{if(L(o=o._reactInternals)!==o||o.tag!==1)throw Error(s(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(ar(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(s(171))}if(o.tag===1){var h=o.type;if(ar(h))return Bg(o,h,a)}return a}function vy(o){var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(s(188)):(o=Object.keys(o).join(","),Error(s(268,o)));return(o=q(a))===null?null:o.stateNode}function _y(o,a){if((o=o.memoizedState)!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<a?h:a}}function pu(o,a){_y(o,a),(o=o.alternate)&&_y(o,a)}function Hb(o){return(o=q(o))===null?null:o.stateNode}function Vb(){return null}return sy=function(o,a,h){if(o!==null)if(o.memoizedProps!==a.pendingProps||Yt.current)Qt=!0;else{if(!(o.lanes&h)&&!(128&a.flags))return Qt=!1,function(Z,U,Y){switch(U.tag){case 3:z0(U),ks();break;case 5:a0(U);break;case 1:ar(U.type)&&Il(U);break;case 4:ad(U,U.stateNode.containerInfo);break;case 10:Qg(0,U.type._context,U.memoizedProps.value);break;case 13:var oe=U.memoizedState;if(oe!==null)return oe.dehydrated!==null?(Be(tt,1&tt.current),U.flags|=128,null):Y&U.child.childLanes?G0(Z,U,Y):(Be(tt,1&tt.current),(Z=Ln(Z,U,Y))!==null?Z.sibling:null);Be(tt,1&tt.current);break;case 19:if(oe=(Y&U.childLanes)!=0,(128&Z.flags)!=0){if(oe)return H0(Z,U,Y);U.flags|=128}var ve=U.memoizedState;if(ve!==null&&(ve.rendering=null,ve.tail=null,ve.lastEffect=null),Be(tt,tt.current),oe)break;return null;case 22:case 23:return U.lanes=0,B0(Z,U,Y)}return Ln(Z,U,Y)}(o,a,h);Qt=(131072&o.flags)!=0}else Qt=!1,He&&1048576&a.flags&&Hg(a,Nl,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;ql(o,a),o=a.pendingProps;var m=Is(a,Nt.current);Ns(a,h),m=fd(null,a,f,o,m,h);var v=pd();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,ar(f)?(v=!0,Il(a)):v=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,id(a),m.updater=Ul,a.stateNode=m,m._reactInternals=a,od(a,f,o,h),a=Sd(null,a,f,!0,v,h)):(a.tag=0,He&&v&&Yh(a),qt(null,a,m,h),a=a.child),a;case 16:f=a.elementType;e:{switch(ql(o,a),o=a.pendingProps,f=(m=f._init)(f._payload),a.type=f,m=a.tag=function(Z){if(typeof Z=="function")return Vd(Z)?1:0;if(Z!=null){if((Z=Z.$$typeof)===x)return 11;if(Z===b)return 14}return 2}(f),o=zr(f,o),m){case 0:a=wd(null,a,f,o,h);break e;case 1:a=U0(null,a,f,o,h);break e;case 11:a=F0(null,a,f,o,h);break e;case 14:a=L0(null,a,f,zr(f.type,o),h);break e}throw Error(s(306,f,""))}return a;case 0:return f=a.type,m=a.pendingProps,wd(o,a,f,m=a.elementType===f?m:zr(f,m),h);case 1:return f=a.type,m=a.pendingProps,U0(o,a,f,m=a.elementType===f?m:zr(f,m),h);case 3:e:{if(z0(a),o===null)throw Error(s(387));f=a.pendingProps,m=(v=a.memoizedState).element,Kg(o,a),Dl(a,f,null,h);var E=a.memoizedState;if(f=E.element,Ce&&v.isDehydrated){if(v={element:f,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},a.updateQueue.baseState=v,a.memoizedState=v,256&a.flags){a=j0(o,a,f,h,m=Os(Error(s(423)),a));break e}if(f!==m){a=j0(o,a,f,h,m=Os(Error(s(424)),a));break e}for(Ce&&(br=eb(a.stateNode.containerInfo),lr=a,He=!0,Ur=null,Go=!1),h=o0(a,null,f,h),a.child=h;h;)h.flags=-3&h.flags|4096,h=h.sibling}else{if(ks(),f===m){a=Ln(o,a,h);break e}qt(o,a,f,h)}a=a.child}return a;case 5:return a0(a),o===null&&Kh(a),f=a.type,m=a.pendingProps,v=o!==null?o.memoizedProps:null,E=m.children,Ne(f,m)?E=null:v!==null&&Ne(f,v)&&(a.flags|=32),D0(o,a),qt(o,a,E,h),a.child;case 6:return o===null&&Kh(a),null;case 13:return G0(o,a,h);case 4:return ad(a,a.stateNode.containerInfo),f=a.pendingProps,o===null?a.child=Ms(a,null,f,h):qt(o,a,f,h),a.child;case 11:return f=a.type,m=a.pendingProps,F0(o,a,f,m=a.elementType===f?m:zr(f,m),h);case 7:return qt(o,a,a.pendingProps,h),a.child;case 8:case 12:return qt(o,a,a.pendingProps.children,h),a.child;case 10:e:{if(f=a.type._context,m=a.pendingProps,v=a.memoizedProps,Qg(0,f,E=m.value),v!==null)if(Dr(v.value,E)){if(v.children===m.children&&!Yt.current){a=Ln(o,a,h);break e}}else for((v=a.child)!==null&&(v.return=a);v!==null;){var A=v.dependencies;if(A!==null){E=v.child;for(var N=A.firstContext;N!==null;){if(N.context===f){if(v.tag===1){(N=Fn(-1,h&-h)).tag=2;var D=v.updateQueue;if(D!==null){var z=(D=D.shared).pending;z===null?N.next=N:(N.next=z.next,z.next=N),D.pending=N}}v.lanes|=h,(N=v.alternate)!==null&&(N.lanes|=h),rd(v.return,h,a),A.lanes|=h;break}N=N.next}}else if(v.tag===10)E=v.type===a.type?null:v.child;else if(v.tag===18){if((E=v.return)===null)throw Error(s(341));E.lanes|=h,(A=E.alternate)!==null&&(A.lanes|=h),rd(E,h,a),E=v.sibling}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===a){E=null;break}if((v=E.sibling)!==null){v.return=E.return,E=v;break}E=E.return}v=E}qt(o,a,m.children,h),a=a.child}return a;case 9:return m=a.type,f=a.pendingProps.children,Ns(a,h),f=f(m=Tr(m)),a.flags|=1,qt(o,a,f,h),a.child;case 14:return m=zr(f=a.type,a.pendingProps),L0(o,a,f,m=zr(f.type,m),h);case 15:return O0(o,a,a.type,a.pendingProps,h);case 17:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:zr(f,m),ql(o,a),a.tag=1,ar(f)?(o=!0,Il(a)):o=!1,Ns(a,h),r0(a,f,m),od(a,f,m,h),Sd(null,a,f,!0,o,h);case 19:return H0(o,a,h);case 22:return B0(o,a,h)}throw Error(s(156,a.tag))},e.attemptContinuousHydration=function(o){if(o.tag===13){var a=dn(o,134217728);a!==null&&Ir(a,o,134217728,Lt()),pu(o,134217728)}},e.attemptDiscreteHydration=function(o){if(o.tag===13){var a=dn(o,1);a!==null&&Ir(a,o,1,Lt()),pu(o,1)}},e.attemptHydrationAtCurrentPriority=function(o){if(o.tag===13){var a=ui(o),h=dn(o,a);h!==null&&Ir(h,o,a,Lt()),pu(o,a)}},e.attemptSynchronousHydration=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var h=zo(a.pendingLanes);h!==0&&(Hh(a,1|h),Kt(a,yt()),!(6&Te)&&(Us(),cn()))}break;case 13:ly(function(){var f=dn(o,1);if(f!==null){var m=Lt();Ir(f,o,1,m)}}),pu(o,1)}},e.batchedUpdates=function(o,a){var h=Te;Te|=1;try{return o(a)}finally{(Te=h)===0&&(Us(),kl&&cn())}},e.createComponentSelector=function(o){return{$$typeof:Jl,value:o}},e.createContainer=function(o,a,h,f,m,v,E){return gy(o,a,!1,null,0,f,0,v,E)},e.createHasPseudoClassSelector=function(o){return{$$typeof:eu,value:o}},e.createHydrationContainer=function(o,a,h,f,m,v,E,A,N){return(o=gy(h,f,!0,o,0,v,0,A,N)).context=yy(null),h=o.current,(v=Fn(f=Lt(),m=ui(h))).callback=a??null,si(h,v,m),o.current.lanes=m,jo(o,m,f),Kt(o,f),o},e.createPortal=function(o,a,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:f==null?null:""+f,children:o,containerInfo:a,implementation:h}},e.createRoleSelector=function(o){return{$$typeof:tu,value:o}},e.createTestNameSelector=function(o){return{$$typeof:ru,value:o}},e.createTextSelector=function(o){return{$$typeof:nu,value:o}},e.deferredUpdates=function(o){var a=Ie,h=st.transition;try{return st.transition=null,Ie=16,o()}finally{Ie=a,st.transition=h}},e.discreteUpdates=function(o,a,h,f,m){var v=Ie,E=st.transition;try{return st.transition=null,Ie=1,o(a,h,f,m)}finally{Ie=v,st.transition=E,Te===0&&Us()}},e.findAllNodes=Fd,e.findBoundingRects=function(o,a){if(!Bo)throw Error(s(363));a=Fd(o,a),o=[];for(var h=0;h<a.length;h++)o.push(IS(a[h]));for(a=o.length-1;0<a;a--)for(var f=(h=o[a]).x,m=f+h.width,v=h.y,E=v+h.height,A=a-1;0<=A;A--)if(a!==A){var N=o[A],D=N.x,z=D+N.width,Z=N.y,U=Z+N.height;if(f>=D&&v>=Z&&m<=z&&E<=U){o.splice(a,1);break}if(!(f!==D||h.width!==N.width||U<v||Z>E)){Z>v&&(N.height+=Z-v,N.y=v),U<E&&(N.height=E-Z),o.splice(a,1);break}if(!(v!==Z||h.height!==N.height||z<f||D>m)){D>f&&(N.width+=D-f,N.x=f),z<m&&(N.width=m-D),o.splice(a,1);break}}return o},e.findHostInstance=vy,e.findHostInstanceWithNoPortals=function(o){return(o=(o=Q(o))!==null?H(o):null)===null?null:o.stateNode},e.findHostInstanceWithWarning=function(o){return vy(o)},e.flushControlled=function(o){var a=Te;Te|=1;var h=st.transition,f=Ie;try{st.transition=null,Ie=1,o()}finally{Ie=f,st.transition=h,(Te=a)===0&&(Us(),cn())}},e.flushPassiveEffects=Yi,e.flushSync=ly,e.focusWithin=function(o,a){if(!Bo)throw Error(s(363));for(a=iy(o=Pd(o),a),a=Array.from(a),o=0;o<a.length;){var h=a[o++];if(!Do(h)){if(h.tag===5&&kS(h.stateNode))return!0;for(h=h.child;h!==null;)a.push(h),h=h.sibling}}return!1},e.getCurrentUpdatePriority=function(){return Ie},e.getFindAllNodesFailureDescription=function(o,a){if(!Bo)throw Error(s(363));var h=0,f=[];o=[Pd(o),0];for(var m=0;m<o.length;){var v=o[m++],E=o[m++],A=a[E];if((v.tag!==5||!Do(v))&&(Nd(v,A)&&(f.push(Md(A)),++E>h&&(h=E)),E<a.length))for(v=v.child;v!==null;)o.push(v,E),v=v.sibling}if(h<a.length){for(o=[];h<a.length;h++)o.push(Md(a[h]));return`findAllNodes was able to match part of the selector:
  `+f.join(" > ")+`

No matching component was found for:
  `+o.join(" > ")}return null},e.getPublicRootInstance=function(o){return(o=o.current).child?o.child.tag===5?ye(o.child.stateNode):o.child.stateNode:null},e.injectIntoDevTools=function(o){if(o={bundleType:o.bundleType,version:o.version,rendererPackageName:o.rendererPackageName,rendererConfig:o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:Hb,findFiberByHostInstance:o.findFiberByHostInstance||Vb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")o=!1;else{var a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(a.isDisabled||!a.supportsFiber)o=!0;else{try{Rl=a.inject(o),un=a}catch{}o=!!a.checkDCE}}return o},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(o,a,h,f){if(!Bo)throw Error(s(363));o=Fd(o,a);var m=PS(o,h,f).disconnect;return{disconnect:function(){m()}}},e.registerMutableSourceForHydration=function(o,a){var h=a._getVersion;h=h(a._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[a,h]:o.mutableSourceEagerHydrationData.push(a,h)},e.runWithPriority=function(o,a){var h=Ie;try{return Ie=o,a()}finally{Ie=h}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(o,a,h,f){var m=a.current,v=Lt(),E=ui(m);return h=yy(h),a.context===null?a.context=h:a.pendingContext=h,(a=Fn(v,E)).payload={element:o},(f=f===void 0?null:f)!==null&&(a.callback=f),(o=si(m,a,E))!==null&&(Ir(o,m,E,v),Bl(o,m,E)),E},e}),O1}({get exports(){return _m},set exports(t){_m=t}}).exports=MR();var FR=oR(_m),mS={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},wm={},Ku={get exports(){return wm},set exports(t){wm=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?Ku.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Ku.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var l;return 1e9*(l=e())[0]+l[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(Ku.exports=function(){return Date.now()-r},r=Date.now()):(Ku.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(sR);var U1,co={},Zi={};({get exports(){return co},set exports(t){co=t}}).exports=(U1||(U1=1,Zi.ConcurrentRoot=1,Zi.ContinuousEventPriority=4,Zi.DefaultEventPriority=16,Zi.DiscreteEventPriority=1,Zi.IdleEventPriority=536870912,Zi.LegacyRoot=0),Zi);var LR={};function qf(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function gS(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&Zn(t.children).forEach(function(s){gS(s,t)})}function z1(t,e){var r;gS(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,l=n.destroyChildren,u=l===void 0||l,c=n.destroyTexture,d=c!==void 0&&c,p=n.destroyBaseTexture,y=p!==void 0&&p;s&&e.destroy({children:u,texture:d,baseTexture:y})}function j1(t,e,r){it(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var n=t.getChildIndex(r);t.addChildAt(e,n)}var G1=null,en=FR({getRootHostContext:function(){return LR},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return co.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return co.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return co.ContinuousEventPriority;default:return co.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=RR[t];if(typeof s=="function"&&(e=s(i,n)),!e){var l=pS[t];l&&((e=l.create(n)).didMount=l.didMount?l.didMount.bind(e):void 0,e.willUnmount=l.willUnmount?l.willUnmount.bind(e):void 0,e.applyProps=l.applyProps?l.applyProps.bind(e):void 0,e.config=l.config)}return e&&((typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:Pn)(e,{},n),e.__reactpixi={root:i}),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return G1=function(l,u,c,d){var p=null;for(var y in c)!d.hasOwnProperty(y)&&c.hasOwnProperty(y)&&c[y]!==null&&(y===ym||(p||(p=[]),p.push(y,null)));for(var g in d){var _=d[g],x=c!==null?c[g]:void 0;!d.hasOwnProperty(g)||_===x||_===null&&x===null||g===ym||(p||(p=[]),p.push(g,_))}return p}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){it(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:wm,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=qf.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=qf.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=qf.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=z1.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=z1.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:j1,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=j1.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,l,u=t&&t.applyProps;typeof u!="function"&&(u=Pn),(u(t,n,i)||G1)&&((s=t.__reactpixi)===null||s===void 0||(l=s.root)===null||l===void 0||l.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),OR=mS.dependencies["react-dom"].replace(/[^0-9.]/g,""),BR=mS.name;en.injectIntoDevTools({bundleType:0,version:OR,rendererPackageName:BR,findHostInstanceByFiber:en.findHostInstance});var ki=new Map;function yS(t){if(it(sr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),ki.has(t)){var e=ki.get(t).pixiFiberContainer;en.updateContainer(null,e,void 0,function(){ki.delete(t)})}}function vS(t){it(sr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=ki.get(t);if(it(!e,"Pixi React: createRoot should only be called once"),!e){var r=en.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return en.updateContainer(n,r,void 0),en.getPublicRootInstance(r)},unmount:function(){yS(t),ki.delete(t)}}},ki.set(t,e)}return e.reactRoot}function DR(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),ki.has(e)?n=ki.get(e).reactRoot:n=vS(e),n.render(t)}function UR(t){yS(t)}function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gl.apply(this,arguments)}function zR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hS(n.key),n)}}function Dn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eh(t,e){return eh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},eh(t,e)}function GR(t,e){if(e&&(mr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dn(t)}function th(t){return th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},th(t)}var Nh=En.createContext(null),_S=Nh.Provider,xS=Nh.Consumer,$R=function(t){var e=En.forwardRef(function(r,n){return En.createElement(xS,null,function(i){return En.createElement(t,gl({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function HR(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=th(t);if(e){var i=th(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return GR(this,r)}}function $1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$1(Object(r),!0).forEach(function(n){ot(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var H1=function(){},wS={width:Oe.number,height:Oe.number,onMount:Oe.func,onUnmount:Oe.func,raf:Oe.bool,renderOnComponentChange:Oe.bool,children:Oe.node,options:Oe.shape({autoStart:Oe.bool,width:Oe.number,height:Oe.number,useContextAlpha:Oe.bool,backgroundAlpha:Oe.number,autoDensity:Oe.bool,antialias:Oe.bool,preserveDrawingBuffer:Oe.bool,resolution:Oe.number,forceCanvas:Oe.bool,backgroundColor:Oe.number,clearBeforeRender:Oe.bool,powerPreference:Oe.string,sharedTicker:Oe.bool,sharedLoader:Oe.bool,resizeTo:function(t,e){var r=t[e];r&&it(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(mr(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&it(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(mr(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},VR={width:800,height:600,onMount:H1,onUnmount:H1,raf:!0,renderOnComponentChange:!0},Sm=function(t){(function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),l&&eh(s,l)})(i,En.Component);var e,r,n=HR(i);function i(){var s;zR(this,i);for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return ot(Dn(s=n.call.apply(n,[this].concat(u))),"_canvas",null),ot(Dn(s),"_mediaQuery",null),ot(Dn(s),"_ticker",null),ot(Dn(s),"_needsUpdate",!0),ot(Dn(s),"app",null),ot(Dn(s),"updateSize",function(){var d=s.props,p=d.width,y=d.height,g=d.options;g!=null&&g.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(p,y)}),ot(Dn(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),ot(Dn(s),"renderStage",function(){var d=s.props,p=d.renderOnComponentChange;!d.raf&&p&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,l=s.onMount,u=s.width,c=s.height,d=s.options,p=s.raf,y=s.renderOnComponentChange;this.app=new El(Zu(Zu({width:u,height:c,view:this._canvas},d),{},{autoDensity:(d==null?void 0:d.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[p?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=en.createContainer(this.app.stage),en.updateContainer(this.getChildren(),this.mountNode,this),l(this.app),d!=null&&d.autoDensity&&window.matchMedia&&(d==null?void 0:d.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),y&&!p&&(this._ticker=new Ut,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,l,u){var c,d=this.props,p=d.width,y=d.height,g=d.raf,_=d.renderOnComponentChange,x=d.options;(x==null?void 0:x.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(x==null?void 0:x.resolution)&&(this.app.renderer.resolution=x.resolution,this.resetInteractionManager()),s.height===y&&s.width===p&&((c=s.options)===null||c===void 0?void 0:c.resolution)===(x==null?void 0:x.resolution)||this.updateSize(),s.raf!==g&&this.app.ticker[g?"start":"stop"](),en.updateContainer(this.getChildren(),this.mountNode,this),s.width===p&&s.height===y&&s.raf===g&&s.renderOnComponentChange===_&&s.options===x||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return En.createElement(_S,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,l){console.error("Error occurred in `Stage`."),console.error(s),console.error(l)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),en.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,l,u=this,c=this.props.options;return c&&c.view?(it(c.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):En.createElement("canvas",gl({},(s=this.props,l=[].concat(Zn(Object.keys(wS)),Zn(Object.keys(vm))),Object.keys(s).filter(function(d){return!l.includes(d)}).reduce(function(d,p){return Zu(Zu({},d),{},ot({},p,s[p]))},{})),{ref:function(d){return u._canvas=d}}))}}])&&jR(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();Sm.propTypes=wS,Sm.defaultProps=VR;var WR=Sm;function SS(){var t=bt.useContext(Nh);return it(t instanceof El,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function XR(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=SS();it(typeof t=="function","`useTick` needs a callback function."),it(r instanceof El,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=bt.useRef(null);bt.useEffect(function(){n.current=t},[t]),bt.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function YR(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bm(t,e,r){return bm=YR()?Reflect.construct.bind():function(n,i,s){var l=[null];l.push.apply(l,i);var u=new(Function.bind.apply(n,l));return s&&eh(u,s.prototype),u},bm.apply(null,arguments)}var QR=["children","apply"];function V1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ju(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V1(Object(r),!0).forEach(function(n){ot(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var qR=function(t,e){it(mr(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,l=i.apply,u=Ui(i,QR),c=bt.useRef(bt.useMemo(function(){return r.map(function(y){var g,_=(u==null||(g=u[y])===null||g===void 0?void 0:g.construct)||[];return bm(e[y],Zn(_))})},[r])),d=bt.useMemo(function(){return r.reduce(function(y,g,_){return Ju(Ju({},y),{},ot({},g,c.current[_]))},{})},[r]),p=bt.useMemo(function(){return Object.keys(u).filter(fS(dS(r))).reduce(function(y,g){return Ju(Ju({},y),{},ot({},g,u[g]))},{})},[u,r]);return r.forEach(function(y,g){return Object.assign(c.current[g],u[y])}),l&&function(){for(var y=arguments.length,g=new Array(y),_=0;_<y;_++)g[_]=arguments[_];return g.every(function(x){return typeof x=="function"})}(l)&&l.call(t,d),En.createElement(t,gl({},p,{filters:c.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:Oe.node,apply:Oe.func},n},KR=or.BitmapText,ZR=or.Container,JR=or.Graphics,ek=or.NineSlicePlane,tk=or.ParticleContainer,rk=or.Sprite,nk=or.AnimatedSprite,ik=or.Text,sk=or.TilingSprite,ok=or.SimpleMesh,ak=or.SimpleRope;const lk=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:nk,AppConsumer:xS,AppContext:Nh,AppProvider:_S,BitmapText:KR,Container:ZR,Graphics:JR,NineSlicePlane:ek,ParticleContainer:tk,PixiComponent:kR,PixiFiber:en,SimpleMesh:ok,SimpleRope:ak,Sprite:rk,Stage:WR,TYPES:or,Text:ik,TilingSprite:sk,applyDefaultProps:Pn,createRoot:vS,eventHandlers:Jc,render:DR,unmountComponentAtNode:UR,useApp:SS,useTick:XR,withFilters:qR,withPixiApp:$R},Symbol.toStringTag,{value:"Module"})),uk=Qb(lk);(function(t){t.exports=uk})(vg);const ck="/assets/amFlag-551349f9.jpg",bS="/assets/funny-56693242.png",TS="/assets/d4c-865c4e7b.png";function ec(){const[t,e]=bt.useState({x:0,y:0});return bt.useEffect(()=>{const r=n=>{e({x:n.clientX,y:n.clientY})};return window.addEventListener("mousemove",r),()=>{window.removeEventListener("mousemove",r)}},[]),t}const hk=t=>{const[e,r]=bt.useState({width:0,heigth:0});return bt.useEffect(()=>{r({width:document.body.clientWidth,heigth:document.body.clientHeight})},[document.body.clientWidth,document.body.clientHeight]),za(os.Stage,{id:"canvas",width:e.width,height:e.heigth,options:{backgroundColor:0},children:[er(os.Sprite,{image:ck,scale:.3,x:e.width/1.5,y:e.heigth/2.2,anchor:.5}),za(os.Container,{children:[er(os.Sprite,{scale:e.heigth/1300,image:bS,x:e.width/1.6+ec().x/12,y:e.heigth/2+ec().y/12,anchor:.5}),er(os.Sprite,{scale:e.heigth/1300,image:TS,x:e.width/1.35+ec().x/9,y:e.heigth/2+ec().y/9,anchor:.5})]})]},0)};function dk(t){return er(t_,{children:za("button",{onClick:e=>{t.setStand(t.stand.id),console.log(`current state is: ${t.stand.id}`)},className:"btn",children:[er("p",{className:"name",children:t.stand.name},0),er("img",{src:t.stand.logo,alt:"",className:"logo"},1)]},t.stand.id)})}const W1="/assets/FunnyD4C-5ed99575.png",yl=[{id:0,name:""},{id:1,name:"Funny",logo:W1,master:bS,stand:TS},{id:2,name:"Kira"},{id:3,name:"DIO"},{id:4,name:"Jotaro"},{id:5,name:"Yasuho"},{id:1,name:"Funny",logo:W1},{id:2,name:"Kira"},{id:3,name:"DIO"},{id:4,name:"Jotaro"},{id:5,name:"Yasuho"}];for(let t=0;t<yl.length;t++)yl[t].id=t;function fk(t){return za("div",{className:"wrapper",children:[er("header",{children:er("nav",{children:yl.slice(1).map(e=>er(dk,{currStand:t.currStand,setStand:t.setStand,stand:e}))})}),er("main",{})]})}function pk(){const[t,e]=bt.useState(0);return za(t_,{children:[er(hk,{currStand:t,setStand:e,stand:yl[t]}),er(fk,{currStand:t,setStand:e,stand:yl[t]})]})}Kf.createRoot(document.getElementById("root")).render(er(En.StrictMode,{children:er(pk,{})}))});export default mk();
